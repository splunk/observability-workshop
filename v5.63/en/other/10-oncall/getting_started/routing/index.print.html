<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.125.5"><meta name=generator content="Relearn 6.0.0+tip"><meta name=description content="Aim Routing Keys map the incoming alert messages from your monitoring system to an Escalation Policy which in turn sends the notifications to the appropriate team.
Note that routing keys are case insensitive and should only be composed of letters, numbers, hyphens, and underscores.
The aim of this module is for you to create some routing keys and then link them to your Escalation Policies you have created in the previous exercise."><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating Routing Keys :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Aim Routing Keys map the incoming alert messages from your monitoring system to an Escalation Policy which in turn sends the notifications to the appropriate team.
Note that routing keys are case insensitive and should only be composed of letters, numbers, hyphens, and underscores.
The aim of this module is for you to create some routing keys and then link them to your Escalation Policies you have created in the previous exercise."><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.63/en/other/10-oncall/getting_started/routing/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Creating Routing Keys :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Aim Routing Keys map the incoming alert messages from your monitoring system to an Escalation Policy which in turn sends the notifications to the appropriate team.
Note that routing keys are case insensitive and should only be composed of letters, numbers, hyphens, and underscores.
The aim of this module is for you to create some routing keys and then link them to your Escalation Policies you have created in the previous exercise."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="Ninja Workshops"><meta property="article:modified_time" content="2023-12-21T14:15:53+00:00"><meta itemprop=name content="Creating Routing Keys :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Aim Routing Keys map the incoming alert messages from your monitoring system to an Escalation Policy which in turn sends the notifications to the appropriate team.
Note that routing keys are case insensitive and should only be composed of letters, numbers, hyphens, and underscores.
The aim of this module is for you to create some routing keys and then link them to your Escalation Policies you have created in the previous exercise."><meta itemprop=dateModified content="2023-12-21T14:15:53+00:00"><meta itemprop=wordCount content="594"><title>Creating Routing Keys :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/v5.63/en/other/10-oncall/getting_started/routing/index.html rel=canonical type=text/html title="Creating Routing Keys :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/v5.63/images/favicon.ico?1718817962 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/v5.63/css/fontawesome-all.min.css?1718817976 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.63/css/fontawesome-all.min.css?1718817976 rel=stylesheet></noscript><link href=/observability-workshop/v5.63/css/nucleus.css?1718817976 rel=stylesheet><link href=/observability-workshop/v5.63/css/auto-complete.css?1718817976 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.63/css/auto-complete.css?1718817976 rel=stylesheet></noscript><link href=/observability-workshop/v5.63/css/perfect-scrollbar.min.css?1718817976 rel=stylesheet><link href=/observability-workshop/v5.63/css/fonts.css?1718817976 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.63/css/fonts.css?1718817976 rel=stylesheet></noscript><link href=/observability-workshop/v5.63/css/theme.css?1718817976 rel=stylesheet><link href=/observability-workshop/v5.63/css/theme-splunk-light.css?1718817976 rel=stylesheet id=R-variant-style><link href=/observability-workshop/v5.63/css/chroma-relearn-light.css?1718817976 rel=stylesheet id=R-variant-chroma-style><link href=/observability-workshop/v5.63/css/variant.css?1718817976 rel=stylesheet><link href=/observability-workshop/v5.63/css/print.css?1718817976 rel=stylesheet media=print><link href=/observability-workshop/v5.63/css/format-print.css?1718817976 rel=stylesheet><script src=/observability-workshop/v5.63/js/variant.js?1718817976></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../../../..",window.relearn.relBaseUri="../../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop/v5.63",window.index_js_url="/observability-workshop/v5.63/en/index.search.js",window.variants&&variants.init(["splunk-light","splunk-dark"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"eu0",rumAccessToken:"TR9BBfgYo7qJfqrfgqjoqA",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({app:"observability-workshop",realm:"eu0",rumAccessToken:"TR9BBfgYo7qJfqrfgqjoqA"})</script></script><style>:root{--MAIN-WIDTH-MAX:1000rem;--MENU-WIDTH-L:23rem}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/observability-workshop/v5.63/en/other/10-oncall/getting_started/routing/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.63/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.63/en/other/index.html><span itemprop=name>Ninja Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.63/en/other/10-oncall/index.html><span itemprop=name>Splunk OnCall</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.63/en/other/10-oncall/getting_started/index.html><span itemprop=name>1. Getting Started</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>1.4 Routing Keys</span><meta itemprop=position content="5"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.63/en/other/10-oncall/getting_started/escalation/index.html title="Configure Escalation Policies (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.63/en/other/10-oncall/incident_lifecycle/index.html title="Incident Lifecycle (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=creating-routing-keys>Creating Routing Keys</h1><h2 id=aim>Aim</h2><p>Routing Keys map the incoming alert messages from your monitoring system to an Escalation Policy which in turn sends the notifications to the appropriate team.</p><p>Note that routing keys are case insensitive and should only be composed of letters, numbers, hyphens, and underscores.</p><p>The aim of this module is for you to create some routing keys and then link them to your Escalation Policies you have created in the previous exercise.</p><hr><h2 id=1-instance-id>1. Instance ID</h2><p>Each participant requires a unique Routing Key so we use the Hostname of the EC2 Instance you were allocated. We are only doing this to ensure your Routing Key is unique and we know all Hostnames are unique. In a production deployment the Routing Key would typically reflect the name of a System or Service being monitored, or a Team such as 1st Line Support etc.</p><p>Your welcome e-mail informed you of the details of your EC2 Instance that has been provided for you to use during this workshop and you should have logged into this as part of the 1st exercise.</p><p>The e-mail also contained the Hostname of the Instance, but you can also obtain it from the Instance directly. To get your Hostname from within the shell session connected to your Instance run the following command:</p><div class=tab-panel data-tab-group=50e4085fb851e1121db27a82c54d52b8><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=export-hostname class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("50e4085fb851e1121db27a82c54d52b8","export-hostname")'>
<span class=tab-nav-text>Export Hostname</span>
</button>
<button data-tab-item=example-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("50e4085fb851e1121db27a82c54d52b8","example-output")'>
<span class=tab-nav-text>Example Output</span></button></div><div class=tab-content-container><div data-tab-item=export-hostname class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>HOSTNAME</span><span class=si>}</span></span></span></code></pre></div></div></div><div data-tab-item=example-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>zevn</span></span></code></pre></div></div></div></div></div><p>It is very important that when creating the Routing Keys you use the 4 letter hostname allocated to you as a Detector has been configured within Splunk Infrastructure Monitoring using this hostname, so any deviation will cause future exercises to fail.</p><h2 id=2-create-routing-keys>2 Create Routing Keys</h2><p>Navigate to <strong>Settings</strong> on the main menu bar, you should now be at the <strong>Routing Keys</strong> page.</p><p>You are going to create the following two Routing Keys using the naming conventions listed in the following table, but replacing {==HOSTNAME==} with the value from above and replace <strong><code>TEAM_NAME</code></strong> with the team you were allocated or created earlier.</p><table><thead><tr><th>Routing Key</th><th>Escalation Policies</th></tr></thead><tbody><tr><td><strong><code>HOSTNAME</code></strong>_PRI</td><td><strong><code>TEAM_NAME</code></strong> : Primary</td></tr><tr><td><strong><code>HOSTNAME</code></strong>_WR</td><td><strong><code>TEAM_NAME</code></strong> : Waiting Room</td></tr></tbody></table><p>There will probably already be a number of Routing Keys configured, but to add a new one simply scroll to the bottom of the page and then click <strong>Add Key</strong></p><p>In the left hand box, enter the name for the key as per the table above. In the <strong>Routing Key</strong> column, select your Teams <strong>Primary</strong> policy from the drop down in the <strong>Escalation Polices</strong> column. You can start typing your Team Name to filter the results.</p><p><a href=#R-image-412a2b16bbc5d18a4938c397262299f6 class=lightbox-link><img alt="Add Routing Key" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.63/en/other/10-oncall/getting_started/routing/../../images/routing-key-add.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-412a2b16bbc5d18a4938c397262299f6><img alt="Add Routing Key" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.63/en/other/10-oncall/getting_started/routing/../../images/routing-key-add.png></a></p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Note</div><div class=box-content><p>If there are a large number of participants on the workshop, resulting in an unusually large number of Escalation Policies sometimes the search filter does not list all the Policies under your Team Name. If this happens instead of using the search feature, simply scroll down to your team name, all the policies will then be listed.</p></div></div><p>Repeat the above steps for both Keys, <strong><code>xxxx_PRI</code></strong> and <strong><code>xxxx_WR</code></strong>, mapping them to your Teams Primary and Waiting Room policies.</p><p>You should now have two Routing Keys configured, similar to the following:</p><p><a href=#R-image-696422a995db5a79900da239061c86dd class=lightbox-link><img alt="Routing Keys" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.63/en/other/10-oncall/getting_started/routing/../../images/routing-keys.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-696422a995db5a79900da239061c86dd><img alt="Routing Keys" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.63/en/other/10-oncall/getting_started/routing/../../images/routing-keys.png></a></p><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>You can assign a Routing Key to multiple Escalation Policies if required by simply selecting more from the list</p></div></div><p>If you now navigate back to <strong>Teams â†’ [Your Team Name] â†’ Escalation Policies</strong> and look at the settings for your <strong>Primary</strong> and <strong>Waiting Room</strong> polices you will see that these now have <strong>Routes</strong> assigned to them.</p><p><a href=#R-image-951b6fb1b4fab09bb5c684f73d593834 class=lightbox-link><img alt="Routing Keys Assigned" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.63/en/other/10-oncall/getting_started/routing/../../images/routing-keys-assigned.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-951b6fb1b4fab09bb5c684f73d593834><img alt="Routing Keys Assigned" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.63/en/other/10-oncall/getting_started/routing/../../images/routing-keys-assigned.png></a></p><p>The <strong>24/7</strong> policy does not have a Route assigned as this will only be triggered via an <strong>Execute Policy</strong> escalation from the <strong>Primary</strong> policy.</p><hr><p>Please wait for the instructor before proceeding to the Incident Lifecycle/Overview module.</p><footer class=footline><span class="badge cstyle tip badge-with-title"><span class=badge-title class=text-muted>Last Modified By
</span><span class=badge-content>Robert Castley</span>
</span>&nbsp;
<span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted><i class="fa-fw fas fa-calendar"></i>
</span><span class=badge-content>Dec 21, 2023</span></span></footer></article></div></main></div><script src=/observability-workshop/v5.63/js/clipboard.min.js?1718817976 defer></script><script src=/observability-workshop/v5.63/js/perfect-scrollbar.min.js?1718817976 defer></script><script src=/observability-workshop/v5.63/js/theme.js?1718817976 defer></script></body></html>