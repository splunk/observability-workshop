---
title: カスタムチャートの追加
linkTitle: 2. カスタムチャートの追加
weight: 3
---

ワークショップのこのパートでは、ダッシュボードに追加するチャートを作成し、また以前に構築したディテクターにリンクします。これにより、テストの動作を確認し、1つ以上のテスト実行がSLAを違反した場合にアラートを受け取ることができます。

{{% notice title="演習" style="green" icon="running" %}}

- ダッシュボードの上部にある **+** をクリックし、**チャート**を選択します。
  ![新しいチャート画面](../images/new-chart.png)
- まず、{{% button style="grey" %}}Untitled Chart{{% /button %}}入力フィールドを使用して、チャートに**全体テスト所要時間**という名前を付けます。
- この演習では棒グラフまたは柱状グラフが必要なので、チャートオプションボックスの3番目のアイコン{{% icon icon="chart-bar" %}}をクリックします。
- **Plot editor**の**Signal**ボックスに `synthetics.run.duration.time.ms`（これはテストの実行時間です）と入力し、Enterキーを押します。
- 現在、異なる色の棒が表示されています。テストが実行される各リージョンごとに異なる色になっています。これは必要ないので、分析を追加することでその動作を変更できます。
- {{% button style="blue" %}}Add Analytics{{% /button %}}ボタンをクリックします。
- ドロップダウンから**Mean**オプションを選択し、`mean:aggregation` を選択してダイアログボックスの外をクリックします。メトリクスが集計されるため、チャートが単色に変わることに注目してください。
- x軸は現在、時間を表していません。これを変更するには、プロットラインの最後にある設定{{% icon icon="cog" %}}アイコンをクリックします。次のダイアログが開きます
  ![シグナル設定](../images/signal-setup.png)
- ドロップダウンボックスの**Display Units**（**2**）を**none**から **Time (autoscaling)/Milliseconds(ms)** に変更します。ドロップダウンが**Millisecond**に変わり、チャートのx軸がテスト所要時間を表すようになります。
- 設定{{% icon icon="cog" %}}アイコンをクリックするか、{{% button style="gray" %}}Close{{% /button %}}ボタンをクリックして、ダイアログを閉じます。
- {{% button style="blue" %}}Link Detectir{{% /button %}}ボタンをクリックし、以前に作成したディテクターの名前の入力を開始して、ディテクターを追加します。
- ディテクター名をクリックして選択します。
- チャートの周りに色付きの枠が表示され、アラートのステータスが示されます。また、以下のようにダッシュボードの上部にベルアイコンが表示されることに注目してください
  ![ディテクター追加済み](../images/detector-added.png)
- {{% button style="blue" %}}Save and Close{{% /button %}}ボタンをクリックします。
- ダッシュボードで、チャートを移動して以下のスクリーンショットのように表示させます
  ![サービスヘルスダッシュボード](../images/service-health-dashboard.png)
- 最後のタスクとして、ページ上部（**Event Overlay**の横）にある3つのドット **...** をクリックし、**View fullscreen**をクリックします。これは壁掛けテレビモニターで使用するビューです（元に戻るにはEscキーを押します）。

{{% /notice %}}

{{% notice title="ヒント" style="primary" icon="lightbulb" %}}

時間があれば、RUMメトリクスを使用してダッシュボードにもう1つのカスタムチャートを追加してみてください。既製の**RUM アプリケーション**ダッシュボードグループからチャートをコピーすることができます。または、RUMメトリクス `rum.client_error.count` を使用して、アプリケーションのクライアントエラー数を表示するチャートを作成することもできます。

{{% /notice %}}

最後に、ワークショップのまとめを行います。
