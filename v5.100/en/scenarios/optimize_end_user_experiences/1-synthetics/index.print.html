<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 7.6.1+81b6d3c32c77aeecc29c4700d2123bd2fb3401c2"><meta name=description content="Letâ€™s quickly set up some tests in Synthetics to immediately start understanding our end user experience, without waiting for real users to interact with our app.
We can capture not only the performance and availability of our own apps and endpoints, but also those third parties we rely on any time of the day or night.
Tip If you find that your tests are being bot-blocked, see the docs for tips on how to allow Synthetic testing. if you need to test something that is not accessible externally, see private location instructions."><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Synthetics :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Letâ€™s quickly set up some tests in Synthetics to immediately start understanding our end user experience, without waiting for real users to interact with our app.
We can capture not only the performance and availability of our own apps and endpoints, but also those third parties we rely on any time of the day or night.
Tip If you find that your tests are being bot-blocked, see the docs for tips on how to allow Synthetic testing. if you need to test something that is not accessible externally, see private location instructions."><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/1-synthetics/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Synthetics :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Letâ€™s quickly set up some tests in Synthetics to immediately start understanding our end user experience, without waiting for real users to interact with our app.
We can capture not only the performance and availability of our own apps and endpoints, but also those third parties we rely on any time of the day or night.
Tip If you find that your tests are being bot-blocked, see the docs for tips on how to allow Synthetic testing. if you need to test something that is not accessible externally, see private location instructions."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Synthetics :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Letâ€™s quickly set up some tests in Synthetics to immediately start understanding our end user experience, without waiting for real users to interact with our app.
We can capture not only the performance and availability of our own apps and endpoints, but also those third parties we rely on any time of the day or night.
Tip If you find that your tests are being bot-blocked, see the docs for tips on how to allow Synthetic testing. if you need to test something that is not accessible externally, see private location instructions."><meta itemprop=dateModified content="2024-03-19T18:28:25-04:00"><meta itemprop=wordCount content="92"><title>Synthetics :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/1-synthetics/index.html rel=canonical type=text/html title="Synthetics :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/v5.100/images/favicon.ico?1752769005 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/v5.100/css/auto-complete/auto-complete.min.css?1752769005 rel=stylesheet><script src=/observability-workshop/v5.100/js/auto-complete/auto-complete.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/search-lunr.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/search.min.js?1752769005 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/v5.100/searchindex.en.js?1752769005"</script><script src=/observability-workshop/v5.100/js/lunr/lunr.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/lunr/lunr.stemmer.support.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/lunr/lunr.multi.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/lunr/lunr.en.min.js?1752769005 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/observability-workshop/v5.100/fonts/fontawesome/css/fontawesome-all.min.css?1752769005 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.100/fonts/fontawesome/css/fontawesome-all.min.css?1752769005 rel=stylesheet></noscript><link href=/observability-workshop/v5.100/css/perfect-scrollbar/perfect-scrollbar.min.css?1752769005 rel=stylesheet><link href=/observability-workshop/v5.100/css/theme.min.css?1752769005 rel=stylesheet><link href=/observability-workshop/v5.100/css/format-print.min.css?1752769005 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/scenarios/optimize_end_user_experiences/1-synthetics/index.html",window.relearn.relBasePath="../../../..",window.relearn.relBaseUri="../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop/v5.100",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({app:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg"})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-url=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/1-synthetics/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.100/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.100/en/scenarios/index.html><span itemprop=name>Scenarios</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/index.html><span itemprop=name>Optimize End User Experiences</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Synthetics</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/1-synthetics/index.print.html title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/index.html title="Optimize End User Experiences (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/1-synthetics/1-uptime/index.html title="Uptime Test (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable scenarios" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=synthetics>Synthetics</h1><p>Let&rsquo;s quickly set up some tests in Synthetics to immediately start understanding our end user experience, without waiting for real users to interact with our app.</p><p>We can capture not only the performance and availability of our own apps and endpoints, but also those third parties we rely on any time of the day or night.</p><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>If you find that your tests are being bot-blocked, see the docs for <strong><a href=https://docs.splunk.com/observability/en/synthetics/test-config/synth-configure-app.html rel=external target=_blank>tips on how to allow Synthetic testing</a></strong>. if you need to test something that is not accessible externally, see <strong><a href=https://docs.splunk.com/observability/en/synthetics/test-config/private-locations.html rel=external target=_blank>private location instructions</a></strong>.</div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Mar 19, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of Synthetics</h1><article class=default><header class=headline></header><h1 id=uptime-test>Uptime Test</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<h2 id=introduction>Introduction</h2><p>The simplest way to keep an eye on endpoint availability is with an <a href=https://docs.splunk.com/observability/en/synthetics/uptime-test/uptime-test.html rel=external target=_blank>Uptime test</a>. This lightweight test can run internally or externally around the world, as frequently as every minute. Because this is the easiest (and cheapest!) test to set up, and because this is ideal for monitoring availability of your most critical enpoints and ports, let&rsquo;s start here.</p><h2 id=pre-requisites>Pre-requisites</h2><ul><li>Publicly accessible HTTP(S) endpoint(s) to test</li><li>Access to Splunk Observability Cloud</li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 1. Uptime Test</h1><article class=default><header class=headline></header><h1 id=creating-a-test>Creating a test</h1><ol><li><p>Open Synthetics
<a href=#R-image-f05a08d0b3a481b7accdb34d7d617ce2 class=lightbox-link><img alt="Synthetics navigation item" class="lazy lightbox figure-image" loading=lazy src=../../_img/nav-synthetics.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f05a08d0b3a481b7accdb34d7d617ce2><img alt="Synthetics navigation item" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/nav-synthetics.png></a></p></li><li><p>Click the <span class="btn cstyle blue"><span><span class=title>Add new test</span></span></span> button on the right side of the screen, then select Uptime and HTTP test.
<a href=#R-image-50901248699d423f978d2dce938f350d class=lightbox-link><img alt=image class="lazy lightbox figure-image" loading=lazy src=../../_img/create-uptime.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-50901248699d423f978d2dce938f350d><img alt=image class="lazy lightbox lightbox-image" loading=lazy src=../../_img/create-uptime.png></a></p></li><li><p>Name your test with your <strong>team name</strong> (provided by your workshop instructor), your initials, and any other details you&rsquo;d like to include, like geographic region.</p></li><li><p>For now let&rsquo;s test a <strong>GET</strong> request. Fill in the URL field. You can use one of your own, or one of ours like <a href=https://online-boutique-eu.splunko11y.com rel=external target=_blank>https://online-boutique-eu.splunko11y.com</a>, <a href=https://online-boutique-us.splunko11y.com rel=external target=_blank>https://online-boutique-us.splunko11y.com</a>, or <a href=https://www.splunk.com rel=external target=_blank>https://www.splunk.com</a>.</p></li><li><p>Click <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span> to validate that the endpoint is accessible before the selected location before saving the test. <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span> does not count against your subscription usage, so this is a good practice to make sure you&rsquo;re not wasting real test runs on a misconfigured test.
<a href=#R-image-8e9ef972086d1a0f1979ddbe2b20555f class=lightbox-link><img alt=image class="lazy lightbox figure-image" loading=lazy src=../../_img/try-now.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8e9ef972086d1a0f1979ddbe2b20555f><img alt=image class="lazy lightbox lightbox-image" loading=lazy src=../../_img/try-now.png></a></p></li></ol><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>A common reason for <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span> to fail is that there is a non-2xx response code. If that is expected, add a Validation for the correct response code.</div></details><ol><li><p>Add any additional validations needed, for example: response code, response header, and response size.
<a href=#R-image-e50d267632f1e0c0ebeab8d8b45c81ed class=lightbox-link><img alt="Advanced settings for test configuration" class="lazy lightbox figure-image" loading=lazy src=../../_img/uptime-security.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e50d267632f1e0c0ebeab8d8b45c81ed><img alt="Advanced settings for test configuration" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/uptime-security.png></a></p></li><li><p>Add and remove any locations you&rsquo;d like. Keep in mind where you expect your endpoint to be available.</p></li><li><p>Change the frequency to test your more critical endpoints more often, up to one minute.
<a href=#R-image-63077f18582484911482cbf30633a7dc class=lightbox-link><img alt=image class="lazy lightbox figure-image" loading=lazy src=../../_img/uptime-config.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-63077f18582484911482cbf30633a7dc><img alt=image class="lazy lightbox lightbox-image" loading=lazy src=../../_img/uptime-config.png></a></p></li><li><p>Make sure &ldquo;Round-robin&rdquo; is on so the test will run from one location at a time, rather than from all locations at once.</p><ul><li>If an endpoint is <strong>highly</strong> critical, think about if it is worth it to have all locations tested at the same time every single minute. If you have automations built in with a webhook from a detector, or if you have strict SLAs you need to track, this <em>could</em> be worth it to have as much coverage as possible. But if you are doing more manual investigation, or if this is a less critical endpoint, you could be wasting test runs that are executing while an issue is being investigated.</li><li>Remember that your license is based on the number of test runs per month. Turning Round-robin off will multiply the number of test runs by the number of locations you have selected.</li></ul></li><li><p>When you are ready for the test to start running, make sure &ldquo;Active&rdquo; is on, then scroll down and click <span class="btn cstyle blue"><span><span class=title>Submit</span></span></span> to save the test configuration.
<a href=#R-image-ef006d4903344a2a14ba902ae97c8bc7 class=lightbox-link><img alt="submit button" class="lazy lightbox figure-image" loading=lazy src=../../_img/submit.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ef006d4903344a2a14ba902ae97c8bc7><img alt="submit button" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/submit.png></a></p></li></ol><p>Now the test will start running with your saved configuration. Take a water break, then we&rsquo;ll look at the results!</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=understanding-results>Understanding results</h1><ol><li><p>From the Synthetics landing page, click into a test to see its summary view and play with the <a href=https://docs.splunk.com/observability/en/synthetics/uptime-test/uptime-test-results.html#customize-the-performance-kpis-chart rel=external target=_blank>Performance KPIs chart</a> filters to see how you can slice and dice your data. This is a good place to get started understanding trends. Later, we will see what custom charts look like, so you can tailor dashboards to the KPIs you care about most.
<a href=#R-image-158358f30b37ff2553198976b6e953f5 class=lightbox-link><img alt="KPI chart filters" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-09/c040b5f6-a868-4977-8d3b-bc3e431ffcc8/user_cropped_screenshot.jpeg?tl_px=1160,0&br_px=2880,961&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=755,44" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-158358f30b37ff2553198976b6e953f5><img alt="KPI chart filters" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-09/c040b5f6-a868-4977-8d3b-bc3e431ffcc8/user_cropped_screenshot.jpeg?tl_px=1160,0&br_px=2880,961&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=755,44"></a><details open class="box cstyle notices tip"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-question"></i>
Workshop Question: Using the Performance KPIs chart</summary><div class=box-content><p>What metrics are available? Is your data consistent across time and locations? Do certain locations run slower than others? Are there any spikes or failures?</p></div></details></p></li><li><p>Click into a recent run either in the chart or in the table below.
<a href=#R-image-62eea5c2fe68e1a0c785fb9048c71749 class=lightbox-link><img alt="run results chart" class="lazy lightbox figure-image" loading=lazy src=../../_img/run-results.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-62eea5c2fe68e1a0c785fb9048c71749><img alt="run results chart" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/run-results.png></a></p></li><li><p>If there are failures, look at the response to see if you need to add a response code assertion (302 is a common one), if there is some authorization needed, or different request headers added. Here we have information about this particular test run including if it succeeded or failed, the location, timestamp, and duration in addition to the other Uptime test metrics. Click through to see the response, request, and connection info as well.
<a href=#R-image-bb9b08e39e94103ca3a7fc18c5f31679 class=lightbox-link><img alt="uptime test result" class="lazy lightbox figure-image" loading=lazy src=../../_img/uptime-test-result.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bb9b08e39e94103ca3a7fc18c5f31679><img alt="uptime test result" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/uptime-test-result.png></a>
If you need to edit the test for it to run successfully, click the test name in the top left breadcrumb on this run result page, then click <span class="btn cstyle transparent"><span><span class=title>Edit test</span></span></span> on the top right of the test overview page. Remember to scroll down and click <span class="btn cstyle blue"><span><span class=title>Submit</span></span></span> to save your changes after editing the test configuration.</p></li><li><p>In addition to the test running successfully, there are other metrics to measure the health of your endpoints. For example, <a href=https://web.dev/articles/ttfb rel=external target=_blank>Time to First Byte</a>(TTFB) is a great indicator of performance, and you can <a href=https://web.dev/articles/optimize-ttfb rel=external target=_blank>optimize TTFB</a> to improve end user experience.</p></li><li><p>Go back to the test overview page and change the Performance KPIs chart to display First Byte time. Once the test has run for a long enough time, expanding the time frame will draw the data points as lines to better see trends and anomalies, like in the example below.
<a href=#R-image-e4de2082a4e6f97e419d428109e07d95 class=lightbox-link><img alt="Performance KPIs for Uptime Tests" class="lazy lightbox figure-image" loading=lazy src=../../_img/ttfb.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e4de2082a4e6f97e419d428109e07d95><img alt="Performance KPIs for Uptime Tests" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/ttfb.png></a></p></li></ol><p>In the example above, we can see that TTFB varies consistently between locations. Knowing this, we can keep location in mind when reporting on metrics. We could also improve the experience, for example by serving users in those locations an endpoint hosted closer to them, which should reduce network latency. We can also see some slight variations in the results over time, but overall we already have a good idea of our baseline for this endpoint&rsquo;s KPIs. When we have a baseline, we can alert on worsening metrics as well as visualize improvements.<details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>We are not setting a detector on this test yet, to make sure it is running consistently and successfully. If you are testing a highly critical endpoint and want to be alerted on it ASAP (and have tolerance for potential alert noise), jump to <strong><a href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/5-detectors/1-test-detector/index.html>Single Test Detectors</a></strong>.</p></div></details></p><p>Once you have your Uptime test running successfully, let&rsquo;s move on to the next test type.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 6, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=api-test>API Test</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<p>The <a href=https://docs.splunk.com/observability/en/synthetics/api-test/api-test.html rel=external target=_blank>API test</a> provides a flexible way to check the functionality and performance of API endpoints. The shift toward API-first development has magnified the necessity to monitor the back-end services that provide your core front-end functionality.</p><p>Whether you&rsquo;re interested in testing multi-step API interactions or you want to gain visibility into the performance of your endpoints, the API Test can help you accomplish your goals.</p><p>This excercise will walk through a multi-step test on the Spotify API. You can also use it as a reference to build tests on your own APIs or on those of your critical third parties.</p><p><a href=#R-image-8a39d8f0f484524190ccf82372970260 class=lightbox-link><img alt="API test result" class="lazy lightbox figure-image" loading=lazy src=../_img/api-test-result.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8a39d8f0f484524190ccf82372970260><img alt="API test result" class="lazy lightbox lightbox-image" loading=lazy src=../_img/api-test-result.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 2. API Test</h1><article class=default><header class=headline></header><h1 id=global-variables>Global Variables</h1><p><a href=https://docs.splunk.com/observability/en/synthetics/test-config/global-variables.html rel=external target=_blank>Global variables</a> allow us to use stored strings in multiple tests, so we only need to update them in one place.</p><p>View the global variable that we&rsquo;ll use to perform our API test. Click on <strong>Global Variables</strong> under the cog icon. The global variable named <code>env.encoded_auth</code> will be the one that we&rsquo;ll use to build the spotify API transaction.</p><p><a href=#R-image-7269944c5fb716e64c174c6e4de865fc class=lightbox-link><img alt="global variables" class="lazy lightbox figure-image" loading=lazy src=../../_img/global-variables.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7269944c5fb716e64c174c6e4de865fc><img alt="global variables" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/global-variables.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=create-new-api-test>Create new API test</h1><p>Create a new API test by clicking on the <span class="btn cstyle blue"><span><span class=title>Add new test</span></span></span> button and select <strong>API test</strong> from the dropdown. Name the test using your team name, your initials, and Spotify API e.g. <strong>[Daisy] RWC - Spotify API</strong></p><p><a href=#R-image-6480b446eb888d943fcf632ddf08c0f6 class=lightbox-link><img alt="new API test" class="lazy lightbox figure-image" loading=lazy src=../../_img/create-api.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6480b446eb888d943fcf632ddf08c0f6><img alt="new API test" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/create-api.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=authentication-request>Authentication Request</h1><p>Click on <span class="btn cstyle transparent"><span><span class=title>+ Add requests</span></span></span> and enter the request step name e.g. <strong>Authenticate with Spotify API</strong>.</p><p><a href=#R-image-41bf0151a625337e927f32bcb055e566 class=lightbox-link><img alt=placeholder class="lazy lightbox figure-image" loading=lazy src=../../_img/add-request.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-41bf0151a625337e927f32bcb055e566><img alt=placeholder class="lazy lightbox lightbox-image" loading=lazy src=../../_img/add-request.png></a></p><p>Expand the Request section, from the drop-down change the request method to <strong>POST</strong> and enter the following URL:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>https://accounts.spotify.com/api/token</span></span></code></pre></div><p>In the <strong>Payload body</strong> section enter the following:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>grant_type=client_credentials</span></span></code></pre></div><p>Next, add two <span class="btn cstyle transparent"><span><span class=title>+ Request headers</span></span></span> with the following key/value pairings:</p><ul><li><strong>CONTENT-TYPE: application/x-www-form-urlencoded</strong></li><li><strong>AUTHORIZATION: Basic {{env.encoded_auth}}</strong></li></ul><p>Expand the <strong>Validation</strong> section and add the following extraction:</p><ul><li><strong>Extract</strong> from <strong>Response body</strong> <strong>JSON</strong> <strong>$.access_token</strong> as <strong>access_token</strong></li></ul><p>This will parse the JSON payload that is received from the Spotify API, extract the access token and store it as a custom variable.</p><p><a href=#R-image-a6a2afbc1bd6dc6c26c09efe190223b5 class=lightbox-link><img alt="Add request payload token" class="lazy lightbox figure-image" loading=lazy src=../../_img/api-payload-token.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a6a2afbc1bd6dc6c26c09efe190223b5><img alt="Add request payload token" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/api-payload-token.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=search-request>Search Request</h1><p>Click on <span class="btn cstyle transparent"><span><span class=title>+ Add Request</span></span></span> to add the next step. Name the step <strong>Search for Tracks named &ldquo;Up around the bend&rdquo;</strong>.</p><p>Expand the <strong>Request</strong> section and change the request method to <strong>GET</strong> and enter the following URL:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>https://api.spotify.com/v1/search?q=Up%20around%20the%20bend&amp;type=track&amp;offset=0&amp;limit=5</span></span></code></pre></div><p>Next, add two request headers with the following key/value pairings:</p><ul><li><strong>CONTENT-TYPE: application/json</strong></li><li><strong>AUTHORIZATION: Bearer {{custom.access_token}}</strong><ul><li>This uses the custom variable we created in the previous step!</li></ul></li></ul><p><a href=#R-image-75da5bd853130171ad959dc96c80277d class=lightbox-link><img alt="Add search request" class="lazy lightbox figure-image" loading=lazy src=../../_img/api-search-request.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-75da5bd853130171ad959dc96c80277d><img alt="Add search request" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/api-search-request.png></a></p><p>Expand the <strong>Validation</strong> section and add the following extraction:</p><ul><li><strong>Extract</strong> from <strong>Response body</strong> <strong>JSON</strong> <strong>$.tracks.items[0].id</strong> as <strong>track.id</strong></li></ul><p><a href=#R-image-eec60a8710260d5fda71a41256559efa class=lightbox-link><img alt="Add search payload" class="lazy lightbox figure-image" loading=lazy src=../../_img/api-search-payload.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-eec60a8710260d5fda71a41256559efa><img alt="Add search payload" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/api-search-payload.png></a></p><p>To validate the test before saving, scroll to the top and change the location as needed. Click <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span>. See the docs for more information on the <a href=https://docs.splunk.com/observability/en/synthetics/test-config/try-now.html rel=external target=_blank>try now feature</a>.</p><p><a href=#R-image-a737468b5a4400ca5be4164759050534 class=lightbox-link><img alt="try now" class="lazy lightbox figure-image" loading=lazy src=../../_img/api-try-now.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a737468b5a4400ca5be4164759050534><img alt="try now" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/api-try-now.png></a></p><p>When the validation is successful, click on <span class="btn cstyle blue"><span><span class=title>< Return to test</span></span></span> to return to the test configuration page. And then click <span class="btn cstyle blue"><span><span class=title>Save</span></span></span> to save the API test.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Extra credit</summary><div class=box-content><p>Have more time to work on this test? Take a look at the Response Body in one of your run results. What additional steps would make this test more thorough? Edit the test, and use the <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span> feature to validate any changes you make before you save the test.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=view-results>View results</h1><p>Wait for a few minutes for the test to provision and run. Once you see the test has run successfully, click on the run to view the results:</p><p><a href=#R-image-f620e949ea72702a62b4d4f8bf94c18a class=lightbox-link><img alt="API test result" class="lazy lightbox figure-image" loading=lazy src=../../_img/api-result.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f620e949ea72702a62b4d4f8bf94c18a><img alt="API test result" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/api-result.png></a></p><h2 id=resources>Resources</h2><ul><li><a href=https://docs.splunk.com/Observability/synthetics/api-test/set-up-api-test.html rel=external target=_blank>How to Create an API Test</a></li><li><a href=https://docs.splunk.com/Observability/synthetics/api-test/api-test.html rel=external target=_blank>API Test Overview</a></li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=single-page-browser-test>Single Page Browser Test</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<p>We have started testing our endpoints, now let&rsquo;s test the front end browser experience.</p><p>Starting with a single page <a href=https://docs.splunk.com/observability/en/synthetics/browser-test/browser-test.html rel=external target=_blank>browser test</a> will let us capture how first- and third-party resources impact how our end users experience our browser-based site. It also allows us to start to understand our user experience metrics before introducing the complexity of multiple steps in one test.</p><p>A page where your users commonly &ldquo;land&rdquo; is a good choice to start with a single page test. This could be your site homepage, a section main page, or any other high-traffic URL that is important to you and your end users.</p><ol><li><p>Click <span class="btn cstyle blue"><span><span class=title>Create new test</span></span></span> and select Browser test
<a href=#R-image-4cf85ed8a00e3836ff49fb1be50363bc class=lightbox-link><img alt="Create new browser test" class="lazy lightbox figure-image" loading=lazy src=../_img/create-browser.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4cf85ed8a00e3836ff49fb1be50363bc><img alt="Create new browser test" class="lazy lightbox lightbox-image" loading=lazy src=../_img/create-browser.png></a></p></li><li><p>Include your <strong>team name</strong> and <strong>initials</strong> in the test name. Add to the Name and Custom properties to describe the scope of the test (like Desktop for device type). Then click <span class="btn cstyle transparent"><span><span class=title>+ Edit steps</span></span></span>
<a href=#R-image-40faee06079bb8d0018d6b0ba47182c3 class=lightbox-link><img alt="Browser test content fields" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-name.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-40faee06079bb8d0018d6b0ba47182c3><img alt="Browser test content fields" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-name.png></a></p></li><li><p>Change the transaction label (top left) and step name (on the right) to something readable that describes the step. Add the URL you&rsquo;d like to test. Your workshop instructor can provide you with a URL as well. In the below example, the transaction is &ldquo;Home&rdquo; and the step name is &ldquo;Go to homepage&rdquo;.
<a href=#R-image-7e4e8ace1dcadee35b948e71f11a434d class=lightbox-link><img alt="Transaction and step label" class="lazy lightbox figure-image" loading=lazy src=../_img/single-step.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7e4e8ace1dcadee35b948e71f11a434d><img alt="Transaction and step label" class="lazy lightbox lightbox-image" loading=lazy src=../_img/single-step.png></a></p></li><li><p>To validate the test, change the location as needed and click <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span>. See the docs for more information on the <a href=https://docs.splunk.com/observability/en/synthetics/test-config/try-now.html rel=external target=_blank>try now feature</a>.
<a href=#R-image-7a178bd552dcc20c9dc9a172087b70b0 class=lightbox-link><img alt="browser test try now buttons" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-try-now.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7a178bd552dcc20c9dc9a172087b70b0><img alt="browser test try now buttons" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-try-now.png></a></p></li><li><p>Wait for the test validation to complete. If the test validation failed, double check your URL and test location and try again. With <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span> you can see what the result of the test will be if it were saved and run as-is.
<a href=#R-image-ba789bf967a837864234ec71d74fbf6d class=lightbox-link><img alt="Try Now browser test results" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-try-now-result.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ba789bf967a837864234ec71d74fbf6d><img alt="Try Now browser test results" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-try-now-result.png></a></p></li><li><p>Click <span class="btn cstyle blue"><span><span class=title>&lt; Return to test</span></span></span> to continue the configuration.
<a href=#R-image-8388265e6584a76bb9d3c62a6fe634f3 class=lightbox-link><img alt="Return to test button" class="lazy lightbox figure-image" loading=lazy src=../_img/return.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8388265e6584a76bb9d3c62a6fe634f3><img alt="Return to test button" class="lazy lightbox lightbox-image" loading=lazy src=../_img/return.png></a></p></li><li><p>Edit the locations you want to use, keeping in mind any regional rules you have for your site.<p></p><a href=#R-image-2885a7a7baf7e79a345edaf07ae4c947 class=lightbox-link><img alt="Browser test details" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-test-details.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2885a7a7baf7e79a345edaf07ae4c947><img alt="Browser test details" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-test-details.png></a></p></li><li><p>You can edit the Device and Frequency or leave them at their default values for now. Click <span class="btn cstyle blue"><span><span class=title>Submit</span></span></span> at the bottom of the form to save the test and start running it.<p></p><a href=#R-image-de54c87b87f311dcaa5a3eda947f6fad class=lightbox-link><img alt="browser test submit button" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-submit.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-de54c87b87f311dcaa5a3eda947f6fad><img alt="browser test submit button" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-submit.png></a></p></li></ol><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Bonus Exercise</summary><div class=box-content><p>Have a few spare seconds? Copy this test and change just the title and device type, and save. Now you have visibility into the end user experience on another device and connection speed!</p></div></details><p>While our Synthetic tests are running, let&rsquo;s see how RUM is instrumented to start getting data from our real users.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article></section></div></main></div><script src=/observability-workshop/v5.100/js/clipboard/clipboard.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/perfect-scrollbar/perfect-scrollbar.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/theme.min.js?1752769005 defer></script></body></html>