<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 7.6.1+81b6d3c32c77aeecc29c4700d2123bd2fb3401c2"><meta name=description content="Learn how to build observability solutions with Splunk"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Scenarios :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Learn how to build observability solutions with Splunk"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.100/en/scenarios/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Scenarios :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Learn how to build observability solutions with Splunk"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Scenarios :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Learn how to build observability solutions with Splunk"><meta itemprop=dateModified content="2024-09-19T16:47:03+01:00"><meta itemprop=wordCount content="81"><title>Scenarios :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/v5.100/en/scenarios/index.html rel=canonical type=text/html title="Scenarios :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/v5.100/images/favicon.ico?1752769005 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/v5.100/css/auto-complete/auto-complete.min.css?1752769005 rel=stylesheet><script src=/observability-workshop/v5.100/js/auto-complete/auto-complete.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/search-lunr.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/search.min.js?1752769005 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/v5.100/searchindex.en.js?1752769005"</script><script src=/observability-workshop/v5.100/js/lunr/lunr.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/lunr/lunr.stemmer.support.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/lunr/lunr.multi.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/lunr/lunr.en.min.js?1752769005 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/observability-workshop/v5.100/fonts/fontawesome/css/fontawesome-all.min.css?1752769005 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.100/fonts/fontawesome/css/fontawesome-all.min.css?1752769005 rel=stylesheet></noscript><link href=/observability-workshop/v5.100/css/perfect-scrollbar/perfect-scrollbar.min.css?1752769005 rel=stylesheet><link href=/observability-workshop/v5.100/css/theme.min.css?1752769005 rel=stylesheet><link href=/observability-workshop/v5.100/css/format-print.min.css?1752769005 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/scenarios/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop/v5.100",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({app:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg"})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-url=/observability-workshop/v5.100/en/scenarios/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.100/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Scenarios</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.100/en/scenarios/index.print.html title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.100/en/ninja-workshops/11-ingest_processor_for_observability_cloud/5-workshop-conclusion/index.html title="Conclusion (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.100/en/scenarios/optimize_monitoring/index.html title="Optimize Cloud Monitoring (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable scenarios" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=scenarios>Scenarios</h1><ul class="children children-li children-sort-"><li class=children-title><a href=/observability-workshop/v5.100/en/scenarios/optimize_monitoring/index.html>Optimize Cloud Monitoring</a><p>This scenario is for ITOps teams managing a hybrid infrastructure that need to troubleshoot cloud-native performance issues, by correlating real-time metrics with logs to troubleshoot faster, improve MTTD/MTTR, and optimize costs.</p></li><li class=children-title><a href=/observability-workshop/v5.100/en/scenarios/debug_problems/index.html>Debug Problems in Microservices</a><p>This scenario helps engineering teams identify and fix issues caused by planned and unplanned changes to their microservices-based applications.</p></li><li class=children-title><a href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/index.html>Optimize End User Experiences</a><p>Use Splunk Real User Monitoring (RUM) and Synthetics to get insight into end user experience, and proactively test scenarios to improve that experience.</p></li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 19, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of Scenarios</h1><article class=default><header class=headline></header><h1 id=optimize-cloud-monitoring>Optimize Cloud Monitoring</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>3 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>The elasticity of cloud architectures means that monitoring artifacts must scale elastically as well, breaking the paradigm of purpose-built monitoring assets. As a result, administrative overhead, visibility gaps, and tech debt skyrocket while MTTR slows. This typically happens for three reasons:</p><ul><li><strong>Complex and Inefficient Data Management</strong>: Infrastructure data is scattered across multiple tools with inconsistent naming conventions, leading to fragmented views and poor metadata and labelling. Managing multiple agents and data flows adds to the complexity.</li><li><strong>Inadequate Monitoring and Troubleshooting Experience</strong>: Slow data visualization and troubleshooting, cluttered with bespoke dashboards and manual correlations, are hindered further by the lack of monitoring tools for ephemeral technologies like Kubernetes and serverless functions.</li><li><strong>Operational and Scaling Challenges</strong>: Manual onboarding, user management, and chargeback processes, along with the need for extensive data summarization, slow down operations and inflate administrative tasks, complicating data collection and scalability.</li></ul><p>To address these challenges you need a way to:</p><ul><li><strong>Standardize Data Collection and Tags</strong>: Centralized monitoring with a single, open-source agent to apply uniform naming standards and ensure metadata for visibility. Optimize data collection and use a monitoring-as-code approach for consistent collection and tagging.</li><li><strong>Reuse Content Across Teams</strong>: Streamline new IT infrastructure onboarding and user management with templates and automation. Utilize out-of-the-box dashboards, alerts, and self-service tools to enable content reuse, ensuring uniform monitoring and reducing manual effort.</li><li><strong>Improve Timeliness of Alerts</strong>: Utilize highly performant open source data collection, combined with real-time streaming-based data analytics and alerting, to enhance the timeliness of notifications. Automatically configured alerts for common problem patterns (AutoDetect) and minimal yet effective monitoring dashboards and alerts will ensure rapid response to emerging issues, minimizing potential disruptions.</li><li><strong>Correlate Infrastructure Metrics and Logs</strong>: Achieve full monitoring coverage of all IT infrastructure by enabling seamless correlation between infrastructure metrics and logs. High-performing data visualization and a single source of truth for data, dashboards, and alerts will simplify the correlation process, allowing for more effective troubleshooting and analysis of the IT environment.</li></ul><p>In this workshop, we&rsquo;ll explore:</p><ul><li>How to standardize data collection and tags using <strong>OpenTelemetry</strong>.</li><li>How to reuse content across teams.</li><li>How to improve timelines of alerts.</li><li>How to correlate infrastructure metrics and logs.</li></ul><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>The easiest way to navigate through this workshop is by using:</p><ul><li>the left/right arrows (<strong>&lt;</strong> | <strong>></strong>) on the top right of this page</li><li>the left (‚óÄÔ∏è) and right (‚ñ∂Ô∏è) cursor keys on your keyboard</li></ul></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 3, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of Optimize Cloud Monitoring</h1><article class=default><header class=headline></header><h1 id=getting-started>Getting Started</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>3 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>During this <em><strong>technical</strong></em> Optimize Cloud Monitoring Workshop, you will build out an environment based on a <a href=https://k3s.io/ rel=external target=_blank>lightweight</a> Kubernetes<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> cluster.</p><p>To simplify the workshop modules, a pre-configured AWS/EC2 instance is provided.</p><p>The instance is pre-configured with all the software required to deploy the Splunk OpenTelemetry Connector<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> and the microservices-based OpenTelemetry Demo Application<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> in Kubernetes which has been instrumented using OpenTelemetry to send metrics, traces, spans and logs.</p><p>This workshop will introduce you to the benefits of standardized data collection, how content can be re-used across teams, correlating metrics and logs, and creating detectors to fire alerts. By the end of these technical workshops, you will have a good understanding of some of the key features and capabilities of the Splunk Observability Cloud.</p><p>Here are the instructions on how to access your pre-configured <a href=/observability-workshop/v5.100/en/scenarios/optimize_monitoring/1-getting-started/1-access-ec2/index.html>AWS/EC2 instance</a></p><p><a href=#R-image-a029cab1a7246e582619831ec8c47055 class=lightbox-link><img alt="Splunk Architecture" class="lazy lightbox figure-image" loading=lazy src=../images/architecture.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a029cab1a7246e582619831ec8c47055><img alt="Splunk Architecture" class="lazy lightbox lightbox-image" loading=lazy src=../images/architecture.png></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/ rel=external target=_blank><strong>Kubernetes</strong></a> is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://opentelemetry.io/ rel=external target=_blank><strong>OpenTelemetry Collector</strong></a> offers a vendor-agnostic implementation on how to receive, process and export telemetry data. In addition, it removes the need to run, operate and maintain multiple agents/collectors to support open-source telemetry data formats (e.g. Jaeger, Prometheus, etc.) sending to multiple open-source or commercial back-ends.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>The <a href=https://opentelemetry.io/docs/demo/ rel=external target=_blank><strong>OpenTelemetry Demo Application</strong></a> is a microservice-based distributed system intended to illustrate the implementation of OpenTelemetry in a near real-world environment.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 1. Getting Started</h1><article class=default><header class=headline></header><h1 id=how-to-connect-to-your-workshop-environment>How to connect to your workshop environment</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><ol><li>How to retrieve the IP address of the AWS/EC2 instance assigned to you.</li><li>Connect to your instance using SSH, Putty<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> or your web browser.</li><li>Verify your connection to your AWS/EC2 cloud instance.</li><li>Using Putty (Optional)</li><li>Using Multipass (Optional)</li></ol><hr><h2 id=1-awsec2-ip-address>1. AWS/EC2 IP Address</h2><p>In preparation for the workshop, Splunk has prepared an Ubuntu Linux instance in AWS/EC2.</p><p>To get access to the instance that you will be using in the workshop please visit the URL to access the Google Sheet provided by the workshop leader.</p><p>Search for your AWS/EC2 instance by looking for your first and last name, as provided during registration for this workshop.</p><p><a href=#R-image-0208b92cd6aeb7d19d9750d9dc4a0109 class=lightbox-link><img alt="attendee spreadsheet" class="lazy lightbox figure-image" loading=lazy src=../../images/spreadsheet-info.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0208b92cd6aeb7d19d9750d9dc4a0109><img alt="attendee spreadsheet" class="lazy lightbox lightbox-image" loading=lazy src=../../images/spreadsheet-info.png></a></p><p>Find your allocated IP address, SSH command (for Mac OS, Linux and the latest Windows versions) and password to enable you to connect to your workshop instance.</p><p>It also has the Browser Access URL that you can use in case you cannot connect via SSH or Putty - see <a href=/observability-workshop/v5.100/en/scenarios/optimize_monitoring/1-getting-started/1-access-ec2/index.html#4-web-browser-all>EC2 access via Web browser</a></p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Important</summary><div class=box-content><p>Please use SSH or Putty to gain access to your EC2 instance if possible and
make a note of the IP address as you will need this during the workshop.</p></div></details><h2 id=2-ssh-mac-oslinux>2. SSH (Mac OS/Linux)</h2><p>Most attendees will be able to connect to the workshop by using SSH from their Mac or Linux device, or on Windows 10 and above.</p><p>To use SSH, open a terminal on your system and type <code>ssh splunk@x.x.x.x</code> (replacing x.x.x.x with the IP address found in Step #1).</p><p><a href=#R-image-938ba4063bfba333d2dc5f6e922a32b8 class=lightbox-link><img alt="ssh login" class="lazy lightbox figure-image" loading=lazy src=../../images/ssh-1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-938ba4063bfba333d2dc5f6e922a32b8><img alt="ssh login" class="lazy lightbox lightbox-image" loading=lazy src=../../images/ssh-1.png></a></p><p>When prompted <strong><code>Are you sure you want to continue connecting (yes/no/[fingerprint])?</code></strong> please type <strong><code>yes</code></strong>.</p><p><a href=#R-image-339443cc92662dc51292ad4239a837d8 class=lightbox-link><img alt="ssh password" class="lazy lightbox figure-image" loading=lazy src=../../images/ssh-2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-339443cc92662dc51292ad4239a837d8><img alt="ssh password" class="lazy lightbox lightbox-image" loading=lazy src=../../images/ssh-2.png></a></p><p>Enter the password provided in the Google Sheet from Step #1.</p><p>Upon successful login, you will be presented with the Splunk logo and the Linux prompt.</p><p><a href=#R-image-245a9d0f68b761409f243850dfc42d3a class=lightbox-link><img alt="ssh connected" class="lazy lightbox figure-image" loading=lazy src=../../images/ssh-3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-245a9d0f68b761409f243850dfc42d3a><img alt="ssh connected" class="lazy lightbox lightbox-image" loading=lazy src=../../images/ssh-3.png></a></p><h2 id=3-ssh-windows-10-and-above>3. SSH (Windows 10 and above)</h2><p>The procedure described above is the same on Windows 10, and the commands can be executed either in the Windows Command Prompt or PowerShell.
However, Windows regards its SSH Client as an &ldquo;optional feature&rdquo;, which might need to be enabled.</p><p>You can verify if SSH is enabled by simply executing <code>ssh</code></p><p>If you are shown a help text on how to use the SSH command (like shown in the screenshot below), you are all set.</p><p><a href=#R-image-42c539b6fd6406980f374f70b542de9a class=lightbox-link><img alt="Windows SSH enabled" class="lazy lightbox figure-image" loading=lazy src=../../images/windows-ssh-enabled-feedback.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-42c539b6fd6406980f374f70b542de9a><img alt="Windows SSH enabled" class="lazy lightbox lightbox-image" loading=lazy src=../../images/windows-ssh-enabled-feedback.png></a></p><p>If the result of executing the command looks something like the screenshot below, you want to enable the &ldquo;OpenSSH Client&rdquo; feature manually.</p><p><a href=#R-image-d0460aa43f948a92e192fc1b3173f7d5 class=lightbox-link><img alt="Windows SSH disabled" class="lazy lightbox figure-image" loading=lazy src=../../images/windows-ssh-disabled-feedback.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d0460aa43f948a92e192fc1b3173f7d5><img alt="Windows SSH disabled" class="lazy lightbox lightbox-image" loading=lazy src=../../images/windows-ssh-disabled-feedback.png></a></p><p>To do that, open the &ldquo;Settings&rdquo; menu, and click on &ldquo;Apps&rdquo;. While in the &ldquo;Apps & features&rdquo; section, click on &ldquo;Optional features&rdquo;.</p><p><a href=#R-image-9fad85d11c36349240f347c82e823993 class=lightbox-link><img alt="Windows Apps Settings" class="lazy lightbox figure-image" loading=lazy src=../../images/windows-gui-optionalfeatures.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9fad85d11c36349240f347c82e823993><img alt="Windows Apps Settings" class="lazy lightbox lightbox-image" loading=lazy src=../../images/windows-gui-optionalfeatures.png></a></p><p>Here, you are presented with a list of installed features. On the top, you see a button with a plus icon to &ldquo;Add a feature&rdquo;. Click it.
In the search input field, type &ldquo;OpenSSH&rdquo;, and find a feature called &ldquo;OpenSSH Client&rdquo;, or respectively, &ldquo;OpenSSH Client (Beta)&rdquo;, click on it, and click the &ldquo;Install&rdquo;-button.</p><p><a href=#R-image-c2e6d9abeae8937e9b32ca7f695bb059 class=lightbox-link><img alt="Windows Enable OpenSSH Client" class="lazy lightbox figure-image" loading=lazy src=../../images/windows-enable-openssh-client.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c2e6d9abeae8937e9b32ca7f695bb059><img alt="Windows Enable OpenSSH Client" class="lazy lightbox lightbox-image" loading=lazy src=../../images/windows-enable-openssh-client.png></a></p><p>Now you are set! In case you are not able to access the provided instance despite enabling the OpenSSH feature, please do not shy away from reaching
out to the course instructor, either via chat or directly.</p><p>At this point you are ready to continue and <a href=../gdi/index.html>start the workshop</a></p><hr><h2 id=4-putty-for-windows-versions-prior-to-windows-10>4. Putty (For Windows Versions prior to Windows 10)</h2><p>If you do not have SSH pre-installed or if you are on a Windows system, the best option is to install Putty which you can find <a href=https://www.putty.org/ rel=external target=_blank>here.</a></p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Important</summary><div class=box-content><p>If you <strong>cannot</strong> install Putty, please go to <a href=/observability-workshop/v5.100/en/scenarios/optimize_monitoring/1-getting-started/1-access-ec2/index.html#4-web-browser-all>Web Browser (All)</a>.</p></div></details><p>Open Putty and enter in the <strong>Host Name (or IP address)</strong> field the IP address provided in the Google Sheet.</p><p>You can optionally save your settings by providing a name and pressing <strong>Save</strong>.</p><p><a href=#R-image-6e5b3edc6954adbf3ecf2ce2597737d5 class=lightbox-link><img alt=putty-2 class="lazy lightbox figure-image" loading=lazy src=../../images/putty-settings.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6e5b3edc6954adbf3ecf2ce2597737d5><img alt=putty-2 class="lazy lightbox lightbox-image" loading=lazy src=../../images/putty-settings.png></a></p><p>To then login to your instance click on the <strong>Open</strong> button as shown above.</p><p>If this is the first time connecting to your AWS/EC2 workshop instance, you will be presented with a security dialogue, please click <strong>Yes</strong>.</p><p><a href=#R-image-edfbf2e6f8278f70e9402e2a2ac817f2 class=lightbox-link><img alt=putty-3 class="lazy lightbox figure-image" loading=lazy src=../../images/putty-security.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-edfbf2e6f8278f70e9402e2a2ac817f2><img alt=putty-3 class="lazy lightbox lightbox-image" loading=lazy src=../../images/putty-security.png></a></p><p>Once connected, login in as <strong>splunk</strong> and the password is the one provided in the Google Sheet.</p><p>Once you are connected successfully you should see a screen similar to the one below:</p><p><a href=#R-image-bf11f46ff420d26a1985043db30b441a class=lightbox-link><img alt=putty-4 class="lazy lightbox figure-image" loading=lazy src=../../images/putty-loggedin.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bf11f46ff420d26a1985043db30b441a><img alt=putty-4 class="lazy lightbox lightbox-image" loading=lazy src=../../images/putty-loggedin.png></a></p><p>At this point, you are ready to continue and <a href=../gdi/index.html>start the workshop</a></p><hr><h2 id=5-web-browser-all>5. Web Browser (All)</h2><p>If you are blocked from using SSH (Port 22) or unable to install Putty you may be able to connect to the workshop instance by using a web browser.</p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Note</summary><div class=box-content><p>This assumes that access to port 6501 is not restricted by your company&rsquo;s firewall.</p></div></details><p>Open your web browser and type <strong><a href=http://x.x.x.x:6501 rel=external target=_blank>http://x.x.x.x:6501</a></strong> (where X.X.X.X is the IP address from the Google Sheet).</p><p><a href=#R-image-32be47ef752893531e0f6f42c33af7d1 class=lightbox-link><img alt=http-6501 class="lazy lightbox figure-image" loading=lazy src=../../images//shellinabox-url.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-32be47ef752893531e0f6f42c33af7d1><img alt=http-6501 class="lazy lightbox lightbox-image" loading=lazy src=../../images//shellinabox-url.png></a></p><p>Once connected, login in as <strong>splunk</strong> and the password is the one provided in the Google Sheet.</p><p><a href=#R-image-b46d948880ef7d2f4cc613a49321a8a1 class=lightbox-link><img alt=http-connect class="lazy lightbox figure-image" loading=lazy src=../../images//shellinabox-connect.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b46d948880ef7d2f4cc613a49321a8a1><img alt=http-connect class="lazy lightbox lightbox-image" loading=lazy src=../../images//shellinabox-connect.png></a></p><p>Once you are connected successfully you should see a screen similar to the one below:</p><p><a href=#R-image-b6a87ae3954ae006bebdd72ed998c768 class=lightbox-link><img alt="web login" class="lazy lightbox figure-image" loading=lazy src=../../images//shellinabox-login.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b6a87ae3954ae006bebdd72ed998c768><img alt="web login" class="lazy lightbox lightbox-image" loading=lazy src=../../images//shellinabox-login.png></a></p><p>Unlike when you are using regular SSH, <em>copy and paste</em> does require a few extra steps to complete when using a browser session. This is due to cross browser restrictions.</p><p>When the workshop asks you to copy instructions into your terminal, please do the following:</p><p><em>Copy the instruction as normal, but when ready to paste it in the web terminal, choose <strong>Paste from the browser</strong> as show below:</em></p><p><a href=#R-image-7511d50312eee02b8c1f88735d6404ed class=lightbox-link><img alt="web paste 1" class="lazy lightbox figure-image" loading=lazy src=../../images//shellinabox-paste-browser.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7511d50312eee02b8c1f88735d6404ed><img alt="web paste 1" class="lazy lightbox lightbox-image" loading=lazy src=../../images//shellinabox-paste-browser.png></a></p><p>This will open a dialogue box asking for the text to be pasted into the web terminal:</p><p><a href=#R-image-c9aaffad5229190080d0b2f95d64877f class=lightbox-link><img alt="web paste 3" class="lazy lightbox figure-image" loading=lazy src=../../images//shellinabox-example-1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c9aaffad5229190080d0b2f95d64877f><img alt="web paste 3" class="lazy lightbox lightbox-image" loading=lazy src=../../images//shellinabox-example-1.png></a></p><p>Paste the text in the text box as shown, then press <strong>OK</strong> to complete the copy and paste process.</p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Note</summary><div class=box-content><p>Unlike regular SSH connection, the web browser has a 60-second time out, and you will be disconnected, and a <strong>Connect</strong> button will be shown in the center of the web terminal.</p><p>Simply click the <strong>Connect</strong> button and you will be reconnected and will be able to continue.</p></div></details><p><a href=#R-image-cced879b98e176b37102b7b7f492576a class=lightbox-link><img alt="web reconnect" class="lazy lightbox figure-image" loading=lazy src=../../images//shellinabox-reconnect.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cced879b98e176b37102b7b7f492576a><img alt="web reconnect" class="lazy lightbox lightbox-image" loading=lazy src=../../images//shellinabox-reconnect.png></a></p><p>At this point, you are ready to continue and <a href=../gdi/index.html>start the workshop</a>.</p><hr><h2 id=6-multipass-all>6. Multipass (All)</h2><p>If you are unable to access AWS but want to install software locally, follow the instructions for <a href=https://github.com/splunk/observability-workshop/blob/main/multipass/README.md rel=external target=_blank>using Multipass</a>.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.chiark.greenend.org.uk/~sgtatham/putty/ rel=external target=_blank>Download Putty</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=deploy-opentelemetry-demo-applciation>Deploy OpenTelemetry Demo Applciation</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><h2 id=introduction>Introduction</h2><p>For this workshop, we&rsquo;ll be using the <strong>OpenTelemetry Demo Application</strong> running in Kubernetes. This application is for an online retailer and includes more than a dozen services written in many different languages. While metrics, traces, and logs are being collected from this application, this workshop is primarily focused on how <strong>Splunk Observability Cloud</strong> can be used to more efficiently monitor infrastructure.</p><h2 id=pre-requisites>Pre-requisites</h2><ul><li>You should have access to the EC2 instance provided in section <a href=/observability-workshop/v5.100/en/scenarios/optimize_monitoring/1-getting-started/1-access-ec2/index.html>1.1 Access AWS/EC2 Instance</a></li></ul><h2 id=initial-steps>Initial Steps</h2><p>The initial setup can be completed by executing the following steps on the command line of your EC2 instance.</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~/workshop/optimize-cloud-monitoring <span class=o>&amp;&amp;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>./deploy-application.sh</span></span></code></pre></div><p>You&rsquo;ll be asked to enter your favorite city. This will be used in the OpenTelemetry Collector configuration as a <strong>custom tag</strong> to show how easy it is to add additional context to your observability data.</p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Note</summary><div class=box-content><p>Custom tagging will be covered in more detail in the <a href=../standardize_data_collection/>Standardize Data Collection</a> section of this workshop.</p></div></details><p><a href=#R-image-9b5ae0a950c74013b7b72c126c298a29 class=lightbox-link><img alt="Enter Favorite City" class="lazy lightbox figure-image" loading=lazy src="../../images/favorite-city.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9b5ae0a950c74013b7b72c126c298a29><img alt="Enter Favorite City" class="lazy lightbox lightbox-image" loading=lazy src="../../images/favorite-city.png?width=40vw"></a></p><p><strong>Your application should now be running and sending data to Splunk Observability Cloud. You&rsquo;ll dig into the data in the next section.</strong></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=standardize-data-collection>Standardize Data Collection</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>2 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><h2 id=why-standards-matter>Why Standards Matter</h2><p>As cloud adoption grows, we often face requests to support new technologies within a diverse landscape, posing challenges in delivering timely content. Take, for instance, a team containerizing five workloads on AWS requiring EKS visibility. Usually, this involves assisting with integration setup, configuring metadata, and creating dashboards and alerts‚Äîa process that&rsquo;s both time-consuming and increases administrative overhead and technical debt.</p><p><strong>Splunk Observability Cloud</strong> was designed to handle customers with a diverse set of technical requirements and stacks ‚Äì from monolithic to microservices architectures, from homegrown applications to Software-as-a-Service.</p><p>Splunk offers a native experience for OpenTelemetry, which means OTel is the preferred way to get data into Splunk.
Between Splunk‚Äôs integrations and the OpenTelemetry community, there are a number of integrations available to easily collect from diverse infrastructure and applications. This includes both on-prem systems like VMWare and as well as guided integrations with cloud vendors, centralizing these hybrid environments.</p><p><a href=#R-image-db2146039270a92f2e58fa04a08ddb9a class=lightbox-link><img alt="Splunk Observability Cloud Integrations" class="lazy lightbox figure-image" loading=lazy src="../images/integrations.png?width=50vw" style=height:auto;width:50vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-db2146039270a92f2e58fa04a08ddb9a><img alt="Splunk Observability Cloud Integrations" class="lazy lightbox lightbox-image" loading=lazy src="../images/integrations.png?width=50vw"></a></p><p>For someone like a Splunk admin, the OpenTelemetry Collector can additionally be deployed to a Splunk Universal Forwarder as a <a href=https://splunkbase.splunk.com/app/7125 rel=external target=_blank>Technical Add-on</a>. This enables fast roll-out and centralized configuration management using the Splunk Deployment Server.
Let‚Äôs assume that the same team adopting Kubernetes is going to deploy a cluster for each one of our B2B customers. I‚Äôll show you how to make a simple modification to the OpenTelemetry collector to add the customerID, and then use mirrored dashboards to allow any of our SRE teams to easily see the customer they care about.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 2. Standardize Data Collection</h1><article class=default><header class=headline></header><h1 id=what-are-tags>What Are Tags?</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>3 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>Tags are key-value pairs that provide additional metadata about metrics, spans in a trace, or logs allowing you to enrich the context of the data you send to <strong>Splunk Observability Cloud</strong>. Many tags are collected by default such as hostname or OS type. Custom tags can be used to provide environment or application-specific context. Examples of custom tags include:</p><h6 id=infrastructure-specific-attributes>Infrastructure specific attributes</h6><ul><li>What data center a host is in</li><li>What services are hosted on an instance</li><li>What team is responsible for a set of hosts</li></ul><h6 id=application-specific-attributes>Application specific attributes</h6><ul><li>What Application Version is running</li><li>Feature flags or experimental identifiers</li><li>Tenant ID in multi-tenant applications</li></ul><h6 id=user-related-attributes>User related attributes</h6><ul><li>User ID</li><li>User role (e.g. admin, guest, subscriber)</li><li>User geographical location (e.g. country, city, region)</li></ul><h6 id=there-are-two-ways-to-add-tags-to-your-data>There are two ways to add tags to your data</h6><ul><li>Add tags as OpenTelemetry attributes to metrics, traces, and logs when you send data to the Splunk Distribution of OpenTelemetry Collector. This option lets you add spans in bulk.</li><li>Instrument your application to create span tags. This option gives you the most flexibility at the per-application level.</li></ul><h3 id=why-are-tags-so-important>Why are tags so important?</h3><p>Tags are essential for an application to be truly observable. Tags add context to the traces to help us understand why some users get a great experience and others don&rsquo;t. Powerful features in <strong>Splunk Observability Cloud</strong> utilize tags to help you jump quickly to the root cause.</p><p><strong>Contextual Information:</strong> Tags provide additional context to the metrics, traces, and logs allowing developers and operators to understand the behavior and characteristics of infrastructure and traced operations.</p><p><strong>Filtering and Aggregation:</strong> Tags enable filtering and aggregation of collected data. By attaching tags, users can filter and aggregate data based on specific criteria. This filtering and aggregation help in identifying patterns, diagnosing issues, and gaining insights into system behavior.</p><p><strong>Correlation and Analysis:</strong> Tags facilitate correlation between metrics and other telemetry data, such as traces and logs. By including common identifiers or contextual information as tags, users can correlate metrics, traces, and logs enabling comprehensive analysis and troubleshooting of distributed systems.</p><p><strong>Customization and Flexibility:</strong> OpenTelemetry allows developers to define custom tags based on their application requirements. This flexibility enables developers to capture domain-specific metadata or contextual information that is crucial for understanding the behavior of their applications.</p><h3 id=attributes-vs-tags>Attributes vs. Tags</h3><p>A note about terminology before we proceed. While this workshop is about <strong>tags</strong>, and this is the terminology we use in <strong>Splunk Observability Cloud</strong>, OpenTelemetry uses the term <strong>attributes</strong> instead. So when you see tags mentioned throughout this workshop, you can treat them as synonymous with attributes.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=adding-context-with-tags>Adding Context With Tags</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>3 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>When you <a href=../getting_started/2-deploy-application/>deployed the OpenTelemetry Demo Application</a> in the <a href=../getting_started/>Getting Started</a> section of this workshop, you were asked to enter your favorite city. For this workshop, we&rsquo;ll be using that to show the value of custom tags.</p><p>For this workshop, the OpenTelemetry collector is pre-configured to use the city you provided as a custom tag called <code>store.location</code> which will be used to emulate Kubernetes Clusters running in different geographic locations. We&rsquo;ll use this tag as a filter to show how you can use Out-of-the-Box integration dashboards to quickly create views for specific teams, applications, or other attributes about your environment. Efficiently enabling content to be reused across teams without increasing technical debt.</p><p>Here is the OpenTelemetry Collector configuration used to add the <code>store.location</code> tag to all of the data sent to this collector. This means any metrics, traces, or logs will contain the <code>store.location</code> tag which can then be used to search, filter, or correlate this value.</p><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>If you&rsquo;re interested in a deeper dive on the <strong>OpenTelemetry Collector</strong>, head over to the <a><strong>Self Service Observability</strong></a> workshop where you can get hands-on with configuring the collector or the <a href=../../../../other/5-opentelemetry-collector><strong>OpenTelemetry Collector Ninja Workshop</strong></a> where you&rsquo;ll dissect the inner workings of each collector component.</p></div></details><p><a href=#R-image-400c9dbde80093053590b62de3dc5df8 class=lightbox-link><img alt="OpenTelemetry Collector Configuration" class="lazy lightbox figure-image" loading=lazy src="../../images/otel-config.png?width=60vw" style=height:auto;width:60vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-400c9dbde80093053590b62de3dc5df8><img alt="OpenTelemetry Collector Configuration" class="lazy lightbox lightbox-image" loading=lazy src="../../images/otel-config.png?width=60vw"></a></p><p>While this example uses a hard-coded value for the tag, parameterized values can also be used, allowing you to customize the tags dynamically based on the context of each host, application, or operation. This flexibility enables you to capture relevant metadata, user-specific details, or system parameters, providing a rich context for metrics, tracing, and log data while enhancing the observability of your distributed systems.</p><p>Now that you have the appropriate context, which as we&rsquo;ve established is critical to Observability, let&rsquo;s head over to <strong>Splunk Observability Cloud</strong> and see how we can use the data we&rsquo;ve just configured.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=reuse-content-across-teams>Reuse Content Across Teams</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>3 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>In today&rsquo;s rapidly evolving technological landscape, where hybrid and cloud environments are becoming the norm, the need for effective monitoring and troubleshooting solutions has never been more critical. However, managing the elasticity and complexity of these modern infrastructures poses a significant challenge for teams across various industries. One of the primary pain points encountered in this endeavor is the inadequacy of existing monitoring and troubleshooting experiences.</p><p>Traditional monitoring approaches often fall short in addressing the intricacies of hybrid and cloud environments. Teams frequently encounter slow data visualization and troubleshooting processes, compounded by the clutter of bespoke yet similar dashboards and the manual correlation of data from disparate sources. This cumbersome workflow is made worse by the absence of monitoring tools tailored to ephemeral technologies such as containers, orchestrators like Kubernetes, and serverless functions.</p><p><a href=#R-image-242942fcfe0e69c8fa0b0382566fc3b6 class=lightbox-link><img alt="Infrastructure Overview in Splunk Observability Cloud" class="lazy lightbox figure-image" loading=lazy src="../images/infra-overview.png?width=60vw" style=height:auto;width:60vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-242942fcfe0e69c8fa0b0382566fc3b6><img alt="Infrastructure Overview in Splunk Observability Cloud" class="lazy lightbox lightbox-image" loading=lazy src="../images/infra-overview.png?width=60vw"></a></p><p>In this section, we&rsquo;ll cover how <strong>Splunk Observability Cloud</strong> provides out-of-the-box content for every integration. Not only do the out-of-the-box dashboards provide rich visibility into the infrastructure that is being monitored they can also be mirrored. This is important because it enables you to create standard dashboards for use by teams throughout your organization. This allows all teams to see any changes to the charts in the dashboard, and members of each team can set dashboard variables and filter customizations relevant to their requirements.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 3. Reuse Content Across Teams</h1><article class=default><header class=headline></header><h1 id=infrastrcuture-navigators>Infrastrcuture Navigators</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>Splunk Infrastructure Monitoring (IM) is a market-leading monitoring and observability service for hybrid cloud environments. Built on a patented streaming architecture, it provides a <strong>real-time</strong> solution for engineering teams to visualize and analyze performance across infrastructure, services, and applications in a fraction of the time and with greater accuracy than traditional solutions.</p><p><strong>300+ Easy-to-use OOTB content:</strong> Pre-built navigators and dashboards, deliver immediate visualizations of your entire environment so that you can interact with all your data in real time.<br><strong>Kubernetes navigator:</strong> Provides an instant, comprehensive out-of-the-box hierarchical view of nodes, pods, and containers. Ramp up even the most novice Kubernetes user with easy-to-understand interactive cluster maps.<br><strong>AutoDetect alerts and detectors:</strong> Automatically identify the most important metrics, out-of-the-box, to create alert conditions for detectors that accurately alert from the moment telemetry data is ingested and use real-time alerting capabilities for important notifications in seconds.<br><strong>Log views in dashboards:</strong> Combine log messages and real-time metrics on one page with common filters and time controls for faster in-context troubleshooting.<br><strong>Metrics pipeline management:</strong> Control metrics volume at the point of ingest without re-instrumentation with a set of aggregation and data-dropping rules to store and analyze only the needed data. Reduce metrics volume and optimize observability spend.</p><p><a href=#R-image-0a06f384489041c9ac84e6f9b8bce15f class=lightbox-link><img alt="Infrastructure Overview" class="lazy lightbox figure-image" loading=lazy src=../../images/infra-overview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0a06f384489041c9ac84e6f9b8bce15f><img alt="Infrastructure Overview" class="lazy lightbox lightbox-image" loading=lazy src=../../images/infra-overview.png></a></p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise: Find your Kubernetes Cluster</summary><div class=box-content><ul><li>From the <strong>Splunk Observability Cloud</strong> homepage, click the <a href=#R-image-ffedb9b63ee98182707f254c33a05dba class=lightbox-link><img alt=Infrastructure class="inline lazy lightbox figure-image" loading=lazy src="../../images/infra-button.png?height=20px&classes=inline" style=height:20px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ffedb9b63ee98182707f254c33a05dba><img alt=Infrastructure class="inline lazy lightbox lightbox-image" loading=lazy src="../../images/infra-button.png?height=20px&classes=inline"></a> button -> <strong>Kubernetes</strong> -> <strong>K8s nodes</strong></li><li>First, use the <a href=#R-image-3635f688e5ea47c4d2d78d0c815d4ff8 class=lightbox-link><img alt="k8s filter" class="inline lazy lightbox figure-image" loading=lazy src="../../images/k8s-add-filter.png?classes=inline" style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3635f688e5ea47c4d2d78d0c815d4ff8><img alt="k8s filter" class="inline lazy lightbox lightbox-image" loading=lazy src="../../images/k8s-add-filter.png?classes=inline"></a> option to pick your cluster.</li><li>From the filter drop-down box, use the <code>store.location</code> value you entered when deploying the application.</li><li>You then can start typing the city you used which should also appear in the drop-down values. Select yours and make sure just the one for your workshop is highlighted with a <a href=#R-image-287dafbd4aac0b24c729be27b0639e08 class=lightbox-link><img alt="blue tick" class="inline lazy lightbox figure-image" loading=lazy src="../../images/select-checkmark.png?classes=inline&width=30px" style=height:auto;width:30px></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-287dafbd4aac0b24c729be27b0639e08><img alt="blue tick" class="inline lazy lightbox lightbox-image" loading=lazy src="../../images/select-checkmark.png?classes=inline&width=30px"></a>.</li><li>Click the <span class="btn cstyle blue"><span><span class=title>Apply Filter</span></span></span> button to focus on our Cluster.</li></ul><p><a href=#R-image-709c2b5471770a565aae592427a477e3 class=lightbox-link><img alt="Kubernetes Navigator" class="lazy lightbox figure-image" loading=lazy src=../../images/k8s-nav.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-709c2b5471770a565aae592427a477e3><img alt="Kubernetes Navigator" class="lazy lightbox lightbox-image" loading=lazy src=../../images/k8s-nav.png></a></p><ul><li>You should now have your Kubernetes Cluster visible</li><li>Here we can see all of the different components of the cluster (Nodes, Pods, etc), each of which has relevant metrics associated with it. On the right side, you can also see what services are running in the cluster.</li></ul><p><strong>Before moving to the next section, take some time to explore the Kubernetes Navigator to see the data that is available Out of the Box.</strong></p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=dashboard-cloning>Dashboard Cloning</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>ITOps teams responsible for monitoring fleets of infrastructure frequently find themselves manually creating dashboards to visualize and analyze metrics, traces, and log data emanating from rapidly changing cloud-native workloads hosted in Kubernetes and serverless architectures, alongside existing on-premises systems. Moreover, due to the absence of a standardized troubleshooting workflow, teams often resort to creating numerous custom dashboards, each resembling the other in structure and content. As a result, administrative overhead skyrockets and MTTR slows.</p><p>To address this, you can use the out-of-the-box dashboards available in <strong>Splunk Observability Cloud</strong> for each and every integration. These dashboards are filterable and can be used for ad hoc troubleshooting or as a templated approach to getting users the information they need without having to start from scratch. Not only do the out-of-the-box dashboards provide rich visibility into the infrastructure that is being monitored they can also be cloned.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise: Create a Mirrored Dashboard</summary><div class=box-content><ol><li>In <strong>Splunk Observability Cloud</strong>, click the Global Search <a href=#R-image-92c4d4bdf892d8179431c6dd05e45865 class=lightbox-link><img alt=Search class="inline lazy lightbox figure-image" loading=lazy src="../../images/search.png?height=20px&classes=inline" style=height:20px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-92c4d4bdf892d8179431c6dd05e45865><img alt=Search class="inline lazy lightbox lightbox-image" loading=lazy src="../../images/search.png?height=20px&classes=inline"></a> button. (Global Search can be used to quickly find content)</li><li>Search for <strong>Pods</strong> and select <strong>K8s pods (Kubernetes)</strong>
<a href=#R-image-705745f69e99c3da4a9463cfc27938a3 class=lightbox-link><img alt=Search class="lazy lightbox figure-image" loading=lazy src=../../images/search-k8s-pods.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-705745f69e99c3da4a9463cfc27938a3><img alt=Search class="lazy lightbox lightbox-image" loading=lazy src=../../images/search-k8s-pods.png></a></li><li>This will take you to the out-of-the-box Kubernetes Pods dashboard which we will use as a template for mirroring dashboards.</li><li>In the upper right corner of the dashboard click the <strong>Dashboard actions</strong> button (3 horizontal dots) -> Click <strong>Save As&mldr;</strong>
<a href=#R-image-843693f220ed2768b5f581745d8a5d7f class=lightbox-link><img alt=Search class="lazy lightbox figure-image" loading=lazy src=../../images/k8s-pod-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-843693f220ed2768b5f581745d8a5d7f><img alt=Search class="lazy lightbox lightbox-image" loading=lazy src=../../images/k8s-pod-dashboard.png></a></li><li>Enter a dashboard name (i.e. <strong>Kubernetes Pods Dashboard</strong>)</li><li>Under <strong>Dashboard group</strong> search for your e-mail address and select it.</li><li>Click <strong>Save</strong></li></ol><p><strong>Note:</strong> Every Observability Cloud user who has set a password and logged in at least once, gets a user dashboard group and user dashboard. Your user dashboard group is your individual workspace within Observability Cloud.</p><p><a href=#R-image-030b2da10cb01cfd3b041adb77aa9c11 class=lightbox-link><img alt="Save Dashboard" class="lazy lightbox figure-image" loading=lazy src="../../images/save-dashboard.png?height=400px" style=height:400px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-030b2da10cb01cfd3b041adb77aa9c11><img alt="Save Dashboard" class="lazy lightbox lightbox-image" loading=lazy src="../../images/save-dashboard.png?height=400px"></a></p><p>After saving, you will be taken to the newly created dashboard in the Dashboard Group for your user. This is an example of cloning an out-of-the-box dashboard which can be further customized and enables users to quickly build role, application, or environment relevant views.</p><p>Custom dashboards are meant to be used by multiple people and usually represent a curated set of charts that you want to make accessible to a broad cross-section of your organization. They are typically organized by service, team, or environment.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=dashboard-mirroring>Dashboard Mirroring</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>Not only do the out-of-the-box dashboards provide rich visibility into the infrastructure that is being monitored they can also be mirrored. This is important because it enables you to create standard dashboards for use by teams throughout your organization. This allows all teams to see any changes to the charts in the dashboard, and members of each team can set dashboard variables and filter customizations relevant to their requirements.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise: Create a Mirrored Dashboard</summary><div class=box-content><ol><li><p>While on the Kubernetes Pods dashboard, you created in the previous step, In the upper right corner of the dashboard click the <strong>Dashboard actions</strong> button (3 horizontal dots) -> Click <strong>Add a mirror&mldr;</strong>. A configuration modal for the Dashboard Mirror will open.</p><p><a href=#R-image-6f4d72508a80ac438b9550547396742c class=lightbox-link><img alt="Mirror Dashboard Menu" class="lazy lightbox figure-image" loading=lazy src="../../images/mirror-dashboard-menu.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6f4d72508a80ac438b9550547396742c><img alt="Mirror Dashboard Menu" class="lazy lightbox lightbox-image" loading=lazy src="../../images/mirror-dashboard-menu.png?width=40vw"></a></p></li><li><p>Under <strong>My dashboard group</strong> search for your e-mail address and select it.</p></li><li><p>(Optional) Modify the dashboard in <strong>Dashboard name override</strong> name.</p></li><li><p>(Optional) Add a dashboard description in <strong>Dashboard description override</strong>.</p></li><li><p>Under <strong>Default filter overrides</strong> search for <code>k8s.cluster.name</code> and select the name of your Kubernetes cluster.</p></li><li><p>Under <strong>Default filter overrides</strong> search for <code>store.location</code> and select the city you entered during the workshop setup.
<a href=#R-image-1fb315e8983345d7761a68bafe8dbe3f class=lightbox-link><img alt="Mirror Dashboard Config" class="lazy lightbox figure-image" loading=lazy src="../../images/mirror-dashboard-config.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1fb315e8983345d7761a68bafe8dbe3f><img alt="Mirror Dashboard Config" class="lazy lightbox lightbox-image" loading=lazy src="../../images/mirror-dashboard-config.png?width=40vw"></a></p></li><li><p>Click <strong>Save</strong></p></li></ol><p>You will now be taken to the newly created dashboard which is a mirror of the Kubernetes Pods dashboard you created in the previous section. Any changes to the original dashboard will be reflected in this dashboard as well. This allows teams to have a consistent yet specific view of the systems they care about and any modifications or updates can be applied in a single location, significantly minimizing the effort needed when compared to updating each individual dashboard.</p><p>In the next section, you&rsquo;ll add a new logs-based chart to the original dashboard and see how the dashboard mirror is automatically updated as well.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=correlate-metrics-and-logs>Correlate Metrics and Logs</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>1 minute</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>Correlating infrastructure metrics and logs is often a challenging task, primarily due to inconsistencies in naming conventions across various data sources, including hosts operating on different systems. However, leveraging the capabilities of <strong>OpenTelemetry</strong> can significantly simplify this process. With OpenTelemetry&rsquo;s robust framework, which offers rich metadata and attribution, metrics, traces, and logs can seamlessly correlate using standardized field names. This automated correlation not only alleviates the burden of manual effort but also enhances the overall observability of the system.</p><p>By aligning metrics and logs based on common field names, teams gain deeper insights into system performance, enabling more efficient troubleshooting, proactive monitoring, and optimization of resources. In this workshop section, we&rsquo;ll explore the importance of correlating metrics with logs and demonstrate how Splunk <strong>Observability Cloud</strong> empowers teams to unlock additional value from their observability data.</p><p><a href=#R-image-dfd96d2db16a8b8459556b22156e3263 class=lightbox-link><img alt="Log Observer" class="lazy lightbox figure-image" loading=lazy src=../images/log-observer.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-dfd96d2db16a8b8459556b22156e3263><img alt="Log Observer" class="lazy lightbox lightbox-image" loading=lazy src=../images/log-observer.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 4. Correlate Metrics and Logs</h1><article class=default><header class=headline></header><h1 id=correlate-metrics-and-logs>Correlate Metrics and Logs</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>In this section, we&rsquo;ll dive into the seamless correlation of metrics and logs facilitated by the robust naming standards offered by <strong>OpenTelemetry</strong>. By harnessing the power of OpenTelemetry within <strong>Splunk Observability Cloud</strong>, we&rsquo;ll demonstrate how troubleshooting issues becomes significantly more efficient for Site Reliability Engineers (SREs) and operators. With this integration, contextualizing data across various telemetry sources no longer demands manual effort to correlate information. Instead, SREs and operators gain immediate access to the pertinent context they need, allowing them to swiftly pinpoint and resolve issues, improving system reliability and performance.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise: View pod logs</summary><div class=box-content><p>The <strong>Kubernetes Pods Dashboard</strong> you created in the previous section already includes a chart that contains all of the pod logs for your Kubernetes Cluster. The log entries are split by container in this stacked bar chart. To view specific log entries perform the following steps:</p><ol><li><p>On the <strong>Kubernetes Pods Dashboard</strong> click on one of the bar charts. A modal will open with the most recent log entries for the container you&rsquo;ve selected.</p><p><a href=#R-image-3e4e5b18382a607790659b4f86ec8e32 class=lightbox-link><img alt="K8s pod logs" class="lazy lightbox figure-image" loading=lazy src="../../images/k8s-pod-logs.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3e4e5b18382a607790659b4f86ec8e32><img alt="K8s pod logs" class="lazy lightbox lightbox-image" loading=lazy src="../../images/k8s-pod-logs.png?width=40vw"></a></p></li><li><p>Click one of the log entries.</p><p><a href=#R-image-614fd7342b3367254a15af1b053194d5 class=lightbox-link><img alt="K8s pod log event" class="lazy lightbox figure-image" loading=lazy src="../../images/k8s-pod-log-event.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-614fd7342b3367254a15af1b053194d5><img alt="K8s pod log event" class="lazy lightbox lightbox-image" loading=lazy src="../../images/k8s-pod-log-event.png?width=40vw"></a></p><p>Here we can see the entire log event with all of the fields and values. You can search for specific field names or values within the event itself using the <strong>Search for fields</strong> bar in the event.</p></li><li><p>Enter the city you configured during the application deployment</p><p><a href=#R-image-4ddf69c9861782f8188b20add486884b class=lightbox-link><img alt="K8s pod log field search" class="lazy lightbox figure-image" loading=lazy src="../../images/k8s-pod-log-field-search.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4ddf69c9861782f8188b20add486884b><img alt="K8s pod log field search" class="lazy lightbox lightbox-image" loading=lazy src="../../images/k8s-pod-log-field-search.png?width=40vw"></a></p><p>The event will now be filtered to the <code>store.location</code> field. This feature is great for exploring large log entries for specific fields and values unique to your environment or to search for keywords like <code>Error</code> or <code>Failure</code>.</p></li><li><p>Close the event using the <code>X</code> in the upper right corner.</p></li><li><p>Click the <strong>Chart actions</strong> (three horizontal dots) on the <strong>Pod log event rate</strong> chart</p></li><li><p>Click <strong>View in Log Observer</strong></p></li></ol><p><a href=#R-image-9e27a8eca4037e062f2c220dcdab3da9 class=lightbox-link><img alt="View in Log Observer" class="lazy lightbox figure-image" loading=lazy src="../../images/k8s-pod-loc.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9e27a8eca4037e062f2c220dcdab3da9><img alt="View in Log Observer" class="lazy lightbox lightbox-image" loading=lazy src="../../images/k8s-pod-loc.png?width=40vw"></a></p><p>This will take us to <strong>Log Observer</strong>. In the next section, you&rsquo;ll create a chart based on log events and add it to the <strong>K8s Pod Dashboard</strong> you cloned in section <a href=../../3-reuse-content-across-teams/2-clone-dashboards>3.2 Dashboard Cloning</a>. You&rsquo;ll also see how this new chart is automatically added to the mirrored dashboard you created in section <a href=../../3-reuse-content-across-teams/3-mirror-dashboards>3.3 Dashboard Mirroring</a>.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 8, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=create-log-based-chart>Create Log-based Chart</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>In Log Observer, you can perform codeless queries on logs to detect the source of problems in your systems. You can also extract fields from logs to set up log processing rules and transform your data as it arrives or send data to Infinite Logging S3 buckets for future use. See <a href=https://docs.splunk.com/observability/en/logs/get-started-logs.html#logobserverfeatures rel=external target=_blank>What can I do with Log Observer?</a> to learn more about Log Observer capabilities.</p><p>In this section, you&rsquo;ll create a chart filtered to logs that include errors which will be added to the <strong>K8s Pod Dashboard</strong> you cloned in section <a href=../../3-reuse-content-across-teams/2-clone-dashboards>3.2 Dashboard Cloning</a>.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise: Create Log-based Chart</summary><div class=box-content><p>Because you drilled into <strong>Log Observer</strong> from the <strong>K8s Pod Dashboard</strong> in the previous section, the dashboard will already be filtered to your cluster and store location using the <code>k8s.cluster.name</code> and <code>store.location</code> fields and the bar chart is split by <code>k8s.pod.name</code>. To filter the dashboard to only logs that contain errors complete the following steps:</p><p><strong>Log Observer</strong> can be filtered using Keywords or specific key-value pairs.</p><ol><li><p>In <strong>Log Observer</strong> click <strong>Add Filter</strong> along the top.</p></li><li><p>Make sure you&rsquo;ve selected <strong>Fields</strong> as the filter type and enter <code>severity</code> in the <strong>Find a field&mldr;</strong> search bar.</p></li><li><p>Select <code>severity</code> from the fields list.</p><p>You should now see a list of severities and the number of log entries for each.</p></li><li><p>Under <strong>Top values</strong>, hover over Error and click the <code>=</code> button to apply the filter.</p><p><a href=#R-image-2e922fbb43dddab9ca67b8c97d7528c7 class=lightbox-link><img alt="Log Observer: Filter errors" class="lazy lightbox figure-image" loading=lazy src="../../images/loc-filter-errors.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2e922fbb43dddab9ca67b8c97d7528c7><img alt="Log Observer: Filter errors" class="lazy lightbox lightbox-image" loading=lazy src="../../images/loc-filter-errors.png?width=40vw"></a></p><p>The dashboard will now be filtered to only log entries with a severity of Error and the bar chart will be split by the Kubernetes Pod that contains the errors. Next, you&rsquo;ll save the chart on your <strong>Kubernetes Pods Dashboard</strong>.</p></li><li><p>In the upper right corner of the <strong>Log Observer</strong> dashboard click <strong>Save</strong>.</p></li><li><p>Select <strong>Save to Dashboard</strong>.</p></li><li><p>In the <strong>Chart name</strong> field enter a name for your chart.</p></li><li><p>(Optional) In the <strong>Chart description</strong> field enter a description for your chart.</p><p><a href=#R-image-2c6a8a1010ed7e29b7b5a6e7b547ac7c class=lightbox-link><img alt="Log Observer: Save Chart Name" class="lazy lightbox figure-image" loading=lazy src="../../images/loc-save-chart-name.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2c6a8a1010ed7e29b7b5a6e7b547ac7c><img alt="Log Observer: Save Chart Name" class="lazy lightbox lightbox-image" loading=lazy src="../../images/loc-save-chart-name.png?width=40vw"></a></p></li><li><p>Click <strong>Select Dashboard</strong> and search for the name of the Dashboard you cloned in section <a href=../../3-reuse-content-across-teams/2-clone-dashboards>3.2 Dashboard Cloning</a>.</p></li><li><p>Select the dashboard in the Dashboard Group for your email address.</p><p><a href=#R-image-3a31451f735456078f4817630ec923bc class=lightbox-link><img alt="Log Observer: Select Dashboard" class="lazy lightbox figure-image" loading=lazy src="../../images/loc-select-dashboard.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3a31451f735456078f4817630ec923bc><img alt="Log Observer: Select Dashboard" class="lazy lightbox lightbox-image" loading=lazy src="../../images/loc-select-dashboard.png?width=40vw"></a></p></li><li><p>Click <strong>OK</strong></p></li><li><p>For the <strong>Chart type</strong> select <strong>Log timeline</strong></p></li><li><p>Click <strong>Save and go to the dashboard</strong></p></li></ol><p>You will now be taken to your <strong>Kubernetes Pods Dashboard</strong> where you should see the chart you just created for pod errors.</p><p><a href=#R-image-b8ff8e4e6debff3f5f82a6486b5248f2 class=lightbox-link><img alt="Log Errors Chart" class="lazy lightbox figure-image" loading=lazy src="../../images/k8s-pod-log-error-chart.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b8ff8e4e6debff3f5f82a6486b5248f2><img alt="Log Errors Chart" class="lazy lightbox lightbox-image" loading=lazy src="../../images/k8s-pod-log-error-chart.png?width=40vw"></a></p><p>Because you updated the original <strong>Kubernetes Pods Dashboard</strong>, your mirrored dashboard will also include this chart as well! You can see this by clicking the mirrored version of your dashboard along the top of the Dashboard Group for your user.</p><p><a href=#R-image-e683345e609eafaea643bd1be563d4c6 class=lightbox-link><img alt="Log Errors Chart" class="lazy lightbox figure-image" loading=lazy src="../../images/k8s-pod-select-dashboard.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e683345e609eafaea643bd1be563d4c6><img alt="Log Errors Chart" class="lazy lightbox lightbox-image" loading=lazy src="../../images/k8s-pod-select-dashboard.png?width=40vw"></a></p><p><strong>Now that you&rsquo;ve seen how data can be reused across teams by cloning the dashboard, creating dashboard mirrors and how metrics can easily be correlated with logs, let&rsquo;s take a look at how to create alerts so your teams can be notified when there is an issue with their infrastructure, services, or applications.</strong></p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=improve-timeliness-of-alerts>Improve Timeliness of Alerts</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>1 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>When monitoring hybrid and cloud environments, ensuring timely alerts for critical infrastructure and applications poses a significant challenge. Typically, this involves crafting intricate queries, meticulously scheduling searches, and managing alerts across various monitoring solutions. Moreover, the proliferation of disparate alerts generated from identical data sources often results in unnecessary duplication, contributing to alert fatigue and noise within the monitoring ecosystem.</p><p>In this section, we&rsquo;ll explore how Splunk Observability Cloud addresses these challenges by enabling the effortless creation of alert criteria. Leveraging its 10-second default data collection capability, alerts can be triggered swiftly, surpassing the timeliness achieved by traditional monitoring tools. This enhanced responsiveness not only reduces Mean Time to Detect (MTTD) but also accelerates Mean Time to Resolve (MTTR), ensuring that critical issues are promptly identified and remediated.</p><p><a href=#R-image-a7a5962de29a5556efc8029bbf7e7031 class=lightbox-link><img alt="Detector Dashboard" class="lazy lightbox figure-image" loading=lazy src=../images/detector-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a7a5962de29a5556efc8029bbf7e7031><img alt="Detector Dashboard" class="lazy lightbox lightbox-image" loading=lazy src=../images/detector-dashboard.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 5. Improve Timeliness of Alerts</h1><article class=default><header class=headline></header><h1 id=create-custom-detector>Create Custom Detector</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Tim Hard</span></span><p>Splunk Observability Cloud provides detectors, events, alerts, and notifications to keep you informed when certain criteria are met. There are a number of pre-built <strong>AutoDetect Detectors</strong> that automatically surface when common problem patterns occur, such as when an EC2 instance‚Äôs CPU utilization is expected to reach its limit. Additionally, you can also create custom detectors if you want something more optimized or specific. For example, you want a message sent to a Slack channel or to an email address for the Ops team that manages this Kubernetes cluster when Memory Utilization on their pods has reached 85%.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise: Create Custom Detector</summary><div class=box-content><p>In this section you&rsquo;ll create a detector on <strong>Pod Memory Utilization</strong> which will trigger if utilization surpasses 85%</p><ol><li><p>On the <strong>Kubernetes Pods Dashboard</strong> you cloned in section <a href=../../3-reuse-content-across-teams/2-clone-dashboards>3.2 Dashboard Cloning</a>, click the <strong>Get Alerts</strong> button (bell icon) for the <strong>Memory usage (%)</strong> chart -> Click <strong>New detector from chart</strong>.</p><p><a href=#R-image-bd26bd7b4861782aa84d38f335abfb83 class=lightbox-link><img alt="New Detector from Chart" class="lazy lightbox figure-image" loading=lazy src="../../images/new-detector.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bd26bd7b4861782aa84d38f335abfb83><img alt="New Detector from Chart" class="lazy lightbox lightbox-image" loading=lazy src="../../images/new-detector.png?width=40vw"></a></p></li><li><p>In the <strong>Create detector</strong> add your initials to the detector name.</p><p><a href=#R-image-6a7263d56437cad13e0d6b4d180d6d91 class=lightbox-link><img alt="Create Detector: Update Detector Name" class="lazy lightbox figure-image" loading=lazy src="../../images/create-detector-name.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6a7263d56437cad13e0d6b4d180d6d91><img alt="Create Detector: Update Detector Name" class="lazy lightbox lightbox-image" loading=lazy src="../../images/create-detector-name.png?width=40vw"></a></p></li><li><p>Click <strong>Create alert rule</strong>.</p><p>These conditions are expressed as one or more rules that trigger an alert when the conditions in the rules are met. Importantly, multiple rules can be included in the same detector configuration which minimizes the total number of alerts that need to be created and maintained. You can see which signal this detector will alert on by the bell icon in the <strong>Alert On</strong> column. In this case, this detector will alert on the Memory Utilization for the pods running in this Kubernetes cluster.</p><p><a href=#R-image-a329e710be3255c0c31c89e6cd2e6a72 class=lightbox-link><img alt="Alert Signal" class="lazy lightbox figure-image" loading=lazy src="../../images/alert-signals.png?width=60vw" style=height:auto;width:60vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a329e710be3255c0c31c89e6cd2e6a72><img alt="Alert Signal" class="lazy lightbox lightbox-image" loading=lazy src="../../images/alert-signals.png?width=60vw"></a></p></li><li><p>Click <strong>Proceed To Alert Conditions</strong>.</p><p>Many pre-built alert conditions can be applied to the metric you want to alert on. This could be as simple as a static threshold or something more complex, for example, is memory usage deviating from the historical baseline across any of your 50,000 containers?</p><p><a href=#R-image-abfec1aa1edd7d093cea3f7cf0ea36df class=lightbox-link><img alt="Alert Conditions" class="lazy lightbox figure-image" loading=lazy src="../../images/alert-conditions.png?width=60vw" style=height:auto;width:60vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-abfec1aa1edd7d093cea3f7cf0ea36df><img alt="Alert Conditions" class="lazy lightbox lightbox-image" loading=lazy src="../../images/alert-conditions.png?width=60vw"></a></p></li><li><p>Select <strong>Static Threshold</strong>.</p></li><li><p>Click <strong>Proceed To Alert Settings</strong>.</p><p>In this case, you want the alert to trigger if any pods exceed 85% memory utilization. Once you‚Äôve set the alert condition, the configuration is back-tested against the historical data so you can confirm that the alert configuration is accurate, meaning will the alert trigger on the criteria you‚Äôve defined? This is also a great way to confirm if the alert generates too much noise.</p><p><a href=#R-image-aa88445f8f5673c854d29540e2633729 class=lightbox-link><img alt="Alert Settings" class="lazy lightbox figure-image" loading=lazy src="../../images/alert-settings.png?width=60vw" style=height:auto;width:60vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-aa88445f8f5673c854d29540e2633729><img alt="Alert Settings" class="lazy lightbox lightbox-image" loading=lazy src="../../images/alert-settings.png?width=60vw"></a></p></li><li><p>Enter 85 in the <strong>Threshold</strong> field.</p></li><li><p>Click <strong>Proceed To Alert Message</strong>.</p><p>Next, you can set the severity for this alert, you can include links to runbooks and short tips on how to respond, and you can customize the message that is included in the alert details. The message can include parameterized fields from the actual data, for example, in this case, you may want to include which Kubernetes node the pod is running on, or the <code>store.location</code> configured when you deployed the application, to provide additional context.</p><p><a href=#R-image-56a82bc655ffaf07ea78b70fb6a8ba27 class=lightbox-link><img alt="Alert Message" class="lazy lightbox figure-image" loading=lazy src="../../images/alert-message.png?width=60vw" style=height:auto;width:60vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-56a82bc655ffaf07ea78b70fb6a8ba27><img alt="Alert Message" class="lazy lightbox lightbox-image" loading=lazy src="../../images/alert-message.png?width=60vw"></a></p></li><li><p>Click <strong>Proceed To Alert Recipients</strong>.</p><p>You can choose where you want this alert to be sent when it triggers. This could be to a team, specific email addresses, or to other systems such as ServiceNow, Slack, Splunk On-Call or Splunk ITSI. You can also have the alert execute a webhook which enables me to leverage automation or to integrate with many other systems such as homegrown ticketing tools. <strong>For the purpose of this workshop do not include a recipient</strong></p><p><a href=#R-image-9c063ed9b04f7822f711cbb2d7d0a358 class=lightbox-link><img alt="Alert Recipients" class="lazy lightbox figure-image" loading=lazy src="../../images/alert-recipients.png?width=60vw" style=height:auto;width:60vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9c063ed9b04f7822f711cbb2d7d0a358><img alt="Alert Recipients" class="lazy lightbox lightbox-image" loading=lazy src="../../images/alert-recipients.png?width=60vw"></a></p></li><li><p>Click <strong>Proceed To Alert Activation</strong>.</p><p><a href=#R-image-99aa77c6dfcd24566fe6ddedaf542f89 class=lightbox-link><img alt="Activate Alert" class="lazy lightbox figure-image" loading=lazy src="../../images/alert-activate-alert.png?width=60vw" style=height:auto;width:60vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-99aa77c6dfcd24566fe6ddedaf542f89><img alt="Activate Alert" class="lazy lightbox lightbox-image" loading=lazy src="../../images/alert-activate-alert.png?width=60vw"></a></p></li><li><p>Click <strong>Activate Alert</strong>.</p><p><a href=#R-image-ea7ab9e27723e7066530497acbc6b7f8 class=lightbox-link><img alt="Activate Alert Message" class="lazy lightbox figure-image" loading=lazy src="../../images/alert-activation.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ea7ab9e27723e7066530497acbc6b7f8><img alt="Activate Alert Message" class="lazy lightbox lightbox-image" loading=lazy src="../../images/alert-activation.png?width=40vw"></a></p><p>You will receive a warning because no recipients were included in the Notification Policy for this detector. This can be warning can be dismissed.</p></li><li><p>Click <strong>Save</strong>.</p><p><a href=#R-image-273c791f45bf4b48aa4537b21092e4c9 class=lightbox-link><img alt="Activate Alert Message" class="lazy lightbox figure-image" loading=lazy src="../../images/alert-new-detector.png?width=60vw" style=height:auto;width:60vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-273c791f45bf4b48aa4537b21092e4c9><img alt="Activate Alert Message" class="lazy lightbox lightbox-image" loading=lazy src="../../images/alert-new-detector.png?width=60vw"></a></p><p>You will be taken to your newly created detector where you can see any triggered alerts.</p></li><li><p>In the upper right corner, Click <strong>Close</strong> to close the Detector.</p></li></ol><p>The detector status and any triggered alerts will automatically be included in the chart because this detector was configured for this chart.</p><p><a href=#R-image-b6af45d5bf1bfd9a9a19db66f2a03e37 class=lightbox-link><img alt="Alert Chart" class="lazy lightbox figure-image" loading=lazy src="../../images/alert-chart.png?width=40vw" style=height:auto;width:40vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b6af45d5bf1bfd9a9a19db66f2a03e37><img alt="Alert Chart" class="lazy lightbox lightbox-image" loading=lazy src="../../images/alert-chart.png?width=40vw"></a></p><p><strong>Congratulations! You&rsquo;ve successfully created a detector that will trigger if pod memory utilization exceeds 85%. After a few minutes, the detector should trigger some alerts. You can click the detector name in the chart to view the triggered alerts.</strong></p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=conclusion>Conclusion</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>1 minute</span>
</span>&nbsp;<p>Today you‚Äôve seen how Splunk Observability Cloud can help you overcome many of the challenges you face monitoring hybrid and cloud environments. You‚Äôve demonstrated how <strong>Splunk Observability Cloud</strong> streamlines operations with standardized data collection and tags, ensuring consistency across all IT infrastructure. The Unified Service Telemetry has been a game-changer, providing in-context metrics, logs, and trace data that make troubleshooting swift and efficient. By enabling the reuse of content across teams, you‚Äôre minimizing technical debt and bolstering the performance of our monitoring systems.</p><h2 id=happy-splunking>Happy Splunking!</h2><p><a href=#R-image-24da4c55a016e6c61b00f959673147f6 class=lightbox-link><img alt="Dancing Buttercup" class="lazy lightbox figure-image" loading=lazy src="../images/Splunk-dancing-buttercup-GIF-103.gif?width=30vw" style=height:auto;width:30vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-24da4c55a016e6c61b00f959673147f6><img alt="Dancing Buttercup" class="lazy lightbox lightbox-image" loading=lazy src="../images/Splunk-dancing-buttercup-GIF-103.gif?width=30vw"></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 4, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=debug-problems-in-microservices>Debug Problems in Microservices</h1><ul class="children children-li children-sort-"><li class=children-title><a href=/observability-workshop/v5.100/en/scenarios/debug_problems/tagging/index.html>Tagging Workshop</a><p>This workshop shows how tags can be used to reduce the time required for SREs to isolate issues across services, so they know which team to engage to troubleshoot the issue further, and can provide context to help engineering get a head start on debugging.</p></li><li class=children-title><a href=/observability-workshop/v5.100/en/scenarios/debug_problems/profiling/index.html>Profiling Workshop</a><p>This workshop shows how Database Query Performance and AlwaysOn Profiling can be used to reduce the time required for engineers to debug problems in microservices.</p></li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of Debug Problems in Microservices</h1><article class=default><header class=headline></header><h1 id=tagging-workshop>Tagging Workshop</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>2 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Derek Mitchell</span></span><p><strong>Splunk Observability Cloud</strong> includes powerful features that dramatically reduce the time required for SREs to isolate issues across services, so they know which team to engage to troubleshoot the issue further, and can provide context to help engineering get a head start on debugging.</p><p>Unlocking these features requires tags to be included with your application traces. But how do you know which tags are the most valuable and how do you capture them?</p><p>In this workshop, we&rsquo;ll explore:</p><ul><li>What are <strong>tags</strong> and why are they such a critical part of making an application observable.</li><li>How to use <a href=https://opentelemetry.io rel=external target=_blank><strong>OpenTelemetry</strong></a> to capture tags of interest from your application.</li><li>How to index tags in <strong>Splunk Observability Cloud</strong> and the differences between <strong>Troubleshooting MetricSets</strong> and <strong>Monitoring MetricSets</strong>.</li><li>How to utilize tags in <strong>Splunk Observability Cloud</strong> to find ‚Äúunknown unknowns‚Äù using the <strong>Tag Spotlight</strong> and <strong>Dynamic Service Map</strong> features.</li><li>How to utilize tags for alerting and dashboards.</li></ul><p>The workshop uses a simple microservices-based application to illustrate these concepts. Let&rsquo;s get started!</p><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>The easiest way to navigate through this workshop is by using:</p><ul><li>the left/right arrows (<strong>&lt;</strong> | <strong>></strong>) on the top right of this page</li><li>the left (‚óÄÔ∏è) and right (‚ñ∂Ô∏è) cursor keys on your keyboard</li></ul></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of Tagging Workshop</h1><article class=default><header class=headline></header><h1 id=build-the-sample-application>Build the Sample Application</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<h2 id=introduction>Introduction</h2><p>For this workshop, we&rsquo;ll be using a microservices-based application. This application is for an online retailer and normally includes more than a dozen services. However, to keep the workshop simple, we&rsquo;ll be focusing on two services used by the retailer as part of their payment processing workflow: the credit check service and the credit processor service.</p><h2 id=pre-requisites>Pre-requisites</h2><p>You will start with an EC2 instance and perform some <a href=/observability-workshop/v5.100/en/scenarios/debug_problems/tagging/1-build-application/index.html#initial-steps>initial steps</a> in order to get to the following state:</p><ul><li>Deploy the <strong>Splunk distribution of the OpenTelemetry Collector</strong></li><li>Build and deploy <code>creditcheckservice</code> and <code>creditprocessorservice</code></li><li>Deploy a load generator to send traffic to the services</li></ul><h2 id=initial-steps>Initial Steps</h2><p>The initial setup can be completed by executing the following steps on the command line of your EC2 instance:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> workshop/tagging
</span></span><span class=line><span class=cl>./0-deploy-collector-with-services.sh</span></span></code></pre></div><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Java</summary><div class=box-content><p>There are implementations in multiple languages available for <code>creditcheckservice</code>.
Run</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>./0-deploy-collector-with-services.sh java</span></span></code></pre></div><p>to pick Java over Python.</p></div></details><h2 id=view-your-application-in-splunk-observability-cloud>View your application in Splunk Observability Cloud</h2><p>Now that the setup is complete, let&rsquo;s confirm that it&rsquo;s sending data to <strong>Splunk Observability Cloud</strong>. Note that when the application is deployed for the first time, it may take a few minutes for the data to appear.</p><p>Navigate to APM, then use the Environment dropdown to select your environment (i.e. <code>tagging-workshop-instancename</code>).</p><p>If everything was deployed correctly, you should see <code>creditprocessorservice</code> and <code>creditcheckservice</code> displayed in the list of services:</p><p><a href=#R-image-5f22a35884faed42098f79a5798bed96 class=lightbox-link><img alt="APM Overview" class="lazy lightbox figure-image" loading=lazy src=../images/apm_overview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5f22a35884faed42098f79a5798bed96><img alt="APM Overview" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm_overview.png></a></p><p>Click on <strong>Explore</strong> on the right-hand side to view the service map. We can see that the <code>creditcheckservice</code> makes calls to the <code>creditprocessorservice</code>, with an average response time of at least 3 seconds:</p><p><a href=#R-image-63f4753ecc861e365c584379592ef353 class=lightbox-link><img alt="Service Map" class="lazy lightbox figure-image" loading=lazy src=../images/service_map.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-63f4753ecc861e365c584379592ef353><img alt="Service Map" class="lazy lightbox lightbox-image" loading=lazy src=../images/service_map.png></a></p><p>Next, click on <strong>Traces</strong> on the right-hand side to see the traces captured for this application. You&rsquo;ll see that some traces run relatively fast (i.e. just a few milliseconds), whereas others take a few seconds.</p><p><a href=#R-image-1d04c4b5f88894100c427c1cc9e3ad46 class=lightbox-link><img alt=Traces class="lazy lightbox figure-image" loading=lazy src=../images/traces.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1d04c4b5f88894100c427c1cc9e3ad46><img alt=Traces class="lazy lightbox lightbox-image" loading=lazy src=../images/traces.png></a></p><p>If you toggle <strong>Errors only</strong> to <code>on</code>, you&rsquo;ll also notice that some traces have errors:</p><p><a href=#R-image-5934104bb5b71897282fd5654379dbc6 class=lightbox-link><img alt=Traces class="lazy lightbox figure-image" loading=lazy src=../images/traces_with_errors.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5934104bb5b71897282fd5654379dbc6><img alt=Traces class="lazy lightbox lightbox-image" loading=lazy src=../images/traces_with_errors.png></a></p><p>Toggle <strong>Errors only</strong> back to <code>off</code> and sort the traces by duration, then click on one of the longer running traces. In this example, the trace took five seconds, and we can see that most of the time was spent calling the <code>/runCreditCheck</code> operation, which is part of the <code>creditprocessorservice</code>.</p><p><a href=#R-image-62b76b7094ff32c49e479c65951c6acc class=lightbox-link><img alt="Long Running Trace" class="lazy lightbox figure-image" loading=lazy src=../images/long_running_trace.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-62b76b7094ff32c49e479c65951c6acc><img alt="Long Running Trace" class="lazy lightbox lightbox-image" loading=lazy src=../images/long_running_trace.png></a></p><p>Currently, we don&rsquo;t have enough details in our traces to understand why some requests finish in a few milliseconds, and others take several seconds. To provide the best possible customer experience, this will be critical for us to understand.</p><p>We also don&rsquo;t have enough information to understand why some requests result in errors, and others don&rsquo;t. For example, if we look at one of the error traces, we can see that the error occurs when the <code>creditprocessorservice</code> attempts to call another service named <code>otherservice</code>. But why do some requests results in a call to <code>otherservice</code>, and others don&rsquo;t?</p><p><a href=#R-image-4b2da27811bb3e93319f1b9ccce1794a class=lightbox-link><img alt="Trace with Errors" class="lazy lightbox figure-image" loading=lazy src=../images/error_trace.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4b2da27811bb3e93319f1b9ccce1794a><img alt="Trace with Errors" class="lazy lightbox lightbox-image" loading=lazy src=../images/error_trace.png></a></p><p>We&rsquo;ll explore these questions and more in the workshop.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=what-are-tags>What are Tags?</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>3 minutes</span>
</span>&nbsp;<p>To understand why some requests have errors or slow performance, we&rsquo;ll need to add context to our traces. We&rsquo;ll do this by adding tags. But first, let&rsquo;s take a moment to discuss what tags are, and why they&rsquo;re so important for observability.</p><h2 id=what-are-tags>What are tags?</h2><p>Tags are key-value pairs that provide additional metadata about spans in a trace, allowing you to enrich the context of the spans you send to Splunk APM.</p><p>For example, a payment processing application would find it helpful to track:</p><ul><li>The payment type used (i.e. credit card, gift card, etc.)</li><li>The ID of the customer that requested the payment</li></ul><p>This way, if errors or performance issues occur while processing the payment, we have the context we need for troubleshooting.</p><p>While some tags can be added with the OpenTelemetry collector, the ones we‚Äôll be working with in this workshop are more granular, and are added by application developers using the OpenTelemetry API.</p><h2 id=attributes-vs-tags>Attributes vs. Tags</h2><p>A note about terminology before we proceed. While this workshop is about <strong>tags</strong>, and this is the terminology we use in <strong>Splunk Observability Cloud</strong>, OpenTelemetry uses the term <strong>attributes</strong> instead. So when you see tags mentioned throughout this workshop, you can treat them as synonymous with attributes.</p><h2 id=why-are-tags-so-important>Why are tags so important?</h2><p>Tags are essential for an application to be truly observable. As we saw with our credit check service, some users are having a great experience: fast with no errors. But other users get a slow experience or encounter errors.</p><p>Tags add the context to the traces to help us understand why some users get a great experience and others don&rsquo;t. And powerful features in <strong>Splunk Observability Cloud</strong> utilize tags to help you jump quickly to root cause.</p><h2 id=sneak-peak-tag-spotlight>Sneak Peak: Tag Spotlight</h2><p><strong>Tag Spotlight</strong> uses tags to discover trends that contribute to high latency or error rates:</p><p><a href=#R-image-a95476c356a46734cb56a537cbcee513 class=lightbox-link><img alt="Tag Spotlight Preview" class="lazy lightbox figure-image" loading=lazy src=../images/tag_spotlight_preview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a95476c356a46734cb56a537cbcee513><img alt="Tag Spotlight Preview" class="lazy lightbox lightbox-image" loading=lazy src=../images/tag_spotlight_preview.png></a></p><p>The screenshot above provides an example of Tag Spotlight from another application.</p><p>Splunk has analyzed all of the tags included as part of traces that involve the payment service.</p><p>It tells us very quickly whether some tag values have more errors than others.</p><p>If we look at the version tag, we can see that version 350.10 of the service has a 100% error rate, whereas version 350.9 of the service has no errors at all:</p><p><a href=#R-image-569e14301fb7fb492b430d1b109a3c19 class=lightbox-link><img alt="Tag Spotlight Preview" class="lazy lightbox figure-image" loading=lazy src=../images/tag_spotlight_preview_details.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-569e14301fb7fb492b430d1b109a3c19><img alt="Tag Spotlight Preview" class="lazy lightbox lightbox-image" loading=lazy src=../images/tag_spotlight_preview_details.png></a></p><p>We‚Äôll be using Tag Spotlight with the credit check service later on in the workshop, once we‚Äôve captured some tags of our own.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=capture-tags-with-opentelemetry>Capture Tags with OpenTelemetry</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>Please proceed to one of the subsections for Java or Python. Ask your instructor for the one used during the workshop!</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 3. Capture Tags with OpenTelemetry</h1><article class=default><header class=headline></header><h1 id=1-capture-tags---java>1. Capture Tags - Java</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>Let&rsquo;s add some tags to our traces, so we can find out why some customers receive a poor experience from our application.</p><h2 id=identify-useful-tags>Identify Useful Tags</h2><p>We&rsquo;ll start by reviewing the code for the <code>creditCheck</code> function of <code>creditcheckservice</code> (which can be found in the file <code>/home/splunk/workshop/tagging/creditcheckservice-java/src/main/java/com/example/creditcheckservice/CreditCheckController.java</code>):</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&#34;/check&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=nf>creditCheck</span><span class=p>(</span><span class=nd>@RequestParam</span><span class=p>(</span><span class=s>&#34;customernum&#34;</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>customerNum</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// Get Credit Score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>creditScore</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>creditScoreUrl</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;http://creditprocessorservice:8899/getScore?customernum=&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>customerNum</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>creditScore</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=n>creditScoreUrl</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>HttpClientErrorException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ResponseEntity</span><span class=p>.</span><span class=na>status</span><span class=p>(</span><span class=n>HttpStatus</span><span class=p>.</span><span class=na>INTERNAL_SERVER_ERROR</span><span class=p>).</span><span class=na>body</span><span class=p>(</span><span class=s>&#34;Error getting credit score&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>creditScoreCategory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getCreditCategoryFromScore</span><span class=p>(</span><span class=n>creditScore</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// Run Credit Check</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>creditCheckUrl</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;http://creditprocessorservice:8899/runCreditCheck?customernum=&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>customerNum</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;&amp;score=&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>creditScore</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>checkResult</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>checkResult</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=n>creditCheckUrl</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>HttpClientErrorException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ResponseEntity</span><span class=p>.</span><span class=na>status</span><span class=p>(</span><span class=n>HttpStatus</span><span class=p>.</span><span class=na>INTERNAL_SERVER_ERROR</span><span class=p>).</span><span class=na>body</span><span class=p>(</span><span class=s>&#34;Error running credit check&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>ResponseEntity</span><span class=p>.</span><span class=na>ok</span><span class=p>(</span><span class=n>checkResult</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span></span></span></code></pre></div><p>We can see that this function accepts a <strong>customer number</strong> as an input. This would be helpful to capture as part of a trace. What else would be helpful?</p><p>Well, the <strong>credit score</strong> returned for this customer by the <code>creditprocessorservice</code> may be interesting (we want to ensure we don&rsquo;t capture any PII data though). It would also be helpful to capture the <strong>credit score category</strong>, and the <strong>credit check result</strong>.</p><p>Great, we&rsquo;ve identified four tags to capture from this service that could help with our investigation. But how do we capture these?</p><h2 id=capture-tags>Capture Tags</h2><p>We start by adding OpenTelemetry imports to the top of the <code>CreditCheckController.java</code> file:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=p>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>io.opentelemetry.api.trace.Span</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>io.opentelemetry.instrumentation.annotations.WithSpan</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>io.opentelemetry.instrumentation.annotations.SpanAttribute</span><span class=p>;</span></span></span></code></pre></div><p>Next, we use the <code>@WithSpan</code> annotation to produce a span for <code>creditCheck</code>:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&#34;/check&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@WithSpan</span><span class=w> </span><span class=c1>// ADDED</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=nf>creditCheck</span><span class=p>(</span><span class=nd>@RequestParam</span><span class=p>(</span><span class=s>&#34;customernum&#34;</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>customerNum</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>...</span></span></span></code></pre></div><p>We can now get a reference to the current span and add an attribute (aka tag) to it:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=p>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>creditScoreUrl</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;http://creditprocessorservice:8899/getScore?customernum=&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>customerNum</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>creditScore</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=n>creditScoreUrl</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>HttpClientErrorException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>ResponseEntity</span><span class=p>.</span><span class=na>status</span><span class=p>(</span><span class=n>HttpStatus</span><span class=p>.</span><span class=na>INTERNAL_SERVER_ERROR</span><span class=p>).</span><span class=na>body</span><span class=p>(</span><span class=s>&#34;Error getting credit score&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Span</span><span class=w> </span><span class=n>currentSpan</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Span</span><span class=p>.</span><span class=na>current</span><span class=p>();</span><span class=w> </span><span class=c1>// ADDED</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>currentSpan</span><span class=p>.</span><span class=na>setAttribute</span><span class=p>(</span><span class=s>&#34;credit.score&#34;</span><span class=p>,</span><span class=w> </span><span class=n>creditScore</span><span class=p>);</span><span class=w> </span><span class=c1>// ADDED</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>...</span></span></span></code></pre></div><p>That was pretty easy, right? Let&rsquo;s capture some more, with the final result looking like this:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&#34;/check&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@WithSpan</span><span class=p>(</span><span class=n>kind</span><span class=o>=</span><span class=n>SpanKind</span><span class=p>.</span><span class=na>SERVER</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=nf>creditCheck</span><span class=p>(</span><span class=nd>@RequestParam</span><span class=p>(</span><span class=s>&#34;customernum&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                                          </span><span class=nd>@SpanAttribute</span><span class=p>(</span><span class=s>&#34;customer.num&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                                          </span><span class=n>String</span><span class=w> </span><span class=n>customerNum</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// Get Credit Score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>creditScore</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>creditScoreUrl</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;http://creditprocessorservice:8899/getScore?customernum=&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>customerNum</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>creditScore</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=n>creditScoreUrl</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>HttpClientErrorException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ResponseEntity</span><span class=p>.</span><span class=na>status</span><span class=p>(</span><span class=n>HttpStatus</span><span class=p>.</span><span class=na>INTERNAL_SERVER_ERROR</span><span class=p>).</span><span class=na>body</span><span class=p>(</span><span class=s>&#34;Error getting credit score&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Span</span><span class=w> </span><span class=n>currentSpan</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Span</span><span class=p>.</span><span class=na>current</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>currentSpan</span><span class=p>.</span><span class=na>setAttribute</span><span class=p>(</span><span class=s>&#34;credit.score&#34;</span><span class=p>,</span><span class=w> </span><span class=n>creditScore</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>creditScoreCategory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getCreditCategoryFromScore</span><span class=p>(</span><span class=n>creditScore</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>currentSpan</span><span class=p>.</span><span class=na>setAttribute</span><span class=p>(</span><span class=s>&#34;credit.score.category&#34;</span><span class=p>,</span><span class=w> </span><span class=n>creditScoreCategory</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// Run Credit Check</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>creditCheckUrl</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;http://creditprocessorservice:8899/runCreditCheck?customernum=&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>customerNum</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;&amp;score=&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>creditScore</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>checkResult</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>checkResult</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=n>creditCheckUrl</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>HttpClientErrorException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ResponseEntity</span><span class=p>.</span><span class=na>status</span><span class=p>(</span><span class=n>HttpStatus</span><span class=p>.</span><span class=na>INTERNAL_SERVER_ERROR</span><span class=p>).</span><span class=na>body</span><span class=p>(</span><span class=s>&#34;Error running credit check&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>currentSpan</span><span class=p>.</span><span class=na>setAttribute</span><span class=p>(</span><span class=s>&#34;credit.check.result&#34;</span><span class=p>,</span><span class=w> </span><span class=n>checkResult</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>ResponseEntity</span><span class=p>.</span><span class=na>ok</span><span class=p>(</span><span class=n>checkResult</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span></span></span></code></pre></div><h2 id=redeploy-service>Redeploy Service</h2><p>Once these changes are made, let&rsquo;s run the following script to rebuild the Docker image used for <code>creditcheckservice</code> and redeploy it to our Kubernetes cluster:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>./5-redeploy-creditcheckservice.sh java</span></span></code></pre></div><h2 id=confirm-tag-is-captured-successfully>Confirm Tag is Captured Successfully</h2><p>After a few minutes, return to <strong>Splunk Observability Cloud</strong> and load one of the latest traces to confirm that the tags were captured successfully (hint: sort by the timestamp to find the latest traces):</p><p><strong><a href=#R-image-37332524ce1dfd053fd09a3697ba7be2 class=lightbox-link><img alt="Trace with Attributes" class="lazy lightbox figure-image" loading=lazy src=../../images/trace_with_attributes_java.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-37332524ce1dfd053fd09a3697ba7be2><img alt="Trace with Attributes" class="lazy lightbox lightbox-image" loading=lazy src=../../images/trace_with_attributes_java.png></a></strong></p><p>Well done, you&rsquo;ve leveled up your OpenTelemetry game and have added context to traces using tags.</p><p>Next, we&rsquo;re ready to see how you can use these tags with <strong>Splunk Observability Cloud</strong>!</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 18, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=2-capture-tags---python>2. Capture Tags - Python</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>Let&rsquo;s add some tags to our traces, so we can find out why some customers receive a poor experience from our application.</p><h2 id=identify-useful-tags>Identify Useful Tags</h2><p>We&rsquo;ll start by reviewing the code for the <code>credit_check</code> function of <code>creditcheckservice</code> (which can be found in the <code>/home/splunk/workshop/tagging/creditcheckservice-py/main.py</code> file):</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/check&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>credit_check</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>customerNum</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>args</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;customernum&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Get Credit Score</span>
</span></span><span class=line><span class=cl>    <span class=n>creditScoreReq</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;http://creditprocessorservice:8899/getScore?customernum=&#34;</span> <span class=o>+</span> <span class=n>customerNum</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>creditScoreReq</span><span class=o>.</span><span class=n>raise_for_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>creditScore</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>creditScoreReq</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>creditScoreCategory</span> <span class=o>=</span> <span class=n>getCreditCategoryFromScore</span><span class=p>(</span><span class=n>creditScore</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Run Credit Check</span>
</span></span><span class=line><span class=cl>    <span class=n>creditCheckReq</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;http://creditprocessorservice:8899/runCreditCheck?customernum=&#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>customerNum</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;&amp;score=&#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>creditScore</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>creditCheckReq</span><span class=o>.</span><span class=n>raise_for_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>checkResult</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>creditCheckReq</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>checkResult</span></span></span></code></pre></div><p>We can see that this function accepts a <strong>customer number</strong> as an input. This would be helpful to capture as part of a trace. What else would be helpful?</p><p>Well, the <strong>credit score</strong> returned for this customer by the <code>creditprocessorservice</code> may be interesting (we want to ensure we don&rsquo;t capture any PII data though). It would also be helpful to capture the <strong>credit score category</strong>, and the <strong>credit check result</strong>.</p><p>Great, we&rsquo;ve identified four tags to capture from this service that could help with our investigation. But how do we capture these?</p><h2 id=capture-tags>Capture Tags</h2><p>We start by adding importing the trace module by adding an import statement to the top of the <code>creditcheckservice-py/main.py</code> file:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>request</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>waitress</span> <span class=kn>import</span> <span class=n>serve</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry</span> <span class=kn>import</span> <span class=n>trace</span>  <span class=c1># &lt;--- ADDED BY WORKSHOP</span>
</span></span><span class=line><span class=cl><span class=o>...</span></span></span></code></pre></div><p>Next, we need to get a reference to the current span so we can add an attribute (aka tag) to it:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>credit_check</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>current_span</span> <span class=o>=</span> <span class=n>trace</span><span class=o>.</span><span class=n>get_current_span</span><span class=p>()</span>  <span class=c1># &lt;--- ADDED BY WORKSHOP</span>
</span></span><span class=line><span class=cl>    <span class=n>customerNum</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>args</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;customernum&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>current_span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;customer.num&#34;</span><span class=p>,</span> <span class=n>customerNum</span><span class=p>)</span>  <span class=c1># &lt;--- ADDED BY WORKSHOP</span>
</span></span><span class=line><span class=cl><span class=o>...</span></span></span></code></pre></div><p>That was pretty easy, right? Let&rsquo;s capture some more, with the final result looking like this:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>credit_check</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>current_span</span> <span class=o>=</span> <span class=n>trace</span><span class=o>.</span><span class=n>get_current_span</span><span class=p>()</span>  <span class=c1># &lt;--- ADDED BY WORKSHOP</span>
</span></span><span class=line><span class=cl>    <span class=n>customerNum</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>args</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;customernum&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>current_span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;customer.num&#34;</span><span class=p>,</span> <span class=n>customerNum</span><span class=p>)</span>  <span class=c1># &lt;--- ADDED BY WORKSHOP</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Get Credit Score</span>
</span></span><span class=line><span class=cl>    <span class=n>creditScoreReq</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;http://creditprocessorservice:8899/getScore?customernum=&#34;</span> <span class=o>+</span> <span class=n>customerNum</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>creditScoreReq</span><span class=o>.</span><span class=n>raise_for_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>creditScore</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>creditScoreReq</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>current_span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;credit.score&#34;</span><span class=p>,</span> <span class=n>creditScore</span><span class=p>)</span>  <span class=c1># &lt;--- ADDED BY WORKSHOP</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>creditScoreCategory</span> <span class=o>=</span> <span class=n>getCreditCategoryFromScore</span><span class=p>(</span><span class=n>creditScore</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>current_span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;credit.score.category&#34;</span><span class=p>,</span> <span class=n>creditScoreCategory</span><span class=p>)</span>  <span class=c1># &lt;--- ADDED BY WORKSHOP</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Run Credit Check</span>
</span></span><span class=line><span class=cl>    <span class=n>creditCheckReq</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;http://creditprocessorservice:8899/runCreditCheck?customernum=&#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>customerNum</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;&amp;score=&#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>creditScore</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>creditCheckReq</span><span class=o>.</span><span class=n>raise_for_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>checkResult</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>creditCheckReq</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>current_span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;credit.check.result&#34;</span><span class=p>,</span> <span class=n>checkResult</span><span class=p>)</span>  <span class=c1># &lt;--- ADDED BY WORKSHOP</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>checkResult</span></span></span></code></pre></div><h2 id=redeploy-service>Redeploy Service</h2><p>Once these changes are made, let&rsquo;s run the following script to rebuild the Docker image used for <code>creditcheckservice</code> and redeploy it to our Kubernetes cluster:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>./5-redeploy-creditcheckservice.sh</span></span></code></pre></div><h2 id=confirm-tag-is-captured-successfully>Confirm Tag is Captured Successfully</h2><p>After a few minutes, return to <strong>Splunk Observability Cloud</strong> and load one of the latest traces to confirm that the tags were captured successfully (hint: sort by the timestamp to find the latest traces):</p><p><strong><a href=#R-image-2b54301e4fd50c015c6b94a1ad07e474 class=lightbox-link><img alt="Trace with Attributes" class="lazy lightbox figure-image" loading=lazy src=../../images/trace_with_attributes.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2b54301e4fd50c015c6b94a1ad07e474><img alt="Trace with Attributes" class="lazy lightbox lightbox-image" loading=lazy src=../../images/trace_with_attributes.png></a></strong></p><p>Well done, you&rsquo;ve leveled up your OpenTelemetry game and have added context to traces using tags.</p><p>Next, we&rsquo;re ready to see how you can use these tags with <strong>Splunk Observability Cloud</strong>!</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 18, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=explore-trace-data>Explore Trace Data</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<p>Now that we&rsquo;ve captured several tags from our application, let&rsquo;s explore some of the trace data we&rsquo;ve captured that include this additional context, and see if we can identify what&rsquo;s causing a poor user experience in some cases.</p><h2 id=use-trace-analyzer>Use Trace Analyzer</h2><p>Navigate to <strong>APM</strong>, then select <strong>Traces</strong>. This takes us to the <strong>Trace Analyzer</strong>, where we can add filters to search for traces of interest. For example, we can filter on traces where the credit score starts with <code>7</code>:</p><p><a href=#R-image-9dba8470a6978a0759d3abdd35cbaf90 class=lightbox-link><img alt="Credit Check Starts with Seven" class="lazy lightbox figure-image" loading=lazy src=../images/credit_score_starts_with_seven.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9dba8470a6978a0759d3abdd35cbaf90><img alt="Credit Check Starts with Seven" class="lazy lightbox lightbox-image" loading=lazy src=../images/credit_score_starts_with_seven.png></a></p><p>If you load one of these traces, you&rsquo;ll see that the credit score indeed starts with seven.</p><p>We can apply similar filters for the customer number, credit score category, and credit score result.</p><h2 id=explore-traces-with-errors>Explore Traces With Errors</h2><p>Let&rsquo;s remove the credit score filter and toggle <strong>Errors only</strong> to on, which results in a list of only those traces where an error occurred:</p><p><a href=#R-image-f4575a96eb7fd4cb0291e906bd422587 class=lightbox-link><img alt="Traces with Errors Only" class="lazy lightbox figure-image" loading=lazy src=../images/traces_errors_only.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f4575a96eb7fd4cb0291e906bd422587><img alt="Traces with Errors Only" class="lazy lightbox lightbox-image" loading=lazy src=../images/traces_errors_only.png></a></p><p>Click on a few of these traces, and look at the tags we captured. Do you notice any patterns?</p><p>Next, toggle <strong>Errors only</strong> to off, and sort traces by duration. Look at a few of the slowest running traces, and compare them to the fastest running traces. Do you notice any patterns?</p><p>If you found a pattern that explains the slow performance and errors - great job! But keep in mind that this is a difficult way to troubleshoot, as it requires you to look through many traces and mentally keep track of what you saw, so you can identify a pattern.</p><p>Thankfully, <strong>Splunk Observability Cloud</strong> provides a more efficient way to do this, which we&rsquo;ll explore next.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=index-tags>Index Tags</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<h2 id=index-tags>Index Tags</h2><p>To use advanced features in <strong>Splunk Observability Cloud</strong> such as <strong>Tag Spotlight</strong>, we&rsquo;ll need to first index one or more tags.</p><p>To do this, navigate to <strong>Settings</strong> -> <strong>APM MetricSets</strong>. Then click the <strong>+ New MetricSet</strong> button.</p><p>Let&rsquo;s index the <code>credit.score.category</code> tag by entering the following details (<strong>note</strong>: since everyone in the workshop is using the same organization, the instructor will do this step on your behalf):</p><p><a href=#R-image-fefd2ab28af90fcf183031e999a882bd class=lightbox-link><img alt="Create Troubleshooting MetricSet" class="lazy lightbox figure-image" loading=lazy src=../images/create_troubleshooting_metric_set.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fefd2ab28af90fcf183031e999a882bd><img alt="Create Troubleshooting MetricSet" class="lazy lightbox lightbox-image" loading=lazy src=../images/create_troubleshooting_metric_set.png></a></p><p>Click <strong>Start Analysis</strong> to proceed.</p><p>The tag will appear in the list of <strong>Pending MetricSets</strong> while analysis is performed.</p><p><a href=#R-image-c8f137dd7d89595d2ec8b7f59f4c68df class=lightbox-link><img alt="Pending MetricSets" class="lazy lightbox figure-image" loading=lazy src=../images/pending_metric_set.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c8f137dd7d89595d2ec8b7f59f4c68df><img alt="Pending MetricSets" class="lazy lightbox lightbox-image" loading=lazy src=../images/pending_metric_set.png></a></p><p>Once analysis is complete, click on the checkmark in the <strong>Actions</strong> column.</p><p><a href=#R-image-ce9a15dfb03cfbbaf8acd45c22189aa7 class=lightbox-link><img alt="MetricSet Configuraiton Applied" class="lazy lightbox figure-image" loading=lazy src=../images/metricset_config_applied.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ce9a15dfb03cfbbaf8acd45c22189aa7><img alt="MetricSet Configuraiton Applied" class="lazy lightbox lightbox-image" loading=lazy src=../images/metricset_config_applied.png></a></p><h2 id=how-to-choose-tags-for-indexing>How to choose tags for indexing</h2><p>Why did we choose to index the <code>credit.score.category</code> tag and not the others?</p><p>To understand this, let&rsquo;s review the primary use cases for tags:</p><ul><li>Filtering</li><li>Grouping</li></ul><h3 id=filtering>Filtering</h3><p>With the filtering use case, we can use the <strong>Trace Analyzer</strong> capability of <strong>Splunk Observability Cloud</strong> to filter on traces that match a particular tag value.</p><p>We saw an example of this earlier, when we filtered on traces where the credit score started with <code>7</code>.</p><p>Or if a customer calls in to complain about slow service, we could use <strong>Trace Analyzer</strong> to locate all traces with that particular customer number.</p><p>Tags used for filtering use cases are generally high-cardinality, meaning that there could be thousands or even hundreds of thousands of unique values. In fact, <strong>Splunk Observability Cloud</strong> can handle an effectively infinite number of unique tag values! Filtering using these tags allows us to rapidly locate the traces of interest.</p><p>Note that we aren&rsquo;t required to index tags to use them for filtering with <strong>Trace Analyzer</strong>.</p><h3 id=grouping>Grouping</h3><p>With the grouping use case, we can use <strong>Trace Analyzer</strong> to group traces by a particular tag.</p><p>But we can also go beyond this and surface trends for tags that we collect using the powerful <strong>Tag Spotlight</strong> feature in <strong>Splunk Observability Cloud</strong>, which we‚Äôll see in action shortly.</p><p>Tags used for grouping use cases should be low to medium-cardinality, with hundreds of unique values.</p><p>For custom tags to be used with <strong>Tag Spotlight</strong>, they first need to be indexed.</p><p>We decided to index the <code>credit.score.category</code> tag because it has a few distinct values that would be useful for grouping. In contrast, the customer number and credit score tags have hundreds or thousands of unique values, and are more valuable for filtering use cases rather than grouping.</p><h2 id=troubleshooting-vs-monitoring-metricsets>Troubleshooting vs. Monitoring MetricSets</h2><p>You may have noticed that, to index this tag, we created something called a <strong>Troubleshooting MetricSet</strong>. It&rsquo;s named this way because a Troubleshooting MetricSet, or TMS, allows us to troubleshoot issues with this tag using features such as <strong>Tag Spotlight</strong>.</p><p>You may have also noticed that there&rsquo;s another option which we didn&rsquo;t choose called a <strong>Monitoring MetricSet</strong> (or MMS). Monitoring MetricSets go beyond troubleshooting and allow us to use tags for alerting and dashboards. We&rsquo;ll explore this concept later in the workshop.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=use-tags-for-troubleshooting>Use Tags for Troubleshooting</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<h2 id=using-tag-spotlight>Using Tag Spotlight</h2><p>Now that we&rsquo;ve indexed the <code>credit.score.category</code> tag, we can use it with <strong>Tag Spotlight</strong> to troubleshoot our application.</p><p>Navigate to <strong>APM</strong> then click on <strong>Tag Spotlight</strong> on the right-hand side. Ensure the <code>creditcheckservice</code> service is selected from the <strong>Service</strong> drop-down (if not already selected).</p><p>With <strong>Tag Spotlight</strong>, we can see 100% of credit score requests that result in a score of <code>impossible</code> have an error, yet requests for all other credit score types have no errors at all!</p><p><strong><a href=#R-image-f67c50241c66b91e4acbbed025a1ad87 class=lightbox-link><img alt="Tag Spotlight with Errors" class="lazy lightbox figure-image" loading=lazy src=../images/tag_spotlight_errors.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f67c50241c66b91e4acbbed025a1ad87><img alt="Tag Spotlight with Errors" class="lazy lightbox lightbox-image" loading=lazy src=../images/tag_spotlight_errors.png></a></strong></p><p>This illustrates the power of <strong>Tag Spotlight</strong>! Finding this pattern would be time-consuming without it, as we&rsquo;d have to manually look through hundreds of traces to identify the pattern (and even then, there&rsquo;s no guarantee we&rsquo;d find it).</p><p>We&rsquo;ve looked at errors, but what about latency? Let&rsquo;s click on <strong>Latency</strong> near the top of the screen to find out.</p><p>Here, we can see that the requests with a <code>poor</code> credit score request are running slowly, with P50, P90, and P99 times of around 3 seconds, which is too long for our users to wait, and much slower than other requests.</p><p>We can also see that some requests with an <code>exceptional</code> credit score request are running slowly, with P99 times of around 5 seconds, though the P50 response time is relatively quick.</p><p><strong><a href=#R-image-fdb8c176be594f9fe0abb70f3921a536 class=lightbox-link><img alt="Tag Spotlight with Latency" class="lazy lightbox figure-image" loading=lazy src=../images/tag_spotlight_latency.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fdb8c176be594f9fe0abb70f3921a536><img alt="Tag Spotlight with Latency" class="lazy lightbox lightbox-image" loading=lazy src=../images/tag_spotlight_latency.png></a></strong></p><h2 id=using-dynamic-service-maps>Using Dynamic Service Maps</h2><p>Now that we know the credit score category associated with the request can impact performance and error rates, let&rsquo;s explore another feature that utilizes indexed tags: <strong>Dynamic Service Maps</strong>.</p><p>With Dynamic Service Maps, we can breakdown a particular service by a tag. For example, let&rsquo;s click on <strong>APM</strong>, then click <strong>Explore</strong> to view the service map.</p><p>Click on <code>creditcheckservice</code>. Then, on the right-hand menu, click on the drop-down that says <strong>Breakdown</strong>, and select the <code>credit.score.category</code> tag.</p><p>At this point, the service map is updated dynamically, and we can see the performance of requests hitting <code>creditcheckservice</code> broken down by the credit score category:</p><p><strong><a href=#R-image-871b37891bdf3715e6868d3c757840ed class=lightbox-link><img alt="Service Map Breakdown" class="lazy lightbox figure-image" loading=lazy src=../images/service_map_breakdown.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-871b37891bdf3715e6868d3c757840ed><img alt="Service Map Breakdown" class="lazy lightbox lightbox-image" loading=lazy src=../images/service_map_breakdown.png></a></strong></p><p>This view makes it clear that performance for <code>good</code> and <code>fair</code> credit scores is excellent, while <code>poor</code> and <code>exceptional</code> scores are much slower, and <code>impossible</code> scores result in errors.</p><h2 id=summary>Summary</h2><p><strong>Tag Spotlight</strong> has uncovered several interesting patterns for the engineers that own this service to explore further:</p><ul><li>Why are all the <code>impossible</code> credit score requests resulting in error?</li><li>Why are all the <code>poor</code> credit score requests running slowly?</li><li>Why do some of the <code>exceptional</code> requests run slowly?</li></ul><p>As an SRE, passing this context to the engineering team would be extremely helpful for their investigation, as it would allow them to track down the issue much more quickly than if we simply told them that the service was &ldquo;sometimes slow&rdquo;.</p><p>If you&rsquo;re curious, have a look at the source code for the <code>creditprocessorservice</code>. You&rsquo;ll see that requests with impossible, poor, and exceptional credit scores are handled differently, thus resulting in the differences in error rates and latency that we uncovered.</p><p>The behavior we saw with our application is typical for modern cloud-native applications, where different inputs passed to a service lead to different code paths, some of which result in slower performance or errors. For example, in a real credit check service, requests resulting in low credit scores may be sent to another downstream service to further evaluate risk, and may perform more slowly than requests resulting in higher scores, or encounter higher error rates.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=use-tags-for-monitoring>Use Tags for Monitoring</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>Earlier, we created a <strong>Troubleshooting Metric Set</strong> on the <code>credit.score.category</code> tag, which allowed us to use <strong>Tag Spotlight</strong> with that tag and identify a pattern to explain why some users received a poor experience.</p><p>In this section of the workshop, we&rsquo;ll explore a related concept: <strong>Monitoring MetricSets</strong>.</p><h2 id=what-are-monitoring-metricsets>What are Monitoring MetricSets?</h2><p><strong>Monitoring MetricSets</strong> go beyond troubleshooting and allow us to use tags for alerting, dashboards and SLOs.</p><h2 id=create-a-monitoring-metricset>Create a Monitoring MetricSet</h2><p>(<strong>note</strong>: <em>your workshop instructor will do the following for you, but observe the steps</em>)</p><p>Let&rsquo;s navigate to <strong>Settings</strong> -> <strong>APM MetricSets</strong>, and click the edit button (i.e. the little pencil) beside the MetricSet for <code>credit.score.category</code>.</p><p><a href=#R-image-a6c9bdcb501dc111e10148134316c3d7 class=lightbox-link><img alt="edit APM MetricSet" class="lazy lightbox figure-image" loading=lazy src=../images/edit_apm_metricset.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a6c9bdcb501dc111e10148134316c3d7><img alt="edit APM MetricSet" class="lazy lightbox lightbox-image" loading=lazy src=../images/edit_apm_metricset.png></a></p><p>Check the box beside <strong>Also create Monitoring MetricSet</strong> then click <strong>Start Analysis</strong></p><p><a href=#R-image-3212124cc552e4957239ea3ca488bbd6 class=lightbox-link><img alt="Monitoring MetricSet" class="lazy lightbox figure-image" loading=lazy src=../images/monitoring_metricset.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3212124cc552e4957239ea3ca488bbd6><img alt="Monitoring MetricSet" class="lazy lightbox lightbox-image" loading=lazy src=../images/monitoring_metricset.png></a></p><p>The <code>credit.score.category</code> tag appears again as a <strong>Pending MetricSet</strong>. After a few moments, a checkmark should appear. Click this checkmark to enable the <strong>Pending MetricSet</strong>.</p><p><a href=#R-image-4b24d008fa9b6b5bc652acc7e94506af class=lightbox-link><img alt="pending APM MetricSet" class="lazy lightbox figure-image" loading=lazy src=../images/update_pending_apm_metricset.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4b24d008fa9b6b5bc652acc7e94506af><img alt="pending APM MetricSet" class="lazy lightbox lightbox-image" loading=lazy src=../images/update_pending_apm_metricset.png></a></p><h2 id=using-monitoring-metricsets>Using Monitoring MetricSets</h2><p>This mechanism creates a new dimension from the tag on a bunch of metrics that can be used to filter these metrics based on the values of that new dimension. <strong>Important</strong>: To differentiate between the original and the copy, the dots in the tag name are replaced by underscores for the new dimension. With that the metrics become a dimension named <code>credit_score_category</code> and not <code>credit.score.category</code>.</p><p>Next, let&rsquo;s explore how we can use this <strong>Monitoring MetricSet</strong>.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 7. Use Tags for Monitoring</h1><article class=default><header class=headline></header><h1 id=use-tags-with-dashboards>Use Tags with Dashboards</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<h3 id=dashboards>Dashboards</h3><p>Navigate to <strong>Metric Finder</strong>, then type in the name of the tag, which is <code>credit_score_category</code> (remember that the dots in the tag name were replaced by underscores when the Monitoring MetricSet was created). You&rsquo;ll see that multiple metrics include this tag as a dimension:</p><p><a href=#R-image-b93d5d0f68e6c959ff09b8519182503f class=lightbox-link><img alt="Metric Finder" class="lazy lightbox figure-image" loading=lazy src=../../images/metric_finder.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b93d5d0f68e6c959ff09b8519182503f><img alt="Metric Finder" class="lazy lightbox lightbox-image" loading=lazy src=../../images/metric_finder.png></a></p><p>By default, <strong>Splunk Observability Cloud</strong> calculates several metrics using the trace data it receives. See <a href=https://docs.splunk.com/observability/en/apm/span-tags/metricsets.html rel=external target=_blank>Learn about MetricSets in APM</a> for more details.</p><p>By creating an MMS, <code>credit_score_category</code> was added as a dimension to these metrics, which means that this dimension can now be used for alerting and dashboards.</p><p>To see how, let&rsquo;s click on the metric named <code>service.request.duration.ns.p99</code>, which brings up the following chart:</p><p><a href=#R-image-9f9a5d9b1a7209c2cbd9819a2740bdab class=lightbox-link><img alt="Service Request Duration" class="lazy lightbox figure-image" loading=lazy src=../../images/service_request_duration_chart.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9f9a5d9b1a7209c2cbd9819a2740bdab><img alt="Service Request Duration" class="lazy lightbox lightbox-image" loading=lazy src=../../images/service_request_duration_chart.png></a></p><p>Add filters for <code>sf_environment</code>, <code>sf_service</code>, and <code>sf_dimensionalized</code>. Then set the <strong>Extrapolation policy</strong> to <code>Last value</code> and the <strong>Display units</strong> to <code>Nanosecond</code>:</p><p><a href=#R-image-d22657e6dea035103c4140ff1b6a4b2e class=lightbox-link><img alt="Chart with Seconds" class="lazy lightbox figure-image" loading=lazy src=../../images/chart_settings.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d22657e6dea035103c4140ff1b6a4b2e><img alt="Chart with Seconds" class="lazy lightbox lightbox-image" loading=lazy src=../../images/chart_settings.png></a></p><p>With these settings, the chart allows us to visualize the service request duration by credit score category:</p><p><a href=#R-image-c2c7f805f4924b1c12f3fc26f86a8073 class=lightbox-link><img alt="Duration by Credit Score" class="lazy lightbox figure-image" loading=lazy src=../../images/duration_by_credit_score.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c2c7f805f4924b1c12f3fc26f86a8073><img alt="Duration by Credit Score" class="lazy lightbox lightbox-image" loading=lazy src=../../images/duration_by_credit_score.png></a></p><p>Now we can see the duration by credit score category. In my example, the red line represents the <code>exceptional</code> category, and we can see that the duration for these requests sometimes goes all the way up to 5 seconds.</p><p>The orange represents the <code>very good</code> category, and has very fast response times.</p><p>The green line represents the <code>poor</code> category, and has response times between 2-3 seconds.</p><p>It may be useful to save this chart on a dashboard for future reference. To do this, click on the <strong>Save as&mldr;</strong> button and provide a name for the chart:</p><p><a href=#R-image-87ef9c957c074195ddbfc7f4a2730466 class=lightbox-link><img alt="Save Chart As" class="lazy lightbox figure-image" loading=lazy src=../../images/save_chart_as.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-87ef9c957c074195ddbfc7f4a2730466><img alt="Save Chart As" class="lazy lightbox lightbox-image" loading=lazy src=../../images/save_chart_as.png></a></p><p>When asked which dashboard to save the chart to, let&rsquo;s create a <strong>new</strong> one named <code>Credit Check Service - Your Name</code> (substituting your actual name):</p><p><a href=#R-image-017b65f4b877527206494b0975304311 class=lightbox-link><img alt="Save Chart As" class="lazy lightbox figure-image" loading=lazy src=../../images/create_dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-017b65f4b877527206494b0975304311><img alt="Save Chart As" class="lazy lightbox lightbox-image" loading=lazy src=../../images/create_dashboard.png></a></p><p>Now we can see the chart on our dashboard, and can add more charts as needed to monitor our credit check service:</p><p><a href=#R-image-3c0d1a69fed207f29140eaf0ac01b85f class=lightbox-link><img alt="Credit Check Service Dashboard" class="lazy lightbox figure-image" loading=lazy src=../../images/credit_check_service_dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3c0d1a69fed207f29140eaf0ac01b85f><img alt="Credit Check Service Dashboard" class="lazy lightbox lightbox-image" loading=lazy src=../../images/credit_check_service_dashboard.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=use-tags-with-alerting>Use Tags with Alerting</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>3 minutes</span>
</span>&nbsp;<h3 id=alerts>Alerts</h3><p>It&rsquo;s great that we have a dashboard to monitor the response times of the credit check service by credit score, but we don&rsquo;t want to stare at a dashboard all day.</p><p>Let&rsquo;s create an alert so we can be notified proactively if customers with <code>exceptional</code> credit scores encounter slow requests.</p><p>To create this alert, click on the little bell on the top right-hand corner of the chart, then select <strong>New detector from chart</strong>:</p><p><a href=#R-image-1ed536acdeb643ec8bfe35a376af7e7f class=lightbox-link><img alt="New Detector From Chart" class="lazy lightbox figure-image" loading=lazy src=../../images/new_detector_from_chart.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1ed536acdeb643ec8bfe35a376af7e7f><img alt="New Detector From Chart" class="lazy lightbox lightbox-image" loading=lazy src=../../images/new_detector_from_chart.png></a></p><p>Let&rsquo;s call the detector <code>Latency by Credit Score Category</code>. Set the environment to your environment name (i.e. <code>tagging-workshop-yourname</code>) then select <code>creditcheckservice</code> as the service. Since we only want to look at performance for customers with <code>exceptional</code> credit scores, add a filter using the <code>credit_score_category</code> dimension and select <code>exceptional</code>:</p><p><a href=#R-image-732edc25ffe9394a6f21cbc2ab4cb7ef class=lightbox-link><img alt="Create New Detector" class="lazy lightbox figure-image" loading=lazy src=../../images/create_new_detector.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-732edc25ffe9394a6f21cbc2ab4cb7ef><img alt="Create New Detector" class="lazy lightbox lightbox-image" loading=lazy src=../../images/create_new_detector.png></a></p><p>As an alert condition instead of &ldquo;<strong>Static threshold</strong>&rdquo; we want to select &ldquo;<strong>Sudden Change</strong>&rdquo; to make the example more vivid.</p><p><a href=#R-image-68cb48a94be1dfaea5ece8f2eb0fed05 class=lightbox-link><img alt="Alert Condition: Sudden Change" class="lazy lightbox figure-image" loading=lazy src=../../images/alert_condition_suddenchange.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-68cb48a94be1dfaea5ece8f2eb0fed05><img alt="Alert Condition: Sudden Change" class="lazy lightbox lightbox-image" loading=lazy src=../../images/alert_condition_suddenchange.png></a></p><p>We can then set the remainder of the alert details as we normally would. The key thing to remember here is that without capturing a tag with the credit score category and indexing it, we wouldn&rsquo;t be able to alert at this granular level, but would instead be forced to bucket all customers together, regardless of their importance to the business.</p><p>Unless you want to get notified, we do not need to finish this wizard. You can just close the wizard by clicking the <strong>X</strong> on the top right corner of the wizard pop-up.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=use-tags-with-service-level-objectives>Use Tags with Service Level Objectives</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p>We can now use the created Monitoring MetricSet together with Service Level Objectives a similar way we used them with dashboards and detectors/alerts before. For that we want to be clear about some key concepts:</p><h2 id=key-concepts-of-service-level-monitoring>Key Concepts of Service Level Monitoring</h2><p>(<a href=/observability-workshop/v5.100/en/scenarios/debug_problems/tagging/7-alerting-dashboards-slos/3-slos/index.html#creating-a-new-service-level-objective>skip</a> if you know this)</p><table><thead><tr><th>Concept</th><th>Definition</th><th>Examples</th></tr></thead><tbody><tr><td>Service level indicator (SLI)</td><td>An SLI is a quantitative measurement showing some health of a service, expressed as a metric or combination of metrics.</td><td><em>Availability SLI</em>: Proportion of requests that resulted in a successful response<br><em>Performance SLI</em>: Proportion of requests that loaded in &lt; 100 ms</td></tr><tr><td>Service level objective (SLO)</td><td>An SLO defines a target for an SLI and a compliance period over which that target must be met. An SLO contains 3 elements: an SLI, a target, and a compliance period. Compliance periods can be calendar, such as monthly, or rolling, such as past 30 days.</td><td><em>Availability SLI over a calendar period</em>: Our service must respond successfully to 95% of requests in a month<br><em>Performance SLI over a rolling period</em>: Our service must respond to 99% of requests in &lt; 100 ms over a 7-day period</td></tr><tr><td>Service level agreement (SLA)</td><td>An SLA is a contractual agreement that indicates service levels your users can expect from your organization. If an SLA is not met, there can be financial consequences.</td><td>A customer service SLA indicates that 90% of support requests received on a normal support day must have a response within 6 hours.</td></tr><tr><td>Error budget</td><td>A measurement of how your SLI performs relative to your SLO over a period of time. Error budget measures the difference between actual and desired performance. It determines how unreliable your service might be during this period and serves as a signal when you need to take corrective action.</td><td>Our service can respond to 1% of requests in >100 ms over a 7 day period.</td></tr><tr><td>Burn rate</td><td>A unitless measurement of how quickly a service consumes the error budget during the compliance window of the SLO. Burn rate makes the SLO and error budget actionable, showing service owners when a current incident is serious enough to page an on-call responder.</td><td>For an SLO with a 30-day compliance window, a constant burn rate of 1 means your error budget is used up in exactly 30 days.</td></tr></tbody></table><h2 id=creating-a-new-service-level-objective>Creating a new Service Level Objective</h2><p>There is an easy to follow wizard to create a new Service Level Objective (SLO). In the left navigation just follow the link &ldquo;<strong>Detectors & SLOs</strong>&rdquo;. From there select the third tab &ldquo;<strong>SLOs</strong>&rdquo; and click the blue button to the right that says &ldquo;<strong>Create SLO</strong>&rdquo;.</p><p><a href=#R-image-6f029103ee4dbf6ebff0c46a5d04d32c class=lightbox-link><img alt="Create new SLO" class="lazy lightbox figure-image" loading=lazy src=../../images/slo_0_create.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6f029103ee4dbf6ebff0c46a5d04d32c><img alt="Create new SLO" class="lazy lightbox lightbox-image" loading=lazy src=../../images/slo_0_create.png></a></p><p>The wizard guides you through some easy steps. And if everything during the previous steps worked out, you will have no problems here. ;)</p><p>In our case we want to use <code>Service & endpoint</code> as our <strong>Metric type</strong> instead of <code>Custom metric</code>. We filter the <strong>Environment</strong> down to the environment that we are using during this workshop (i.e. <code>tagging-workshop-yourname</code>) and select the <code>creditcheckservice</code> from the <strong>Service and endpoint</strong> list. Our <strong>Indicator type</strong> for this workshop will be <code>Request latency</code> and not <code>Request success</code>.</p><p>Now we can select our <strong>Filters</strong>. Since we are using the <code>Request latency</code> as the <strong>Indicator type</strong> and that is a metric of the APM Service, we can filter on <code>credit.score.category</code>. Feel free to try out what happens, when you set the <strong>Indicator type</strong> to <code>Request success</code>.</p><p>Today we are only interested in our <code>exceptional</code> credit scores. So please select that as the filter.</p><p><a href=#R-image-00cec0c619d6d096a92beaa634dc03e4 class=lightbox-link><img alt="Choose Service or Metric for SLO" class="lazy lightbox figure-image" loading=lazy src=../../images/slo_1_choose.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-00cec0c619d6d096a92beaa634dc03e4><img alt="Choose Service or Metric for SLO" class="lazy lightbox lightbox-image" loading=lazy src=../../images/slo_1_choose.png></a></p><p>In the next step we define the objective we want to reach. For the <code>Request latency</code> type, we define the <strong>Target (%)</strong>, the <strong>Latency (ms)</strong> and the <strong>Compliance Window</strong>. Please set these to <code>99</code>, <code>100</code> and <code>Last 7 days</code>. This will give us a good idea what we are achieving already.</p><p>Here we will already be in shock or play around with the numbers to make it not so scary. Feel free to play around with the numbers to see how well we achieve the objective and how much we have left to burn.</p><p><a href=#R-image-4accf2fda1e27ef7c083c5c677112f25 class=lightbox-link><img alt="Define Objective for SLO" class="lazy lightbox figure-image" loading=lazy src=../../images/slo_2_define_objective.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4accf2fda1e27ef7c083c5c677112f25><img alt="Define Objective for SLO" class="lazy lightbox lightbox-image" loading=lazy src=../../images/slo_2_define_objective.png></a></p><p>The third step gives us the chance to alert (aka annoy) people who should be aware about these SLOs to initiate countermeasures. These &ldquo;people&rdquo; can also be mechanism like ITSM systems or webhooks to initiate automatic remediation steps.</p><p>Activate all categories you want to alert on and add recipients to the different alerts.</p><p><a href=#R-image-79b0c35bff8753fbb599f41706e7b450 class=lightbox-link><img alt="Define Alerting for SLO" class="lazy lightbox figure-image" loading=lazy src=../../images/slo_3_define_alerting.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-79b0c35bff8753fbb599f41706e7b450><img alt="Define Alerting for SLO" class="lazy lightbox lightbox-image" loading=lazy src=../../images/slo_3_define_alerting.png></a></p><p>The next step is only the naming for this SLO. Have your own naming convention ready for this. In our case we would just name it <code>creditchceckservice:score:exceptional:YOURNAME</code> and click the <strong>Create</strong>-button <strong>BUT</strong> you can also <strong>just cancel the wizard</strong> by clicking anything in the left navigation and confirming to <strong>Discard changes</strong>.</p><p><a href=#R-image-08bb62d1cd2cc78f9b72501fbf53632f class=lightbox-link><img alt="Name and Save the SLO" class="lazy lightbox figure-image" loading=lazy src=../../images/slo_4_name_and_save.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-08bb62d1cd2cc78f9b72501fbf53632f><img alt="Name and Save the SLO" class="lazy lightbox lightbox-image" loading=lazy src=../../images/slo_4_name_and_save.png></a></p><p>And with that we have (<em>nearly</em>) successfully created an SLO including the alerting in case we might miss or goals.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=summary>Summary</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>2 minutes</span>
</span>&nbsp;<p>In this workshop, we learned the following:</p><ul><li>What are tags and why are they such a critical part of making an application observable?</li><li>How to use <a href=https://opentelemetry.io rel=external target=_blank><strong>OpenTelemetry</strong></a> to capture tags of interest from your application.</li><li>How to index tags in <strong>Splunk Observability Cloud</strong> and the differences between <strong>Troubleshooting MetricSets</strong> and <strong>Monitoring MetricSets</strong>.</li><li>How to utilize tags in <strong>Splunk Observability Cloud</strong> to find ‚Äúunknown unknowns‚Äù using the <strong>Tag Spotlight</strong> and <strong>Dynamic Service Map</strong> features.</li><li>How to utilize tags for dashboards, alerting and service level objectives.</li></ul><p>Collecting tags aligned with the best practices shared in this workshop will let you get even more value from the data you‚Äôre sending to <strong>Splunk Observability Cloud</strong>. Now that you‚Äôve completed this workshop, you have the knowledge you need to start collecting tags from your own applications!</p><p>To get started with capturing tags today, check out <a href=https://docs.splunk.com/observability/en/apm/span-tags/add-context-trace-span.html#instrument-your-application-code-to-add-tags-to-spans rel=external target=_blank>how to add tags in various supported languages</a>, and then <a href=https://docs.splunk.com/observability/en/apm/span-tags/index-span-tags.html#apm-index-span-tags rel=external target=_blank>how to use them to create Troubleshooting MetricSets</a> so they can be analyzed in Tag Spotlight. For more help, feel free to <a href=https://www.splunk.com/en_us/about-splunk/contact-us.html rel=external target=_blank>ask a Splunk Expert</a>.</p><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip for Workshop Facilitator(s)</summary><div class=box-content><p>Once the workshop is complete, remember to delete the APM MetricSet you created earlier for the <code>credit.score.category</code> tag.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=profiling-workshop>Profiling Workshop</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>2 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Derek Mitchell</span></span><p><strong>Service Maps</strong> and <strong>Traces</strong> are extremely valuable in determining what service an issue resides in. And related log data helps provide detail on why issues are occurring in that service.</p><p>But engineers sometimes need to go even deeper to debug a problem that‚Äôs occurring in one of their services.</p><p>This is where features such as Splunk&rsquo;s <strong>AlwaysOn Profiling</strong> and <strong>Database Query Performance</strong> come in.</p><p><strong>AlwaysOn Profiling</strong> continuously collects stack traces so that you can discover which lines in your code are consuming the most CPU and memory.</p><p>And <strong>Database Query Performance</strong> can quickly identify long-running, unoptimized, or heavy queries and mitigate issues they might be causing.</p><p>In this workshop, we&rsquo;ll explore:</p><ul><li>How to debug an application with several performance issues.</li><li>How to use <strong>Database Query Performance</strong> to find slow-running queries that impact application performance.</li><li>How to enable <strong>AlwaysOn Profiling</strong> and use it to find the code that consumes the most CPU and memory.</li><li>How to apply fixes based on findings from <strong>Splunk Observability Cloud</strong> and verify the result.</li></ul><p>The workshop uses a Java-based application called <code>The Door Game</code> hosted in Kubernetes. Let&rsquo;s get started!</p><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>The easiest way to navigate through this workshop is by using:</p><ul><li>the left/right arrows (<strong>&lt;</strong> | <strong>></strong>) on the top right of this page</li><li>the left (‚óÄÔ∏è) and right (‚ñ∂Ô∏è) cursor keys on your keyboard</li></ul></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of Profiling Workshop</h1><article class=default><header class=headline></header><h1 id=build-the-sample-application>Build the Sample Application</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<h2 id=introduction>Introduction</h2><p>For this workshop, we&rsquo;ll be using a Java-based application called <code>The Door Game</code>. It will be hosted in Kubernetes.</p><h2 id=pre-requisites>Pre-requisites</h2><p>You will start with an EC2 instance and perform some <a href=/observability-workshop/v5.100/en/scenarios/debug_problems/profiling/1-build-application/index.html#initial-steps>initial steps</a> in order to get to the following state:</p><ul><li>Deploy the <strong>Splunk distribution of the OpenTelemetry Collector</strong></li><li>Deploy the MySQL database container and populate data</li><li>Build and deploy the <code>doorgame</code> application container</li></ul><h2 id=initial-steps>Initial Steps</h2><p>The initial setup can be completed by executing the following steps on the command line of your EC2 instance.</p><p>You&rsquo;ll be asked to enter a name for your environment. Please use <code>profiling-workshop-yourname</code> (where <code>yourname</code> is replaced by your actual name).</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> workshop/profiling
</span></span><span class=line><span class=cl>./1-deploy-otel-collector.sh
</span></span><span class=line><span class=cl>./2-deploy-mysql.sh
</span></span><span class=line><span class=cl>./3-deploy-doorgame.sh</span></span></code></pre></div><h2 id=lets-play-the-door-game>Let&rsquo;s Play The Door Game</h2><p>Now that the application is deployed, let&rsquo;s play with it and generate some observability data.</p><p>Get the external IP address for your application instance using the following command:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl describe svc doorgame <span class=p>|</span> grep <span class=s2>&#34;LoadBalancer Ingress&#34;</span></span></span></code></pre></div><p>The output should look like the following:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>LoadBalancer Ingress:     52.23.184.60</span></span></code></pre></div><p>You should be able to access The Door Game application by pointing your browser to port 81 of the provided IP address. For example:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>http://52.23.184.60:81</span></span></code></pre></div><p>You should be met with The Door Game intro screen:</p><p><a href=#R-image-7c79c92fbef99fd75ba0fe436ae6c0c7 class=lightbox-link><img alt="Door Game Welcome Screen" class="lazy lightbox figure-image" loading=lazy src=../images/door_game_initial_screen.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7c79c92fbef99fd75ba0fe436ae6c0c7><img alt="Door Game Welcome Screen" class="lazy lightbox lightbox-image" loading=lazy src=../images/door_game_initial_screen.png></a></p><p>Click <code>Let's Play</code> to start the game:</p><p><a href=#R-image-3a82c395b29f1c7cc82c8419d816197e class=lightbox-link><img alt="Let&rsquo;s Play" class="lazy lightbox figure-image" loading=lazy src=../images/lets_play.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3a82c395b29f1c7cc82c8419d816197e><img alt="Let&rsquo;s Play" class="lazy lightbox lightbox-image" loading=lazy src=../images/lets_play.png></a></p><p>Did you notice that it took a long time after clicking <code>Let's Play</code> before we could actually start playing the game?</p><p>Let&rsquo;s use <strong>Splunk Observability Cloud</strong> to determine why the application startup is so slow.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=troubleshoot-game-startup>Troubleshoot Game Startup</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p>Let&rsquo;s use <strong>Splunk Observability Cloud</strong> to determine why the game started so slowly.</p><h2 id=view-your-application-in-splunk-observability-cloud>View your application in Splunk Observability Cloud</h2><p>Note: when the application is deployed for the first time, it may take a few minutes for the data to appear.</p><p>Navigate to APM, then use the Environment dropdown to select your environment (i.e. <code>profiling-workshop-name</code>).</p><p>If everything was deployed correctly, you should see <code>doorgame</code> displayed in the list of services:</p><p><a href=#R-image-3f6f23825833a9125b97e499abc2f222 class=lightbox-link><img alt="APM Overview" class="lazy lightbox figure-image" loading=lazy src=../images/apm_overview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3f6f23825833a9125b97e499abc2f222><img alt="APM Overview" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm_overview.png></a></p><p>Click on <strong>Explore</strong> on the right-hand side to view the service map. We should the <code>doorgame</code> application on the service map:</p><p><a href=#R-image-5effbeb1cf63580ab45eec4aa331a52e class=lightbox-link><img alt="Service Map" class="lazy lightbox figure-image" loading=lazy src=../images/service_map.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5effbeb1cf63580ab45eec4aa331a52e><img alt="Service Map" class="lazy lightbox lightbox-image" loading=lazy src=../images/service_map.png></a></p><p>Notice how the majority of the time is being spent in the MySQL database. We can get more details by clicking on <strong>Database Query Performance</strong> on the right-hand side.</p><p><a href=#R-image-a820003558636ed080e354de4af9b19b class=lightbox-link><img alt="Database Query Performance" class="lazy lightbox figure-image" loading=lazy src=../images/db_query_performance.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a820003558636ed080e354de4af9b19b><img alt="Database Query Performance" class="lazy lightbox lightbox-image" loading=lazy src=../images/db_query_performance.png></a></p><p>This view shows the SQL queries that took the most amount of time. Ensure that the <strong>Compare to</strong> dropdown is set to <code>None</code>, so we can focus on current performance.</p><p>We can see that one query in particular is taking a long time:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>select * from doorgamedb.users, doorgamedb.organizations</code></pre></div><p>(do you notice anything unusual about this query?)</p><p>Let&rsquo;s troubleshoot further by clicking on one of the spikes in the latency graph. This brings up a list of example traces that include this slow query:</p><p><a href=#R-image-411aaf541f6f3616aa648e46597d404b class=lightbox-link><img alt="Traces with Slow Query" class="lazy lightbox figure-image" loading=lazy src=../images/traces_with_slow_query.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-411aaf541f6f3616aa648e46597d404b><img alt="Traces with Slow Query" class="lazy lightbox lightbox-image" loading=lazy src=../images/traces_with_slow_query.png></a></p><p>Click on one of the traces to see the details:</p><p><a href=#R-image-d9063edfa194c565160a179fe9037c87 class=lightbox-link><img alt="Trace with Slow Query" class="lazy lightbox figure-image" loading=lazy src=../images/trace_with_slow_query.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d9063edfa194c565160a179fe9037c87><img alt="Trace with Slow Query" class="lazy lightbox lightbox-image" loading=lazy src=../images/trace_with_slow_query.png></a></p><p>In the trace, we can see that the <code>DoorGame.startNew</code> operation took 25.8 seconds, and 17.6 seconds of this was associated with the slow SQL query we found earlier.</p><h2 id=what-did-we-accomplish>What did we accomplish?</h2><p>To recap what we&rsquo;ve done so far:</p><ul><li>We&rsquo;ve deployed our application and are able to access it successfully.</li><li>The application is sending traces to <strong>Splunk Observability Cloud</strong> successfully.</li><li>We started troubleshooting the slow application startup time, and found a slow SQL query that seems to be the root cause.</li></ul><p>To troubleshoot further, it would be helpful to get deeper diagnostic data that tells us what&rsquo;s happening inside our JVM, from both a memory (i.e. JVM heap) and CPU perspective. We&rsquo;ll tackle that in the next section of the workshop.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=enable-alwayson-profiling>Enable AlwaysOn Profiling</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>20 minutes</span>
</span>&nbsp;<p>Let&rsquo;s learn how to enable the memory and CPU profilers, verify their operation,
and use the results in Splunk Observability Cloud to find out why our application startup is slow.</p><h3 id=update-the-application-configuration>Update the application configuration</h3><p>We will need to pass additional configuration arguments to the Splunk OpenTelemetry Java agent in order to
enable both profilers. The configuration is <a href=https://docs.splunk.com/observability/en/gdi/get-data-in/application/java/instrumentation/instrument-java-application.html#activate-alwayson-profiling rel=external target=_blank>documented here</a>
in detail, but for now we just need the following settings:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>SPLUNK_PROFILER_ENABLED=&#34;true&#34;
SPLUNK_PROFILER_MEMORY_ENABLED=&#34;true&#34;</code></pre></div><p>Since our application is deployed in Kubernetes, we can update the Kubernetes manifest file to set these environment variables. Open the <code>doorgame/doorgame.yaml</code> file for editing, and ensure the values of the following environment variables are set to &ldquo;true&rdquo;:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SPLUNK_PROFILER_ENABLED</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SPLUNK_PROFILER_MEMORY_ENABLED</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span></span></span></code></pre></div><p>Next, let&rsquo;s redeploy the Door Game application by running the following command:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> workshop/profiling
</span></span><span class=line><span class=cl>kubectl apply -f doorgame/doorgame.yaml</span></span></code></pre></div><p>After a few seconds, a new pod will be deployed with the updated application settings.</p><h3 id=confirm-operation>Confirm operation</h3><p>To ensure the profiler is enabled, let&rsquo;s review the application logs with the following commands:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl logs -l <span class=nv>app</span><span class=o>=</span>doorgame --tail<span class=o>=</span><span class=m>100</span> <span class=p>|</span> grep JfrActivator</span></span></code></pre></div><p>You should see a line in the application log output that shows the profiler is active:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code class=language-log data-lang=log>[otel.javaagent 2024-02-05 19:01:12:416 +0000] [main] INFO com.splunk.opentelemetry.profiler.JfrActivator - Profiler is active.```</code></pre></div><p>This confirms that the profiler is enabled and sending data to the OpenTelemetry collector deployed in our Kubernetes cluster, which in turn sends profiling data to Splunk Observability Cloud.</p><h3 id=profiling-in-apm>Profiling in APM</h3><p>Visit <code>http://&lt;your IP address>:81</code> and play a few more rounds of The Door Game.</p><p>Then head back to Splunk Observability Cloud, click on APM, and click on the <code>doorgame</code> service at the bottom of the screen.</p><p>Click on &ldquo;Traces&rdquo; on the right-hand side to load traces for this service. Filter on traces involving the <code>doorgame</code> service and the <code>GET new-game</code> operation (since we&rsquo;re troubleshooting the game startup sequence):</p><p><a href=#R-image-d548d539353c2757309453021eefe68d class=lightbox-link><img alt="New Game Traces" class="lazy lightbox figure-image" loading=lazy src=../images/new_game_traces.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d548d539353c2757309453021eefe68d><img alt="New Game Traces" class="lazy lightbox lightbox-image" loading=lazy src=../images/new_game_traces.png></a></p><p>Selecting one of these traces brings up the following screen:</p><p><a href=#R-image-ab5201a925e274c0ca761fd795a7cd6e class=lightbox-link><img alt="Trace with Call Stacks" class="lazy lightbox figure-image" loading=lazy src=../images/trace_with_call_stacks.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ab5201a925e274c0ca761fd795a7cd6e><img alt="Trace with Call Stacks" class="lazy lightbox lightbox-image" loading=lazy src=../images/trace_with_call_stacks.png></a></p><p>You can see that the spans now include &ldquo;Call Stacks&rdquo;, which is a result of us enabling CPU and memory profiling earlier.</p><p>Click on the span named <code>doorgame: SELECT doorgamedb</code>, then click on CPU stack traces on the right-hand side:</p><p><a href=#R-image-99bef8cefe47630f84786372daddc799 class=lightbox-link><img alt="Trace with CPU Call Stacks" class="lazy lightbox figure-image" loading=lazy src=../images/trace_with_cpu_call_stacks.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-99bef8cefe47630f84786372daddc799><img alt="Trace with CPU Call Stacks" class="lazy lightbox lightbox-image" loading=lazy src=../images/trace_with_cpu_call_stacks.png></a></p><p>This brings up the CPU call stacks captured by the profiler.</p><p>Let&rsquo;s open the AlwaysOn Profiler to review the CPU stack trace in more detail. We can do this by clicking on the <code>Span</code> link beside <code>View in AlwaysOn Profiler</code>:</p><p><a href=#R-image-ccf121c22939a686abd9296d7a22ca72 class=lightbox-link><img alt="Flamegraph and table" class="lazy lightbox figure-image" loading=lazy src=../images/flamegraph_and_table.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ccf121c22939a686abd9296d7a22ca72><img alt="Flamegraph and table" class="lazy lightbox lightbox-image" loading=lazy src=../images/flamegraph_and_table.png></a></p><p>The AlwaysOn Profiler includes both a table and a <a href=https://www.brendangregg.com/flamegraphs.html rel=external target=_blank>flamegraph</a>. Take some time to explore this view by doing some of the following:</p><ul><li>click a table item and notice the change in flamegraph</li><li>navigate the flamegraph by clicking on a stack frame to zoom in, and a parent frame to zoom out</li><li>add a search term like <code>splunk</code> or <code>jetty</code> to highlight some matching stack frames</li></ul><p>Let&rsquo;s have a closer look at the stack trace, starting with the <code>DoorGame.startNew</code> method (since we already know that it&rsquo;s the slowest part of the request)</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>com.splunk.profiling.workshop.DoorGame.startNew(DoorGame.java:24)
com.splunk.profiling.workshop.UserData.loadUserData(UserData.java:33)
com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1168)
com.mysql.cj.NativeSession.execSQL(NativeSession.java:655)
com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:998)
com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1065)
com.mysql.cj.protocol.a.NativeProtocol.readAllResults(NativeProtocol.java:1715)
com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1661)
com.mysql.cj.protocol.a.TextResultsetReader.read(TextResultsetReader.java:48)
com.mysql.cj.protocol.a.TextResultsetReader.read(TextResultsetReader.java:87)
com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1648)
com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:42)
com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:75)
com.mysql.cj.protocol.a.MultiPacketReader.readMessage(MultiPacketReader.java:44)
com.mysql.cj.protocol.a.MultiPacketReader.readMessage(MultiPacketReader.java:66)
com.mysql.cj.protocol.a.TimeTrackingPacketReader.readMessage(TimeTrackingPacketReader.java:41)
com.mysql.cj.protocol.a.TimeTrackingPacketReader.readMessage(TimeTrackingPacketReader.java:62)
com.mysql.cj.protocol.a.SimplePacketReader.readMessage(SimplePacketReader.java:45)
com.mysql.cj.protocol.a.SimplePacketReader.readMessage(SimplePacketReader.java:102)
com.mysql.cj.protocol.a.SimplePacketReader.readMessageLocal(SimplePacketReader.java:137)
com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
java.io.FilterInputStream.read(Unknown Source:0)
sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source:0)
sun.security.ssl.SSLSocketImpl.readApplicationRecord(Unknown Source:0)
sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(Unknown Source:0)
sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source:0)
sun.security.ssl.SSLSocketInputRecord.read(Unknown Source:0)
java.net.SocketInputStream.read(Unknown Source:0)
java.net.SocketInputStream.read(Unknown Source:0)
java.lang.ThreadLocal.get(Unknown Source:0)</code></pre></div><p>We can interpret the stack trace as follows:</p><ul><li>When starting a new Door Game, a call is made to load user data.</li><li>This results in executing a SQL query to load the user data (which is related to the slow SQL query we saw earlier).</li><li>We then see calls to read data in from the database.</li></ul><p>So, what does this all mean? It means that our application startup is slow since it&rsquo;s spending time loading user data. In fact, the profiler has told us the exact line of code where this happens:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>com.splunk.profiling.workshop.UserData.loadUserData(UserData.java:33)</code></pre></div><p>Let&rsquo;s open the corresponding source file (<code>./doorgame/src/main/java/com/splunk/profiling/workshop/UserData.java</code>) and look at this code in more detail:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>public class UserData {

    static final String DB_URL = &#34;jdbc:mysql://mysql/DoorGameDB&#34;;
    static final String USER = &#34;root&#34;;
    static final String PASS = System.getenv(&#34;MYSQL_ROOT_PASSWORD&#34;);
    static final String SELECT_QUERY = &#34;select * FROM DoorGameDB.Users, DoorGameDB.Organizations&#34;;

    HashMap&lt;String, User&gt; users;

    public UserData() {
        users = new HashMap&lt;String, User&gt;();
    }

    public void loadUserData() {

        // Load user data from the database and store it in a map
        Connection conn = null;
        Statement stmt = null;
        ResultSet rs = null;

        try{
            conn = DriverManager.getConnection(DB_URL, USER, PASS);
            stmt = conn.createStatement();
            rs = stmt.executeQuery(SELECT_QUERY);
            while (rs.next()) {
                User user = new User(rs.getString(&#34;UserId&#34;), rs.getString(&#34;FirstName&#34;), rs.getString(&#34;LastName&#34;));
                users.put(rs.getString(&#34;UserId&#34;), user);
            }</code></pre></div><p>Here we can see the application logic in action. It establishes a connection to the database, then executes the SQL query we saw earlier:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>select * FROM DoorGameDB.Users, DoorGameDB.Organizations</code></pre></div><p>It then loops through each of the results, and loads each user into a <code>HashMap</code> object, which is a collection of <code>User</code> objects.</p><p>We have a good understanding of why the game startup sequence is so slow, but how do we fix it?</p><p>For more clues, let&rsquo;s have a look at the other part of AlwaysOn Profiling: memory profiling. To do this, click on the <code>Memory</code> tab in AlwaysOn profiling:</p><p><a href=#R-image-1211705fb3b17bcebfd569ba9b584f05 class=lightbox-link><img alt="Memory Profiling" class="lazy lightbox figure-image" loading=lazy src=../images/memory_profiling.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1211705fb3b17bcebfd569ba9b584f05><img alt="Memory Profiling" class="lazy lightbox lightbox-image" loading=lazy src=../images/memory_profiling.png></a></p><p>At the top of this view, we can see how much heap memory our application is using, the heap memory allocation rate, and garbage collection activity.</p><p>We can see that our application is using about 400 MB out of the max 1 GB heap size, which seems excessive for such a simple application. We can also see that some garbage collection occurred, which caused our application to pause (and probably annoyed those wanting to play the Game Door).</p><p>At the bottom of the screen, which can see which methods in our Java application code are associated with the most heap memory usage. Click on the first item in the list to show the Memory Allocation Stack Traces associated with the <code>java.util.Arrays.copyOf</code> method specifically:</p><p><a href=#R-image-7a6542106eadc5c9f28fa17d47896981 class=lightbox-link><img alt="Memory Allocation Stack Traces" class="lazy lightbox figure-image" loading=lazy src=../images/memory_allocation_stack_traces.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7a6542106eadc5c9f28fa17d47896981><img alt="Memory Allocation Stack Traces" class="lazy lightbox lightbox-image" loading=lazy src=../images/memory_allocation_stack_traces.png></a></p><p>With help from the profiler, we can see that the <code>loadUserData</code> method not only consumes excessive CPU time, but it also consumes excessive memory when storing the user data in the <code>HashMap</code> collection object.</p><h2 id=what-did-we-accomplish>What did we accomplish?</h2><p>We&rsquo;ve come a long way already!</p><ul><li>We learned how to enable the profiler in the Splunk OpenTelemetry Java instrumentation agent.</li><li>We learned how to verify in the agent output that the profiler is enabled.</li><li>We have explored several profiling related workflows in APM:<ul><li>How to navigate to AlwaysOn Profiling from the troubleshooting view</li><li>How to explore the flamegraph and method call duration table through navigation and filtering</li><li>How to identify when a span has sampled call stacks associated with it</li><li>How to explore heap utilization and garbage collection activity</li><li>How to view memory allocation stack traces for a particular method</li></ul></li></ul><p>In the next section, we&rsquo;ll apply a fix to our application to resolve the slow startup performance.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=fix-application-startup-slowness>Fix Application Startup Slowness</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p>In this section, we&rsquo;ll use what we learned from the profiling data in <strong>Splunk Observability Cloud</strong> to resolve the slowness we saw when starting our application.</p><h3 id=examining-the-source-code>Examining the Source Code</h3><p>Open the corresponding source file once again (<code>./doorgame/src/main/java/com/splunk/profiling/workshop/UserData.java</code>) and focus on the following code:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>public class UserData {

    static final String DB_URL = &#34;jdbc:mysql://mysql/DoorGameDB&#34;;
    static final String USER = &#34;root&#34;;
    static final String PASS = System.getenv(&#34;MYSQL_ROOT_PASSWORD&#34;);
    static final String SELECT_QUERY = &#34;select * FROM DoorGameDB.Users, DoorGameDB.Organizations&#34;;

    HashMap&lt;String, User&gt; users;

    public UserData() {
        users = new HashMap&lt;String, User&gt;();
    }

    public void loadUserData() {

        // Load user data from the database and store it in a map
        Connection conn = null;
        Statement stmt = null;
        ResultSet rs = null;

        try{
            conn = DriverManager.getConnection(DB_URL, USER, PASS);
            stmt = conn.createStatement();
            rs = stmt.executeQuery(SELECT_QUERY);
            while (rs.next()) {
                User user = new User(rs.getString(&#34;UserId&#34;), rs.getString(&#34;FirstName&#34;), rs.getString(&#34;LastName&#34;));
                users.put(rs.getString(&#34;UserId&#34;), user);
            }</code></pre></div><p>After speaking with a database engineer, you discover that the SQL query being executed includes a cartesian join:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>select * FROM DoorGameDB.Users, DoorGameDB.Organizations</code></pre></div><p>Cartesian joins are notoriously slow, and shouldn&rsquo;t be used, in general.</p><p>Upon further investigation, you discover that there are 10,000 rows in the user table, and 1,000 rows in the organization table. When we execute a cartesian join using both of these tables, we end up with 10,000 x 1,000 rows being returned, which is 10,000,000 rows!</p><p>Furthermore, the query ends up returning duplicate user data, since each record in the user table is repeated for each organization.</p><p>So when our code executes this query, it tries to load 10,000,000 user objects into the HashMap, which explains why it takes so long to execute, and why it consumes so much heap memory.</p><h3 id=lets-fix-that-bug>Let&rsquo;s Fix That Bug</h3><p>After consulting the engineer that originally wrote this code, we determined that the join with the Organizations table was inadvertent.</p><p>So when loading the users into the HashMap, we simply need to remove this table from the query.</p><p>Open the corresponding source file once again (<code>./doorgame/src/main/java/com/splunk/profiling/workshop/UserData.java</code>) and change the following line of code:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>SELECT_QUERY</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;select * FROM DoorGameDB.Users, DoorGameDB.Organizations&#34;</span><span class=p>;</span></span></span></code></pre></div><p>to:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>SELECT_QUERY</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;select * FROM DoorGameDB.Users&#34;</span><span class=p>;</span></span></span></code></pre></div><p>Now the method should perform much more quickly, and less memory should be used, as it&rsquo;s loading the correct number of users into the HashMap (10,000 instead of 10,000,000).</p><h3 id=rebuild-and-redeploy-application>Rebuild and Redeploy Application</h3><p>Let&rsquo;s test our changes by using the following commands to re-build and re-deploy the Door Game application:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> workshop/profiling
</span></span><span class=line><span class=cl>./5-redeploy-doorgame.sh</span></span></code></pre></div><p>Once the application has been redeployed successfully, visit The Door Game again to confirm that your fix is in place:
<code>http://&lt;your IP address>:81</code></p><p>Clicking <code>Let's Play</code> should take us to the game more quickly now (though performance could still be improved):</p><p><a href=#R-image-45d6da9d530db3f31ea1096455c21480 class=lightbox-link><img alt="Choose Door" class="lazy lightbox figure-image" loading=lazy src=../images/door_game_choose_door.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-45d6da9d530db3f31ea1096455c21480><img alt="Choose Door" class="lazy lightbox lightbox-image" loading=lazy src=../images/door_game_choose_door.png></a></p><p>Start the game a few more times, then return to <strong>Splunk Observability Cloud</strong> to confirm that the latency of the <code>GET new-game</code> operation has decreased.</p><h2 id=what-did-we-accomplish>What did we accomplish?</h2><ul><li>We discovered why our SQL query was so slow.</li><li>We applied a fix, then rebuilt and redeployed our application.</li><li>We confirmed that the application starts a new game more quickly.</li></ul><p>In the next section, we&rsquo;ll explore continue playing the game and fix any remaining performance issues that we find.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=fix-in-game-slowness>Fix In Game Slowness</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p>Now that our game startup slowness has been resolved, let&rsquo;s play several rounds of the Door Game and ensure the rest of the game performs quickly.</p><p>As you play the game, do you notice any other slowness? Let&rsquo;s look at the data in <strong>Splunk Observability</strong> Cloud to put some numbers on what we&rsquo;re seeing.</p><h3 id=review-game-performance-in-splunk-observability-cloud>Review Game Performance in Splunk Observability Cloud</h3><p>Navigate to APM then click on Traces on the right-hand side of the screen. Sort the traces by Duration in descending order:</p><p><a href=#R-image-c3405e9b6c34eb7a631a6b088fff1611 class=lightbox-link><img alt="Slow Traces" class="lazy lightbox figure-image" loading=lazy src=../images/slow_trace.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c3405e9b6c34eb7a631a6b088fff1611><img alt="Slow Traces" class="lazy lightbox lightbox-image" loading=lazy src=../images/slow_trace.png></a></p><p>We can see that a few of the traces with an operation of <code>GET /game/:uid/picked/:picked/outcome</code> have a duration of just over five seconds. This explains why we&rsquo;re still seeing some slowness when we play the app (note that the slowness is no longer on the game startup operation, <code>GET /new-game</code>, but rather a different operation used while actually playing the game).</p><p>Let&rsquo;s click on one of the slow traces and take a closer look. Since profiling is still enabled, call stacks have been captured as part of this trace. Click on the child span in the waterfall view, then click CPU Stack Traces:</p><p><a href=#R-image-3ff725ea573a85bb0e93bab720c1a46f class=lightbox-link><img alt="View Stack on Span" class="lazy lightbox figure-image" loading=lazy src=../images/view_stack_on_span.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3ff725ea573a85bb0e93bab720c1a46f><img alt="View Stack on Span" class="lazy lightbox lightbox-image" loading=lazy src=../images/view_stack_on_span.png></a></p><p>At the bottom of the call stack, we can see that the thread was busy sleeping:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code class=language-log data-lang=log>com.splunk.profiling.workshop.ServiceMain$$Lambda$.handle(Unknown Source:0)
com.splunk.profiling.workshop.ServiceMain.lambda$main$(ServiceMain.java:34)
com.splunk.profiling.workshop.DoorGame.getOutcome(DoorGame.java:41)
com.splunk.profiling.workshop.DoorChecker.isWinner(DoorChecker.java:14)
com.splunk.profiling.workshop.DoorChecker.checkDoorTwo(DoorChecker.java:30)
com.splunk.profiling.workshop.DoorChecker.precheck(DoorChecker.java:36)
com.splunk.profiling.workshop.Util.sleep(Util.java:9)
java.util.concurrent.TimeUnit.sleep(Unknown Source:0)
java.lang.Thread.sleep(Unknown Source:0)
java.lang.Thread.sleep(Native Method:0)</code></pre></div><p>The call stack tells us a story &ndash; reading from the bottom up, it lets us describe
what is happening inside the service code. A developer, even one unfamiliar with the
source code, should be able to look at this call stack to craft a narrative like:</p><blockquote><p>We are getting the outcome of a game. We leverage the DoorChecker to
see if something is the winner, but the check for door two somehow issues
a precheck() that, for some reason, is deciding to sleep for a long time.</p></blockquote><p>Our workshop application is left intentionally simple &ndash; a real-world service might see the
thread being sampled during a database call or calling into an un-traced external service.
It is also possible that a slow span is executing a complicated business process,
in which case maybe none of the stack traces relate to each other at all.</p><p>The longer a method or process is, the greater chance we will have call stacks
sampled during its execution.</p><h3 id=lets-fix-that-bug>Let&rsquo;s Fix That Bug</h3><p>By using the profiling tool, we were able to determine that our application is slow
when issuing the <code>DoorChecker.precheck()</code> method from inside <code>DoorChecker.checkDoorTwo()</code>.
Let&rsquo;s open the <code>doorgame/src/main/java/com/splunk/profiling/workshop/DoorChecker.java</code> source file in our editor.</p><p>By quickly glancing through the file, we see that there are methods for checking
each door, and all of them call <code>precheck()</code>. In a real service, we might be uncomfortable
simply removing the <code>precheck()</code> call because there could be unseen/unaccounted side
effects.</p><p>Down on line 29 we see the following:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>checkDoorTwo</span><span class=p>(</span><span class=n>GameInfo</span><span class=w> </span><span class=n>gameInfo</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>precheck</span><span class=p>(</span><span class=n>2</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>gameInfo</span><span class=p>.</span><span class=na>isWinner</span><span class=p>(</span><span class=n>2</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>precheck</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>doorNum</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>long</span><span class=w> </span><span class=n>extra</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>Math</span><span class=p>.</span><span class=na>pow</span><span class=p>(</span><span class=n>70</span><span class=p>,</span><span class=w> </span><span class=n>doorNum</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sleep</span><span class=p>(</span><span class=n>300</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>extra</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span></span></span></code></pre></div><p>With our developer hat on, we notice that the door number is zero based, so
the first door is 0, the second is 1, and the 3rd is 2 (this is conventional).
The <code>extra</code> value is used as extra/additional sleep time, and it is computed by taking
<code>70^doorNum</code> (<code>Math.pow</code> performs an exponent calculation). That&rsquo;s odd, because this means:</p><ul><li>door 0 => 70^0 => 1ms</li><li>door 1 => 70^1 => 70ms</li><li>door 2 => 70^2 => 4900ms</li></ul><p>We&rsquo;ve found the root cause of our slow bug! This also explains why the first two doors
weren&rsquo;t ever very slow.</p><p>We have a quick chat with our product manager and team lead, and we agree that the <code>precheck()</code>
method must stay but that the extra padding isn&rsquo;t required. Let&rsquo;s remove the <code>extra</code> variable
and make <code>precheck</code> now read like this:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>precheck</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>doorNum</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sleep</span><span class=p>(</span><span class=n>300</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span></span></span></code></pre></div><p>Now all doors will have a consistent behavior. Save your work and then rebuild and redeploy the application using the following command:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> workshop/profiling
</span></span><span class=line><span class=cl>./5-redeploy-doorgame.sh</span></span></code></pre></div><p>Once the application has been redeployed successfully, visit The Door Game again to confirm that your fix is in place:
<code>http://&lt;your IP address>:81</code></p><h2 id=what-did-we-accomplish>What did we accomplish?</h2><ul><li>We found another performance issue with our application that impacts game play.</li><li>We used the CPU call stacks included in the trace to understand application behavior.</li><li>We learned how the call stack can tell us a story and point us to suspect lines of code.</li><li>We identified the slow code and fixed it to make it faster.</li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=summary>Summary</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>3 minutes</span>
</span>&nbsp;<p>In this workshop, we accomplished the following:</p><ul><li>We deployed our application and captured traces with <strong>Splunk Observability Cloud</strong>.</li><li>We used <strong>Database Query Performance</strong> to find a slow-running query that impacted the game startup time.</li><li>We enabled <strong>AlwaysOn Profiling</strong> and used it to confirm which line of code was causing the increased startup time and memory usage.</li><li>We found another application performance issue and used <strong>AlwaysOn Profiling</strong> again to find the problematic line of code.</li><li>We applied fixes for both of these issues and verified the result using <strong>Splunk Observability Cloud</strong>.</li></ul><p>Enabling <strong>AlwaysOn Profiling</strong> and utilizing <strong>Database Query Performance</strong> for your applications will let you get even more value from the data you‚Äôre sending to <strong>Splunk Observability Cloud</strong>.</p><p>Now that you‚Äôve completed this workshop, you have the knowledge you need to start collecting deeper diagnostic data from your own applications!</p><p>To get started with <strong>Database Query Performance</strong> today, check out <a href=https://docs.splunk.com/observability/en/apm/db-query-perf/db-query-performance.html rel=external target=_blank>Monitor Database Query Performance</a>.</p><p>And to get started with <strong>AlwaysOn Profiling</strong>, check out <a href=https://docs.splunk.com/observability/en/apm/profiling/intro-profiling.html rel=external target=_blank>Introduction to AlwaysOn Profiling for Splunk APM</a></p><p>For more help, feel free to <a href=https://www.splunk.com/en_us/about-splunk/contact-us.html rel=external target=_blank>ask a Splunk Expert</a>.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article></section></section><article class=default><header class=headline></header><h1 id=optimize-end-user-experiences>Optimize End User Experiences</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>90 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Sarah Ware</span></span><p>How can we use Splunk Observability to get insight into end user experience, and proactively test scenarios to improve that experience?</p><p>Sections:</p><ul><li>Set up basic <a href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/1-synthetics/index.html>Synthetic tests</a> to understand availability and performance ASAP<ul><li>Uptime test</li><li>API test</li><li>Single page Browser test</li></ul></li><li>Explore <a href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/2-rum/index.html>RUM</a> to understand our real users</li><li>Write <a href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/3-advanced-synthetics/index.html>advanced Synthetics tests</a> based on what we&rsquo;ve learned about our users and what we need them to do</li><li>Customize <a href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/4-dashboards/index.html>dashboard charts</a> to capture our KPIs, show trends, and show data in context of our events</li><li>Create <a href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/5-detectors/index.html>Detectors</a> to alert on our KPIs</li></ul><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>Keep in mind throughout the workshop: how can I prioritize activities strategically to get the fastest time to value for my end users and for myself/ my developers?</div></details><h2 id=context>Context</h2><p>As a reminder, we need frontend performance monitoring to capture everything that goes into our end user experience. If we&rsquo;re just monitoring the backend, we&rsquo;re missing all of the other resources that are critical to our users&rsquo; success. Read <a href=https://www.splunk.com/en_us/blog/devops/what-the-fastly-outage-can-teach-us-about-observability.html rel=external target=_blank>What the Fastly Outage Can Teach Us About Observability</a> for a real world example. Click the image below to zoom in.
<a href=#R-image-9a44639ef03bc5bdfeca3768e52d0d40 class=lightbox-link><img alt="What goes into the front end" class="lazy lightbox figure-image" loading=lazy src=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/images/frontend.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9a44639ef03bc5bdfeca3768e52d0d40><img alt="What goes into the front end" class="lazy lightbox lightbox-image" loading=lazy src=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/images/frontend.png></a></p><h2 id=references>References</h2><p>Throughout this workshop, we will see references to resources to help further understand end user experience and how to optimize it. In addition to <a href=https://docs.splunk.com/observability/en/rum/intro-to-rum.html rel=external target=_blank>Splunk Docs</a> for supported features and <a href=https://lantern.splunk.com/Observability/UCE/Optimized_experiences rel=external target=_blank>Lantern</a> for tips and tricks, <a href=https://web.dev/ rel=external target=_blank>Google&rsquo;s web.dev</a> and <a href=https://developer.mozilla.org/en-US/docs/Learn/Performance rel=external target=_blank>Mozilla</a> are great resources.</p><p>Remember that the specific libraries, platforms, and CDNs you use often also have their own specific resources. For example <a href=https://react.dev/reference/react/useCallback#skipping-re-rendering-of-components rel=external target=_blank>React</a>, <a href=https://wpengine.com/support/troubleshooting-high-time-first-byte-ttfb/ rel=external target=_blank>Wordpress</a>, and <a href=https://community.cloudflare.com/t/improving-time-to-first-byte-ttfb-with-cloudflare/390367 rel=external target=_blank>Cloudflare</a> all have their own tips to improve performance.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Oct 10, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of Optimize End User Experiences</h1><article class=default><header class=headline></header><h1 id=synthetics>Synthetics</h1><p>Let&rsquo;s quickly set up some tests in Synthetics to immediately start understanding our end user experience, without waiting for real users to interact with our app.</p><p>We can capture not only the performance and availability of our own apps and endpoints, but also those third parties we rely on any time of the day or night.</p><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>If you find that your tests are being bot-blocked, see the docs for <strong><a href=https://docs.splunk.com/observability/en/synthetics/test-config/synth-configure-app.html rel=external target=_blank>tips on how to allow Synthetic testing</a></strong>. if you need to test something that is not accessible externally, see <strong><a href=https://docs.splunk.com/observability/en/synthetics/test-config/private-locations.html rel=external target=_blank>private location instructions</a></strong>.</div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Mar 19, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of Synthetics</h1><article class=default><header class=headline></header><h1 id=uptime-test>Uptime Test</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<h2 id=introduction>Introduction</h2><p>The simplest way to keep an eye on endpoint availability is with an <a href=https://docs.splunk.com/observability/en/synthetics/uptime-test/uptime-test.html rel=external target=_blank>Uptime test</a>. This lightweight test can run internally or externally around the world, as frequently as every minute. Because this is the easiest (and cheapest!) test to set up, and because this is ideal for monitoring availability of your most critical enpoints and ports, let&rsquo;s start here.</p><h2 id=pre-requisites>Pre-requisites</h2><ul><li>Publicly accessible HTTP(S) endpoint(s) to test</li><li>Access to Splunk Observability Cloud</li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 1. Uptime Test</h1><article class=default><header class=headline></header><h1 id=creating-a-test>Creating a test</h1><ol><li><p>Open Synthetics
<a href=#R-image-f05a08d0b3a481b7accdb34d7d617ce2 class=lightbox-link><img alt="Synthetics navigation item" class="lazy lightbox figure-image" loading=lazy src=../../_img/nav-synthetics.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f05a08d0b3a481b7accdb34d7d617ce2><img alt="Synthetics navigation item" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/nav-synthetics.png></a></p></li><li><p>Click the <span class="btn cstyle blue"><span><span class=title>Add new test</span></span></span> button on the right side of the screen, then select Uptime and HTTP test.
<a href=#R-image-50901248699d423f978d2dce938f350d class=lightbox-link><img alt=image class="lazy lightbox figure-image" loading=lazy src=../../_img/create-uptime.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-50901248699d423f978d2dce938f350d><img alt=image class="lazy lightbox lightbox-image" loading=lazy src=../../_img/create-uptime.png></a></p></li><li><p>Name your test with your <strong>team name</strong> (provided by your workshop instructor), your initials, and any other details you&rsquo;d like to include, like geographic region.</p></li><li><p>For now let&rsquo;s test a <strong>GET</strong> request. Fill in the URL field. You can use one of your own, or one of ours like <a href=https://online-boutique-eu.splunko11y.com rel=external target=_blank>https://online-boutique-eu.splunko11y.com</a>, <a href=https://online-boutique-us.splunko11y.com rel=external target=_blank>https://online-boutique-us.splunko11y.com</a>, or <a href=https://www.splunk.com rel=external target=_blank>https://www.splunk.com</a>.</p></li><li><p>Click <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span> to validate that the endpoint is accessible before the selected location before saving the test. <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span> does not count against your subscription usage, so this is a good practice to make sure you&rsquo;re not wasting real test runs on a misconfigured test.
<a href=#R-image-8e9ef972086d1a0f1979ddbe2b20555f class=lightbox-link><img alt=image class="lazy lightbox figure-image" loading=lazy src=../../_img/try-now.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8e9ef972086d1a0f1979ddbe2b20555f><img alt=image class="lazy lightbox lightbox-image" loading=lazy src=../../_img/try-now.png></a></p></li></ol><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>A common reason for <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span> to fail is that there is a non-2xx response code. If that is expected, add a Validation for the correct response code.</div></details><ol><li><p>Add any additional validations needed, for example: response code, response header, and response size.
<a href=#R-image-e50d267632f1e0c0ebeab8d8b45c81ed class=lightbox-link><img alt="Advanced settings for test configuration" class="lazy lightbox figure-image" loading=lazy src=../../_img/uptime-security.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e50d267632f1e0c0ebeab8d8b45c81ed><img alt="Advanced settings for test configuration" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/uptime-security.png></a></p></li><li><p>Add and remove any locations you&rsquo;d like. Keep in mind where you expect your endpoint to be available.</p></li><li><p>Change the frequency to test your more critical endpoints more often, up to one minute.
<a href=#R-image-63077f18582484911482cbf30633a7dc class=lightbox-link><img alt=image class="lazy lightbox figure-image" loading=lazy src=../../_img/uptime-config.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-63077f18582484911482cbf30633a7dc><img alt=image class="lazy lightbox lightbox-image" loading=lazy src=../../_img/uptime-config.png></a></p></li><li><p>Make sure &ldquo;Round-robin&rdquo; is on so the test will run from one location at a time, rather than from all locations at once.</p><ul><li>If an endpoint is <strong>highly</strong> critical, think about if it is worth it to have all locations tested at the same time every single minute. If you have automations built in with a webhook from a detector, or if you have strict SLAs you need to track, this <em>could</em> be worth it to have as much coverage as possible. But if you are doing more manual investigation, or if this is a less critical endpoint, you could be wasting test runs that are executing while an issue is being investigated.</li><li>Remember that your license is based on the number of test runs per month. Turning Round-robin off will multiply the number of test runs by the number of locations you have selected.</li></ul></li><li><p>When you are ready for the test to start running, make sure &ldquo;Active&rdquo; is on, then scroll down and click <span class="btn cstyle blue"><span><span class=title>Submit</span></span></span> to save the test configuration.
<a href=#R-image-ef006d4903344a2a14ba902ae97c8bc7 class=lightbox-link><img alt="submit button" class="lazy lightbox figure-image" loading=lazy src=../../_img/submit.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ef006d4903344a2a14ba902ae97c8bc7><img alt="submit button" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/submit.png></a></p></li></ol><p>Now the test will start running with your saved configuration. Take a water break, then we&rsquo;ll look at the results!</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=understanding-results>Understanding results</h1><ol><li><p>From the Synthetics landing page, click into a test to see its summary view and play with the <a href=https://docs.splunk.com/observability/en/synthetics/uptime-test/uptime-test-results.html#customize-the-performance-kpis-chart rel=external target=_blank>Performance KPIs chart</a> filters to see how you can slice and dice your data. This is a good place to get started understanding trends. Later, we will see what custom charts look like, so you can tailor dashboards to the KPIs you care about most.
<a href=#R-image-158358f30b37ff2553198976b6e953f5 class=lightbox-link><img alt="KPI chart filters" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-09/c040b5f6-a868-4977-8d3b-bc3e431ffcc8/user_cropped_screenshot.jpeg?tl_px=1160,0&br_px=2880,961&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=755,44" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-158358f30b37ff2553198976b6e953f5><img alt="KPI chart filters" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-09/c040b5f6-a868-4977-8d3b-bc3e431ffcc8/user_cropped_screenshot.jpeg?tl_px=1160,0&br_px=2880,961&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=755,44"></a><details open class="box cstyle notices tip"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-question"></i>
Workshop Question: Using the Performance KPIs chart</summary><div class=box-content><p>What metrics are available? Is your data consistent across time and locations? Do certain locations run slower than others? Are there any spikes or failures?</p></div></details></p></li><li><p>Click into a recent run either in the chart or in the table below.
<a href=#R-image-62eea5c2fe68e1a0c785fb9048c71749 class=lightbox-link><img alt="run results chart" class="lazy lightbox figure-image" loading=lazy src=../../_img/run-results.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-62eea5c2fe68e1a0c785fb9048c71749><img alt="run results chart" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/run-results.png></a></p></li><li><p>If there are failures, look at the response to see if you need to add a response code assertion (302 is a common one), if there is some authorization needed, or different request headers added. Here we have information about this particular test run including if it succeeded or failed, the location, timestamp, and duration in addition to the other Uptime test metrics. Click through to see the response, request, and connection info as well.
<a href=#R-image-bb9b08e39e94103ca3a7fc18c5f31679 class=lightbox-link><img alt="uptime test result" class="lazy lightbox figure-image" loading=lazy src=../../_img/uptime-test-result.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bb9b08e39e94103ca3a7fc18c5f31679><img alt="uptime test result" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/uptime-test-result.png></a>
If you need to edit the test for it to run successfully, click the test name in the top left breadcrumb on this run result page, then click <span class="btn cstyle transparent"><span><span class=title>Edit test</span></span></span> on the top right of the test overview page. Remember to scroll down and click <span class="btn cstyle blue"><span><span class=title>Submit</span></span></span> to save your changes after editing the test configuration.</p></li><li><p>In addition to the test running successfully, there are other metrics to measure the health of your endpoints. For example, <a href=https://web.dev/articles/ttfb rel=external target=_blank>Time to First Byte</a>(TTFB) is a great indicator of performance, and you can <a href=https://web.dev/articles/optimize-ttfb rel=external target=_blank>optimize TTFB</a> to improve end user experience.</p></li><li><p>Go back to the test overview page and change the Performance KPIs chart to display First Byte time. Once the test has run for a long enough time, expanding the time frame will draw the data points as lines to better see trends and anomalies, like in the example below.
<a href=#R-image-e4de2082a4e6f97e419d428109e07d95 class=lightbox-link><img alt="Performance KPIs for Uptime Tests" class="lazy lightbox figure-image" loading=lazy src=../../_img/ttfb.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e4de2082a4e6f97e419d428109e07d95><img alt="Performance KPIs for Uptime Tests" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/ttfb.png></a></p></li></ol><p>In the example above, we can see that TTFB varies consistently between locations. Knowing this, we can keep location in mind when reporting on metrics. We could also improve the experience, for example by serving users in those locations an endpoint hosted closer to them, which should reduce network latency. We can also see some slight variations in the results over time, but overall we already have a good idea of our baseline for this endpoint&rsquo;s KPIs. When we have a baseline, we can alert on worsening metrics as well as visualize improvements.<details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>We are not setting a detector on this test yet, to make sure it is running consistently and successfully. If you are testing a highly critical endpoint and want to be alerted on it ASAP (and have tolerance for potential alert noise), jump to <strong><a href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/5-detectors/1-test-detector/index.html>Single Test Detectors</a></strong>.</p></div></details></p><p>Once you have your Uptime test running successfully, let&rsquo;s move on to the next test type.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 6, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=api-test>API Test</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<p>The <a href=https://docs.splunk.com/observability/en/synthetics/api-test/api-test.html rel=external target=_blank>API test</a> provides a flexible way to check the functionality and performance of API endpoints. The shift toward API-first development has magnified the necessity to monitor the back-end services that provide your core front-end functionality.</p><p>Whether you&rsquo;re interested in testing multi-step API interactions or you want to gain visibility into the performance of your endpoints, the API Test can help you accomplish your goals.</p><p>This excercise will walk through a multi-step test on the Spotify API. You can also use it as a reference to build tests on your own APIs or on those of your critical third parties.</p><p><a href=#R-image-8a39d8f0f484524190ccf82372970260 class=lightbox-link><img alt="API test result" class="lazy lightbox figure-image" loading=lazy src=../_img/api-test-result.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8a39d8f0f484524190ccf82372970260><img alt="API test result" class="lazy lightbox lightbox-image" loading=lazy src=../_img/api-test-result.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 2. API Test</h1><article class=default><header class=headline></header><h1 id=global-variables>Global Variables</h1><p><a href=https://docs.splunk.com/observability/en/synthetics/test-config/global-variables.html rel=external target=_blank>Global variables</a> allow us to use stored strings in multiple tests, so we only need to update them in one place.</p><p>View the global variable that we&rsquo;ll use to perform our API test. Click on <strong>Global Variables</strong> under the cog icon. The global variable named <code>env.encoded_auth</code> will be the one that we&rsquo;ll use to build the spotify API transaction.</p><p><a href=#R-image-7269944c5fb716e64c174c6e4de865fc class=lightbox-link><img alt="global variables" class="lazy lightbox figure-image" loading=lazy src=../../_img/global-variables.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7269944c5fb716e64c174c6e4de865fc><img alt="global variables" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/global-variables.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=create-new-api-test>Create new API test</h1><p>Create a new API test by clicking on the <span class="btn cstyle blue"><span><span class=title>Add new test</span></span></span> button and select <strong>API test</strong> from the dropdown. Name the test using your team name, your initials, and Spotify API e.g. <strong>[Daisy] RWC - Spotify API</strong></p><p><a href=#R-image-6480b446eb888d943fcf632ddf08c0f6 class=lightbox-link><img alt="new API test" class="lazy lightbox figure-image" loading=lazy src=../../_img/create-api.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6480b446eb888d943fcf632ddf08c0f6><img alt="new API test" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/create-api.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=authentication-request>Authentication Request</h1><p>Click on <span class="btn cstyle transparent"><span><span class=title>+ Add requests</span></span></span> and enter the request step name e.g. <strong>Authenticate with Spotify API</strong>.</p><p><a href=#R-image-41bf0151a625337e927f32bcb055e566 class=lightbox-link><img alt=placeholder class="lazy lightbox figure-image" loading=lazy src=../../_img/add-request.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-41bf0151a625337e927f32bcb055e566><img alt=placeholder class="lazy lightbox lightbox-image" loading=lazy src=../../_img/add-request.png></a></p><p>Expand the Request section, from the drop-down change the request method to <strong>POST</strong> and enter the following URL:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>https://accounts.spotify.com/api/token</span></span></code></pre></div><p>In the <strong>Payload body</strong> section enter the following:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>grant_type=client_credentials</span></span></code></pre></div><p>Next, add two <span class="btn cstyle transparent"><span><span class=title>+ Request headers</span></span></span> with the following key/value pairings:</p><ul><li><strong>CONTENT-TYPE: application/x-www-form-urlencoded</strong></li><li><strong>AUTHORIZATION: Basic {{env.encoded_auth}}</strong></li></ul><p>Expand the <strong>Validation</strong> section and add the following extraction:</p><ul><li><strong>Extract</strong> from <strong>Response body</strong> <strong>JSON</strong> <strong>$.access_token</strong> as <strong>access_token</strong></li></ul><p>This will parse the JSON payload that is received from the Spotify API, extract the access token and store it as a custom variable.</p><p><a href=#R-image-a6a2afbc1bd6dc6c26c09efe190223b5 class=lightbox-link><img alt="Add request payload token" class="lazy lightbox figure-image" loading=lazy src=../../_img/api-payload-token.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a6a2afbc1bd6dc6c26c09efe190223b5><img alt="Add request payload token" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/api-payload-token.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=search-request>Search Request</h1><p>Click on <span class="btn cstyle transparent"><span><span class=title>+ Add Request</span></span></span> to add the next step. Name the step <strong>Search for Tracks named &ldquo;Up around the bend&rdquo;</strong>.</p><p>Expand the <strong>Request</strong> section and change the request method to <strong>GET</strong> and enter the following URL:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>https://api.spotify.com/v1/search?q=Up%20around%20the%20bend&amp;type=track&amp;offset=0&amp;limit=5</span></span></code></pre></div><p>Next, add two request headers with the following key/value pairings:</p><ul><li><strong>CONTENT-TYPE: application/json</strong></li><li><strong>AUTHORIZATION: Bearer {{custom.access_token}}</strong><ul><li>This uses the custom variable we created in the previous step!</li></ul></li></ul><p><a href=#R-image-75da5bd853130171ad959dc96c80277d class=lightbox-link><img alt="Add search request" class="lazy lightbox figure-image" loading=lazy src=../../_img/api-search-request.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-75da5bd853130171ad959dc96c80277d><img alt="Add search request" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/api-search-request.png></a></p><p>Expand the <strong>Validation</strong> section and add the following extraction:</p><ul><li><strong>Extract</strong> from <strong>Response body</strong> <strong>JSON</strong> <strong>$.tracks.items[0].id</strong> as <strong>track.id</strong></li></ul><p><a href=#R-image-eec60a8710260d5fda71a41256559efa class=lightbox-link><img alt="Add search payload" class="lazy lightbox figure-image" loading=lazy src=../../_img/api-search-payload.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-eec60a8710260d5fda71a41256559efa><img alt="Add search payload" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/api-search-payload.png></a></p><p>To validate the test before saving, scroll to the top and change the location as needed. Click <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span>. See the docs for more information on the <a href=https://docs.splunk.com/observability/en/synthetics/test-config/try-now.html rel=external target=_blank>try now feature</a>.</p><p><a href=#R-image-a737468b5a4400ca5be4164759050534 class=lightbox-link><img alt="try now" class="lazy lightbox figure-image" loading=lazy src=../../_img/api-try-now.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a737468b5a4400ca5be4164759050534><img alt="try now" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/api-try-now.png></a></p><p>When the validation is successful, click on <span class="btn cstyle blue"><span><span class=title>< Return to test</span></span></span> to return to the test configuration page. And then click <span class="btn cstyle blue"><span><span class=title>Save</span></span></span> to save the API test.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Extra credit</summary><div class=box-content><p>Have more time to work on this test? Take a look at the Response Body in one of your run results. What additional steps would make this test more thorough? Edit the test, and use the <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span> feature to validate any changes you make before you save the test.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=view-results>View results</h1><p>Wait for a few minutes for the test to provision and run. Once you see the test has run successfully, click on the run to view the results:</p><p><a href=#R-image-f620e949ea72702a62b4d4f8bf94c18a class=lightbox-link><img alt="API test result" class="lazy lightbox figure-image" loading=lazy src=../../_img/api-result.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f620e949ea72702a62b4d4f8bf94c18a><img alt="API test result" class="lazy lightbox lightbox-image" loading=lazy src=../../_img/api-result.png></a></p><h2 id=resources>Resources</h2><ul><li><a href=https://docs.splunk.com/Observability/synthetics/api-test/set-up-api-test.html rel=external target=_blank>How to Create an API Test</a></li><li><a href=https://docs.splunk.com/Observability/synthetics/api-test/api-test.html rel=external target=_blank>API Test Overview</a></li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=single-page-browser-test>Single Page Browser Test</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<p>We have started testing our endpoints, now let&rsquo;s test the front end browser experience.</p><p>Starting with a single page <a href=https://docs.splunk.com/observability/en/synthetics/browser-test/browser-test.html rel=external target=_blank>browser test</a> will let us capture how first- and third-party resources impact how our end users experience our browser-based site. It also allows us to start to understand our user experience metrics before introducing the complexity of multiple steps in one test.</p><p>A page where your users commonly &ldquo;land&rdquo; is a good choice to start with a single page test. This could be your site homepage, a section main page, or any other high-traffic URL that is important to you and your end users.</p><ol><li><p>Click <span class="btn cstyle blue"><span><span class=title>Create new test</span></span></span> and select Browser test
<a href=#R-image-4cf85ed8a00e3836ff49fb1be50363bc class=lightbox-link><img alt="Create new browser test" class="lazy lightbox figure-image" loading=lazy src=../_img/create-browser.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4cf85ed8a00e3836ff49fb1be50363bc><img alt="Create new browser test" class="lazy lightbox lightbox-image" loading=lazy src=../_img/create-browser.png></a></p></li><li><p>Include your <strong>team name</strong> and <strong>initials</strong> in the test name. Add to the Name and Custom properties to describe the scope of the test (like Desktop for device type). Then click <span class="btn cstyle transparent"><span><span class=title>+ Edit steps</span></span></span>
<a href=#R-image-40faee06079bb8d0018d6b0ba47182c3 class=lightbox-link><img alt="Browser test content fields" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-name.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-40faee06079bb8d0018d6b0ba47182c3><img alt="Browser test content fields" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-name.png></a></p></li><li><p>Change the transaction label (top left) and step name (on the right) to something readable that describes the step. Add the URL you&rsquo;d like to test. Your workshop instructor can provide you with a URL as well. In the below example, the transaction is &ldquo;Home&rdquo; and the step name is &ldquo;Go to homepage&rdquo;.
<a href=#R-image-7e4e8ace1dcadee35b948e71f11a434d class=lightbox-link><img alt="Transaction and step label" class="lazy lightbox figure-image" loading=lazy src=../_img/single-step.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7e4e8ace1dcadee35b948e71f11a434d><img alt="Transaction and step label" class="lazy lightbox lightbox-image" loading=lazy src=../_img/single-step.png></a></p></li><li><p>To validate the test, change the location as needed and click <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span>. See the docs for more information on the <a href=https://docs.splunk.com/observability/en/synthetics/test-config/try-now.html rel=external target=_blank>try now feature</a>.
<a href=#R-image-7a178bd552dcc20c9dc9a172087b70b0 class=lightbox-link><img alt="browser test try now buttons" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-try-now.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7a178bd552dcc20c9dc9a172087b70b0><img alt="browser test try now buttons" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-try-now.png></a></p></li><li><p>Wait for the test validation to complete. If the test validation failed, double check your URL and test location and try again. With <span class="btn cstyle transparent"><span><span class=title>Try now</span></span></span> you can see what the result of the test will be if it were saved and run as-is.
<a href=#R-image-ba789bf967a837864234ec71d74fbf6d class=lightbox-link><img alt="Try Now browser test results" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-try-now-result.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ba789bf967a837864234ec71d74fbf6d><img alt="Try Now browser test results" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-try-now-result.png></a></p></li><li><p>Click <span class="btn cstyle blue"><span><span class=title>&lt; Return to test</span></span></span> to continue the configuration.
<a href=#R-image-8388265e6584a76bb9d3c62a6fe634f3 class=lightbox-link><img alt="Return to test button" class="lazy lightbox figure-image" loading=lazy src=../_img/return.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8388265e6584a76bb9d3c62a6fe634f3><img alt="Return to test button" class="lazy lightbox lightbox-image" loading=lazy src=../_img/return.png></a></p></li><li><p>Edit the locations you want to use, keeping in mind any regional rules you have for your site.<p></p><a href=#R-image-2885a7a7baf7e79a345edaf07ae4c947 class=lightbox-link><img alt="Browser test details" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-test-details.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2885a7a7baf7e79a345edaf07ae4c947><img alt="Browser test details" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-test-details.png></a></p></li><li><p>You can edit the Device and Frequency or leave them at their default values for now. Click <span class="btn cstyle blue"><span><span class=title>Submit</span></span></span> at the bottom of the form to save the test and start running it.<p></p><a href=#R-image-de54c87b87f311dcaa5a3eda947f6fad class=lightbox-link><img alt="browser test submit button" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-submit.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-de54c87b87f311dcaa5a3eda947f6fad><img alt="browser test submit button" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-submit.png></a></p></li></ol><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Bonus Exercise</summary><div class=box-content><p>Have a few spare seconds? Copy this test and change just the title and device type, and save. Now you have visibility into the end user experience on another device and connection speed!</p></div></details><p>While our Synthetic tests are running, let&rsquo;s see how RUM is instrumented to start getting data from our real users.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=rum>RUM</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>With <a href=https://docs.splunk.com/observability/en/rum/intro-to-rum.html rel=external target=_blank>RUM</a> instrumented, we will be able to better understand our end users, what they are doing, and what issues they are encountering.</p><p>This workshop walks through how our demo site is instrumented and how to interpret the data. If you already have a RUM license, this will help you understand how RUM works and how you can use it to optimize your end user experience.</p><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>Our Docs also contain guidance such as <a href=https://docs.splunk.com/observability/en/rum/rum-scenario-library/scenario-landingpage.html rel=external target=_blank>scenarios using Splunk RUM</a> and demo applications to test out <a href=https://docs.splunk.com/observability/en/rum/sample-app.html rel=external target=_blank>RUM for mobile apps</a>.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of RUM</h1><article class=default><header class=headline></header><h1 id=overview>Overview</h1><p>The aim of this Splunk Real User Monitoring (RUM) workshop is to let you:</p><ul><li>Shop for items on the Online Boutique to create traffic, and create RUM User Sessions<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> that you can view in the Splunk Observability Suite.</li><li>See an overview of the performance of all your application(s) in the Application Summary Dashboard</li><li>Examine the performance of a specific website with RUM metrics.</li></ul><p>In order to reach this goal, we will use an online boutique to order various products. While shopping on the online boutique you will create what is called a User Session.</p><p>You may encounter some issues with this web site, and you will use Splunk RUM to identify the issues, so they can be resolved by the developers.</p><p>The workshop host will provide you with a URL for an online boutique store that has RUM enabled.</p><p>Each of these Online Boutiques are also being visited by a few synthetic users; this will allow us to generate more live data to be analyzed later.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>A RUM User session is a &ldquo;recording&rdquo; of a collection of user interactions on an application, basically collecting a website or app‚Äôs performance measured straight from the browser or Mobile App of the end user. To do this a small amount of JavaScript is embedded in each page. This script then collects data from each user as he or she explores the page, and transfers that data back for analysis.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=rum-instrumentation-in-a-browser-app>RUM instrumentation in a browser app</h1><ul><li>Check the HEAD section of the Online-boutique webpage in your browser</li><li>Find the code that instruments RUM</li></ul><hr><h2 id=1-browse-to-the-online-boutique>1. Browse to the Online Boutique</h2><p>Your workshop instructor will provide you with the Online Boutique URL that has RUM installed so that you can complete the next steps.</p><h2 id=2--inspecting-the-html-source>2. Inspecting the HTML source</h2><p>The changes needed for RUM are placed in the <code>&lt;head></code> section of the hosts Web page. Right click to view the page source or to inspect the code. Below is an example of the <code>&lt;head></code> section with RUM:</p><p><a href=#R-image-90ea1d85854f348d633b2d425b49130c class=lightbox-link><img alt="Online Boutique" class="lazy lightbox figure-image" loading=lazy src=../images/rum-inst.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-90ea1d85854f348d633b2d425b49130c><img alt="Online Boutique" class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-inst.png></a></p><p>This code enables RUM Tracing, <a href=https://docs.splunk.com/observability/en/rum/rum-session-replay.html rel=external target=_blank>Session Replay</a>, and <a href=https://docs.splunk.com/observability/en/rum/RUM-custom-events.html rel=external target=_blank>Custom Events</a> to better understand performance in the context of user workflows:</p><ul><li>The first part is to indicate where to download the Splunk Open Telemetry Javascript file from: <code>https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js</code> (this can also be hosted locally if so required).</li><li>The next section defines the location where to send the traces to in the beacon url: <code>{beaconUrl: "https://rum-ingest.eu0.signalfx.com/v1/rum"</code></li><li>The RUM Access Token: <code>rumAuth: "&lt;redacted>"</code>.</li><li>Identification tags <code>app</code> and <code>environment</code> to indentify in the SPLUNK RUM UI e.g. <code>app: "online-boutique-us-store", environment: "online-boutique-us"}</code> (these values will be different in your workshop)</li></ul><p>The above lines 21 and 23-30 are all that is required to enable RUM on your website!</p><p>Lines 22 and 31-34 are optional if you want Session Replay instrumented.</p><p>Line 36-39 <code>var tracer=Provider.getTracer('appModuleLoader');</code> will add a Custom Event for every page change, allowing you to better track your website conversions and usage. This may or may not be instrumented for this workshop.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p>Time to shop! Take a minute to open the workshop store URL in as many browsers and devices as you&rsquo;d like, shop around, add items to cart, checkout, and feel free to close the shopping browsers when you&rsquo;re finished. Keep in mind this is a lightweight demo shop site, so don&rsquo;t be alarmed if the cart doesn&rsquo;t match the item you picked!</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>May 16, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=rum-landing-page>RUM Landing Page</h1><ul><li>Visit the RUM landing page and and check the overview of the performance of all your RUM enabled applications with the Application Summary Dashboard (Both Mobile and Web based)</li></ul><hr><h2 id=1-visit-the-rum-landing-page>1. Visit the RUM Landing Page</h2><p>Login into Splunk Observability. From the left side menu bar select <strong>RUM</strong> <a href=#R-image-53c470e9c5a3abc3935f07ff3ef5932b class=lightbox-link><img alt=RUM-ico class="inline lazy lightbox figure-image" loading=lazy src="../images/RUM_ico.png?classes=inline&height=25px" style=height:25px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-53c470e9c5a3abc3935f07ff3ef5932b><img alt=RUM-ico class="inline lazy lightbox lightbox-image" loading=lazy src="../images/RUM_ico.png?classes=inline&height=25px"></a>. This will bring you to your the RUM Landing Page.</p><p>The goal of this page is to give you in a single page, a clear indication of the health, performance and potential errors found in your application(s) and allow you to dive deeper into the information about your User Sessions collected from your web page/App. You will have a pane for each of your active RUM applications. (The view below is the default expanded view)</p><p><a href=#R-image-d64cae373b601c50ff03a8d88260e75e class=lightbox-link><img alt=RUM-App-sum class="lazy lightbox figure-image" loading=lazy src=../images/Applicationsummarydashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d64cae373b601c50ff03a8d88260e75e><img alt=RUM-App-sum class="lazy lightbox lightbox-image" loading=lazy src=../images/Applicationsummarydashboard.png></a></p><p>If you have multiple applications, (which will be the case when every attendee is using their own ec2 instance for the RUM workshop), the pane view may be automatically reduced by collapsing the panes as shown below:</p><p><a href=#R-image-8902f1e1d9b36ee9de116e48d8a9dec1 class=lightbox-link><img alt=RUM-App-sum-collapsed class="lazy lightbox figure-image" loading=lazy src=../images/multiple_apps_collapsed.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8902f1e1d9b36ee9de116e48d8a9dec1><img alt=RUM-App-sum-collapsed class="lazy lightbox lightbox-image" loading=lazy src=../images/multiple_apps_collapsed.png></a></p><p>You can expanded a condensed RUM Application Summary View to the full dashboard by clicking on the small browser <a href=#R-image-ad903527c1ad834f881cb857b60dffdb class=lightbox-link><img alt=RUM-browser class="inline lazy lightbox figure-image" loading=lazy src="../images/browser.png?classes=inline&height=25px" style=height:25px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ad903527c1ad834f881cb857b60dffdb><img alt=RUM-browser class="inline lazy lightbox lightbox-image" loading=lazy src="../images/browser.png?classes=inline&height=25px"></a> or Mobile <a href=#R-image-ca34ad90a6533764b59ca07a16f04099 class=lightbox-link><img alt=RUM-mobile class="inline lazy lightbox figure-image" loading=lazy src="../images/mobile.png?classes=inline&height=25px" style=height:25px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ca34ad90a6533764b59ca07a16f04099><img alt=RUM-mobile class="inline lazy lightbox lightbox-image" loading=lazy src="../images/mobile.png?classes=inline&height=25px"></a>icon. (Depending on the type of application: <em>Mobile</em> or <em>Browser</em> based) on the left in front of the applications name, highlighted by the red arrow.</p><p>First find the right application to use for the workshop:</p><p>If you are participating in a stand alone RUM workshop, the workshop leader will tell you the name of the application to use, in the case of a combined workshop, it will follow the naming convention we used for IM and APM and use the ec2 node name as a unique id like <strong>jmcj-store</strong> as shown as the last app in the screenshot above.</p><h2 id=2-configure-the-rum-application-summary-dashboard-header-section>2. Configure the RUM Application Summary Dashboard Header Section</h2><p>RUM Application Summary Dashboard consists of 6 major sections. The first is the selection header, where you can set/filter a number of options:</p><ul><li>A drop down for the <strong>Time Window</strong> you&rsquo;re reviewing (You are looking at the past 15 minutes by default)</li><li>A drop down to select the <strong>Environment</strong><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> you want to look at. This allows you to focus on just the subset of applications belonging to that environment, or Select all to view all available.</li><li>A drop down list with the various <strong>Apps</strong> being monitored. You can use the one provided by the workshop host or select your own. This will focus you on just one application.</li><li>A drop down to select the <strong>Source</strong>, <em>Browser</em> or <em>Mobile</em> applications to view. For the Workshop leave <em>All</em> selected.</li><li>A hamburger menu located at the right of the header allowing you to configure some settings of your Splunk RUM application. (We will visit this in a later section).</li></ul><p><a href=#R-image-29ef9d94e1d0264a819fcfa1c3f1e84c class=lightbox-link><img alt=RUM-SummaryHeader class="lazy lightbox figure-image" loading=lazy src=../images/RUM_SummaryHeader.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-29ef9d94e1d0264a819fcfa1c3f1e84c><img alt=RUM-SummaryHeader class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM_SummaryHeader.png></a></p><p>For the workshop lets do a deeper dive into the Application Summary screen in the next section: <a href=/observability-workshop/v5.100/en/scenarios/optimize_end_user_experiences/2-rum/4-browser-summary/index.html>Check Health Browser Application</a></p><hr><p>A common application deployment pattern is to have multiple, distinct application environments that don‚Äôt interact directly with each other but that are all being monitored by Splunk APM or RUM: for instance, quality assurance (QA) and production environments, or multiple distinct deployments in different datacenters, regions or cloud providers.
<a href=http://nebezb.com/ rel=external target=_blank></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>A deployment environment is a distinct deployment of your system or application that allows you to set up configurations that don‚Äôt overlap with configurations in other deployments of the same application. Separate deployment environments are often used for different stages of the development process, such as development, staging, and production.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=check-browser-applications-health-at-a-glance>Check Browser Applications health at a glance</h1><ul><li>Get familiar with the UI and options available from this landing page</li><li>Identify Page Views/JavaScript Errors and Request/Errors in a single view</br>Check the Web Vitals metrics and any Detector that has fired for in relation to your Browser Application</li></ul><hr><h2 id=application-summary-dashboard>Application Summary Dashboard</h2><h3 id=1header-bar>1.Header Bar</h3><p>As seen in the previous section the RUM Application Summary Dashboard consists of 5 major sections.</br>The first section is the selection header, where you can collapse the Pane via the <a href=#R-image-2fef3a22d27c9226ad9ec58131adfba6 class=lightbox-link><img alt=RUM-browser class="inline lazy lightbox figure-image" loading=lazy src="../images/browser.png?classes=inline&height=25px" style=height:25px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2fef3a22d27c9226ad9ec58131adfba6><img alt=RUM-browser class="inline lazy lightbox lightbox-image" loading=lazy src="../images/browser.png?classes=inline&height=25px"></a> Browser icon or the <strong>></strong> in front of the application name, which is <em>jmcj-store</em> in the example below. It also provides access to the <em>Application Overview</em> page if you click the link with your application name which is <em>jmcj-store</em> in the example below.</p><p>Further, you can also open the <em>Application Overview</em> or <em>App Health Dashboard</em> via the triple dot <a href=#R-image-971f97e13b96ff0149e72b23afd7ad31 class=lightbox-link><img alt=trippleburger class="inline lazy lightbox figure-image" loading=lazy src="../images/trippleburger.png?classes=inline&height=25px" style=height:25px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-971f97e13b96ff0149e72b23afd7ad31><img alt=trippleburger class="inline lazy lightbox lightbox-image" loading=lazy src="../images/trippleburger.png?classes=inline&height=25px"></a> menu on the right.</p><p><a href=#R-image-2f3e2423c9e914ef7df6aeada3601a19 class=lightbox-link><img alt=RUM-SummaryHeader class="lazy lightbox figure-image" loading=lazy src=../images/summaryHeader.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2f3e2423c9e914ef7df6aeada3601a19><img alt=RUM-SummaryHeader class="lazy lightbox lightbox-image" loading=lazy src=../images/summaryHeader.png></a></p><p>For now, let&rsquo;s look at the high level information we get on the application summary dashboard.</p><p>The RUM Application Summary Dashboard is focused on providing you with <em>at a glance</em> highlights of the status of your application.</p><h3 id=2-page-views--javascript-errors--network-requests--errors>2. Page Views / JavaScript Errors & Network Requests / Errors</h3><p>The first section shows <em>Page Views / JavaScript Errors</em>, & <em>Network Requests and Errors</em> charts show the quantity and trend of these issues in your application. This could be Javascript errors, or failed network calls to back end services.</p><p><a href=#R-image-3a2203719f62b048568c6130fb1d9947 class=lightbox-link><img alt=RUM-chart class="lazy lightbox figure-image" loading=lazy src=../images/Rum-chart.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3a2203719f62b048568c6130fb1d9947><img alt=RUM-chart class="lazy lightbox lightbox-image" loading=lazy src=../images/Rum-chart.png></a></p><p>In the example above you can see that there are no failed network calls in the Network chart, but in the Page View chart you can see that a number of pages do experience some errors. These are often not visible for regular users, but can seriously impact the performance of your web site.</p><p>You can see the count of the Page Views / Network Requests / Errors by hovering over the charts.</p><p><a href=#R-image-76aaef94cd89c0184cd03d4ab7a62b2c class=lightbox-link><img alt=RUM-chart-clicked class="lazy lightbox figure-image" loading=lazy src=../images/RUM-Chart-Clicked.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-76aaef94cd89c0184cd03d4ab7a62b2c><img alt=RUM-chart-clicked class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM-Chart-Clicked.png></a></p><h3 id=3-javascript-errors>3. JavaScript Errors</h3><p>With the second section of the RUM Application Summary Dashboard we are showing you an overview of the JavaScript errors occurring in your application, along with a count of each error.</p><p><a href=#R-image-b95115068e7a66b3f63ac12e7198ee7a class=lightbox-link><img alt=RUM-javascript class="lazy lightbox figure-image" loading=lazy src=../images/RUM-Javascripterrors.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b95115068e7a66b3f63ac12e7198ee7a><img alt=RUM-javascript class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM-Javascripterrors.png></a></p><p>In the example above you can see there are three JavaScript errors, one that appears 29 times in the selected time slot, and the other two each appear 12 times.</p><p>If you click on one of the errors a pop-out opens that will show a summary (below) of the errors over time, along with a Stack Trace of the JavaScript error, giving you an indication of where the problems occurred. (We will see this in more detail in one of the following sections)</p><p><a href=#R-image-f853c61036df75fbdcbe593bd16ba39c class=lightbox-link><img alt=RUM-javascript-chart class="lazy lightbox figure-image" loading=lazy src=../images/type-error-detail.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f853c61036df75fbdcbe593bd16ba39c><img alt=RUM-javascript-chart class="lazy lightbox lightbox-image" loading=lazy src=../images/type-error-detail.png></a></p><h3 id=4-web-vitals>4. Web Vitals</h3><p>The next section of the RUM Application Summary Dashboard is showing you <a href=https://web.dev/articles/vitals rel=external target=_blank>Google&rsquo;s Core Web Vitals</a>, three metrics that are not only used by Google in its search ranking system, but also quantify end user experience in terms of loading, interactivity, and visual stability.</p><p><a href=#R-image-c2fea4869f2a810073f14a8c10fbf630 class=lightbox-link><img alt=WEB-vitals class="lazy lightbox figure-image" loading=lazy src=../images/RUM-QuickWebVitals.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c2fea4869f2a810073f14a8c10fbf630><img alt=WEB-vitals class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM-QuickWebVitals.png></a></p><p>As you can see our site is well behaved and scores <em>Good</em> for all three Metrics. These metrics can be used to identify the effect changes to your application have, and help you improve the performance of your site.</p><p>If you click on any of the Metrics shown in the Web Vitals pane you will be taken to the corresponding Tag Spotlight Dashboard. e.g. clicking on the <strong>Largest Contentful Paint (LCP)</strong> chartlet, you will be taken to a dashboard similar to the screen shot below, that gives you timeline and table views for how this metric has performed. This should allow you to spot trends and identify where the problem may be more common, such as an operating system, geolocation, or browser version.</p><p><a href=#R-image-be566841f52d0ecd06507b64540f4207 class=lightbox-link><img alt=WEB-vitals-tag class="lazy lightbox figure-image" loading=lazy src=../images/RUM-Tag-Spotlight.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-be566841f52d0ecd06507b64540f4207><img alt=WEB-vitals-tag class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM-Tag-Spotlight.png></a></p><h3 id=5-most-recent-detectors>5. Most Recent Detectors</h3><p>The final section of the RUM Application Summary Dashboard is focused on providing you an overview of recent detectors that have triggered for your application. We have created a detector for this screen shot but your pane will be empty for now. We will add some detectors to your site and make sure they are triggered in one of the next sections.</p><p><a href=#R-image-719f9e1d67197536550c660f8106838f class=lightbox-link><img alt=detectors class="lazy lightbox figure-image" loading=lazy src=../images/rum-detector.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-719f9e1d67197536550c660f8106838f><img alt=detectors class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-detector.png></a></p><p>In the screen shot you can see we have a critical alert for the <em>RUM Aggregated View Detector</em>, and a Count, how often this alert has triggered in the selected time window. If you happen to have an alert listed, you can click on the name of the Alert (that is shown as a blue link) and you will be taken to the Alert Overview page showing the details of the alert (Note: this will move you away from the current page, Please use the <strong>Back</strong> option of your browser to return to the overview page).</p><p><a href=#R-image-c7aa490ac1f155c7c3232e5f0ff0c74e class=lightbox-link><img alt=alert class="lazy lightbox figure-image" loading=lazy src=../images/click-alert.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c7aa490ac1f155c7c3232e5f0ff0c74e><img alt=alert class="lazy lightbox lightbox-image" loading=lazy src=../images/click-alert.png></a></p><hr><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p>Please take a few minutes to experiment with the RUM Application Summary Dashboard and the underlying chart and dashboards before going on to the next section.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=analyzing-rum-metrics>Analyzing RUM Metrics</h1><ul><li>See RUM Metrics and Session information in the RUM UI</li><li>See correlated APM traces in the RUM & APM UI</li></ul><hr><h2 id=1-rum-overview-pages>1. RUM Overview Pages</h2><p>From your RUM Application Summary Dashboard you can see detailed information by opening the Application Overview Page via the tripple dot <a href=#R-image-072db17c433bcf743fc0a18213489522 class=lightbox-link><img alt=trippleburger class="inline lazy lightbox figure-image" loading=lazy src="../images/trippleburger.png?classes=inline&height=25px" style=height:25px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-072db17c433bcf743fc0a18213489522><img alt=trippleburger class="inline lazy lightbox lightbox-image" loading=lazy src="../images/trippleburger.png?classes=inline&height=25px"></a> menu on the right by selecting <em>Open Application Overview</em> or by clicking the link with your application name which is <em>jmcj-rum-app</em> in the example below.</p><p><a href=#R-image-ecf53caedcd235263e7ad85ffb9fa182 class=lightbox-link><img alt=RUM-SummaryHeader class="lazy lightbox figure-image" loading=lazy src=../images/summaryHeader.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ecf53caedcd235263e7ad85ffb9fa182><img alt=RUM-SummaryHeader class="lazy lightbox lightbox-image" loading=lazy src=../images/summaryHeader.png></a></p><p>This will take you to the RUM Application Overview Page screen as shown below.</p><p><a href=#R-image-effc9e0bba03a5a027dd6d54a473ecfd class=lightbox-link><img alt="RUM app overview with UX metrics" class="lazy lightbox figure-image" loading=lazy src=../images/rum-ux-metrics.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-effc9e0bba03a5a027dd6d54a473ecfd><img alt="RUM app overview with UX metrics" class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-ux-metrics.png></a></p><h2 id=2-rum-browser-overview>2. RUM Browser Overview</h2><h3 id=21-header>2.1. Header</h3><p>The RUM UI consists of five major sections. The first is the selection header, where you can set/filter a number of options:</p><ul><li>A drop down for the time window you&rsquo;re reviewing (You are looking at the past 15 minutes in this case)</li><li>A drop down to select the Comparison window (You are comparing current performance on a rolling window - in this case compared to 1 hour ago)</li><li>A drop down with the available Environments to view</li><li>A drop down list with the Various Web apps</li><li><em><strong>Optionally</strong></em> a drop down to select Browser or Mobile metrics (<em>Might not be available in your workshop</em>)</li></ul><p><a href=#R-image-daec6d789c182a9006a0dd8dd93cdf20 class=lightbox-link><img alt=RUM-Header class="lazy lightbox figure-image" loading=lazy src=../images/rum-header.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-daec6d789c182a9006a0dd8dd93cdf20><img alt=RUM-Header class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-header.png></a></p><h3 id=22-ux-metrics>2.2. UX Metrics</h3><p>By default, RUM prioritizes the metrics that most directly reflect the experience of the end user.</p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Additional Tags</summary><div class=box-content><p>All of the dashboard charts allow us to compare trends over time, create detectors, and click through to further diagnose issues.</p></div></details><p>First, we see page load and route change information, which can help us understand if something unexpected is impacting user traffic trends.</p><p><a href=#R-image-e842b8d9a82d1d84a926a7a8393bdb9f class=lightbox-link><img alt="Page load and route change charts" class="lazy lightbox figure-image" loading=lazy src=../images/page-load-route-change.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e842b8d9a82d1d84a926a7a8393bdb9f><img alt="Page load and route change charts" class="lazy lightbox lightbox-image" loading=lazy src=../images/page-load-route-change.png></a></p><p>Next, Google has defined Core Web Vitals to quantify the user experience as measured by loading, interactivity, and visual stability. Splunk RUM builds in Google&rsquo;s thresholds into the UI, so you can easily see if your metrics are in an acceptable range.</p><p><a href=#R-image-01e269d17150a836e4dd6fa7981ccf34 class=lightbox-link><img alt="Core Web Vitals charts" class="lazy lightbox figure-image" loading=lazy src=../images/core-web-vitals-overview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-01e269d17150a836e4dd6fa7981ccf34><img alt="Core Web Vitals charts" class="lazy lightbox lightbox-image" loading=lazy src=../images/core-web-vitals-overview.png></a></p><ul><li><strong>Largest Contentful Paint (LCP)</strong>, measures loading performance. How long does it take for the largest block of content in the viewport to load? To provide a good user experience, LCP should occur within 2.5 seconds of when the page first starts loading.</li><li><strong>First Input Delay (FID)</strong>, measures interactivity. How long does it take to be able to interact with the app? To provide a good user experience, pages should have a FID of 100 milliseconds or less.</li><li><strong>Cumulative Layout Shift (CLS)</strong>, measures visual stability. How much does the content move around after the initial load? To provide a good user experience, pages should maintain a CLS of 0.1. or less.</li></ul><p>Improving Web Vitals is a key component to optimizing your end user experience, so being able to quickly understand them and create detectors if they exceed a threshold is critical.</p><p>Google has some great resources if you want to learn more, for example <a href=https://web.dev/case-studies/vitals-business-impact rel=external target=_blank>the business impact of Core Web Vitals</a>.</p><h3 id=23-front-end-health>2.3. Front-end health</h3><p>Common causes of frontend issues are javascript errors and long tasks, which can especially affect interactivity. Creating detectors on these indicators helps us investigate interactivity issues sooner than our users report it, allowing us to build workarounds or roll back related releases faster if needed. Learn more about <a href=https://web.dev/articles/optimize-long-tasks rel=external target=_blank>optimizing long tasks</a> for better end user experience!</p><p><a href=#R-image-29e1303a6e6694acf6fe74c50fa7dd02 class=lightbox-link><img alt="JS error charts" class="lazy lightbox figure-image" loading=lazy src=../images/rum-js-errors.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-29e1303a6e6694acf6fe74c50fa7dd02><img alt="JS error charts" class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-js-errors.png></a>
<a href=#R-image-21c87804a47315cbc8e9ac9e87d4ec6b class=lightbox-link><img alt="Long task charts" class="lazy lightbox figure-image" loading=lazy src=../images/rum-long-tasks.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-21c87804a47315cbc8e9ac9e87d4ec6b><img alt="Long task charts" class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-long-tasks.png></a></p><h3 id=24-back-end-health>2.4. Back-end health</h3><p>Common back-end issues affecting user experience are network issues and resource requests. In this example, we clearly see a spike in Time To First Byte that lines up with a resource request spike, so we already have a good starting place to investigate.</p><p><a href=#R-image-78c5f51508ba3fba5ca8d152aae0ad51 class=lightbox-link><img alt="Back-end health charts" class="lazy lightbox figure-image" loading=lazy src=../images/rum-be-health.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-78c5f51508ba3fba5ca8d152aae0ad51><img alt="Back-end health charts" class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-be-health.png></a></p><ul><li><strong>Time To First Byte (TTFB)</strong>, measures how long it takes for a client&rsquo;s browser to receive the first byte of the response from the server. The longer it takes for the server to process the request and send a response, the slower your visitors&rsquo; browser is at displaying your page.</li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=analyzing-rum-tags-in-the-tag-spotlight-view>Analyzing RUM Tags in the Tag Spotlight view</h1><ul><li>Look into the Metrics views for the various endpoints and use the Tags sent via the Tag spotlight for deeper analysis</li></ul><hr><h2 id=1-find-an-url-for-the-cart-endpoint>1. Find an url for the Cart endpoint</h2><p>From the RUM Overview page, please select the url for the <strong>Cart</strong> endpoint to dive deeper into the information available for this endpoint.</p><p><a href=#R-image-57746f52c2a10e368d887618f0597cbd class=lightbox-link><img alt=RUM-Cart2 class="lazy lightbox figure-image" loading=lazy src=../images/rum-url-cart.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-57746f52c2a10e368d887618f0597cbd><img alt=RUM-Cart2 class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-url-cart.png></a></p><p>Once you have selected and clicked on the blue url, you will find yourself in the <strong>Tag Spotlight</strong> overview</p><p><a href=#R-image-15029e855d8f6896e2fb709c069920bd class=lightbox-link><img alt=RUM-Tag class="lazy lightbox figure-image" loading=lazy src=../images/rum-tag-spotlight.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-15029e855d8f6896e2fb709c069920bd><img alt=RUM-Tag class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-tag-spotlight.png></a></p><p>Here you will see all of the tags that have been sent to Splunk RUM as part of the RUM traces. The tags displayed will be relevant to the overview that you have selected. These are generic Tags created automatically when the Trace was sent, and additional Tags you have added to the trace as part of the configuration of your website.</p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Additional Tags</summary><div class=box-content><p>We are already sending two additional tags, you have seen them defined in the <em>Beacon url</em> that was added to your website: <code>app: "[nodename]-store", environment: "[nodename]-workshop"</code> in the first section of this workshop! You can add additional tags in a similar way.</p></div></details><p>In our example we have selected the <strong>Page Load</strong> view as shown here:</p><p><a href=#R-image-17193ab5b4fd6b6d354c441266b569bf class=lightbox-link><img alt=RUM-Header class="lazy lightbox figure-image" loading=lazy src=../images/RUM-Selection.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-17193ab5b4fd6b6d354c441266b569bf><img alt=RUM-Header class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM-Selection.png></a></p><p>You can select any of the following Tag views, each focused on a specific metric.</p><p><a href=#R-image-325f4aa290b3a364640d57e630daf737 class=lightbox-link><img alt=RUM-views class="lazy lightbox figure-image" loading=lazy src=../images/RUM-Tag-views.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-325f4aa290b3a364640d57e630daf737><img alt=RUM-views class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM-Tag-views.png></a></p><hr><h2 id=2-explore-the-information-in-the-tag-spotlight-view>2. Explore the information in the Tag Spotlight view</h2><p>The Tag spotlight is designed to help you identify problems, either through the chart view,, where you may quickly identify outliers or via the TAGs.</p><p>In the <strong>Page Load</strong> view, if you look at the <strong>Browser</strong>, <strong>Browser Version</strong> & <strong>OS Name</strong> Tag views,you can see the various browser types and versions, as well as for the underlying OS.</p><p>This makes it easy to identify problems related to specific browser or OS versions, as they would be highlighted.</p><p><a href=#R-image-a6aac18c80e50a389535ccea5bedcd7f class=lightbox-link><img alt=RUM-Tag2 class="lazy lightbox figure-image" loading=lazy src=../images/RUMBrowserTags.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a6aac18c80e50a389535ccea5bedcd7f><img alt=RUM-Tag2 class="lazy lightbox lightbox-image" loading=lazy src=../images/RUMBrowserTags.png></a></p><p>In the above example you can see that Firefox had the slowest response, various Browser versions ( Chrome) that have different response times and the slow response of the Android devices.</p><p>A further example are the regional Tags that you can use to identify problems related to ISP or locations etc. Here you should be able to find the location you have been using to access the Online Boutique. Drill down by selecting the town or country you are accessing the Online Boutique from by clicking on the name as shown below (City of Amsterdam):</p><p><a href=#R-image-00b40e9bd229716b825de5fb130b9330 class=lightbox-link><img alt=RUM-click class="lazy lightbox figure-image" loading=lazy src=../images/RUM-Region.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-00b40e9bd229716b825de5fb130b9330><img alt=RUM-click class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM-Region.png></a></p><p>This will select only the sessions relevant to the city selected as shown below:</p><p><a href=#R-image-b7139fb0a31aa7d52cb4821d16377477 class=lightbox-link><img alt=RUM-Adam class="lazy lightbox figure-image" loading=lazy src=../images/RUM-Adam.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b7139fb0a31aa7d52cb4821d16377477><img alt=RUM-Adam class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM-Adam.png></a></p><p>By selecting the various Tag you build up a filter, you can see the current selection below</p><p><a href=#R-image-d885413416c919e600c12fcae1a390a1 class=lightbox-link><img alt=RUM-Adam class="lazy lightbox figure-image" loading=lazy src=../images/RUM-Filter.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d885413416c919e600c12fcae1a390a1><img alt=RUM-Adam class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM-Filter.png></a></p><p>To clear the filter and see every trace click on <strong>Clear All</strong> at the top right of the page.</p><p>If the overview page is empty or shows <a href=#R-image-2e2c30300e466527d6b6688d66c1aece class=lightbox-link><img alt=RUM-Adam class="inline lazy lightbox figure-image" loading=lazy src="../images/RUM-NoTime.png?classes=inline&height=25px" style=height:25px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2e2c30300e466527d6b6688d66c1aece><img alt=RUM-Adam class="inline lazy lightbox lightbox-image" loading=lazy src="../images/RUM-NoTime.png?classes=inline&height=25px"></a>, no traces have been received in the selected timeslot.
You need to increase the time window at the top left. You can start with the <em>Last 12 hours</em> for example.</p><p>You can then use your mouse to select the time slot you want like show in the view below and activate that time filter by clicking on the little spyglass icon.</p><p><a href=#R-image-f2fb5d8dee39d0c34256ba563da7b379 class=lightbox-link><img alt=RUM-time class="lazy lightbox figure-image" loading=lazy src=../images/RUM-TimeSelect.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f2fb5d8dee39d0c34256ba563da7b379><img alt=RUM-time class="lazy lightbox lightbox-image" loading=lazy src=../images/RUM-TimeSelect.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=analyzing-rum-sessions>Analyzing RUM Sessions</h1><ul><li>Dive into RUM Session information in the RUM UI</li><li>Identify Javascript errors in the Span of an user interaction</li></ul><hr><h2 id=1-drill-down-in-the-sessions>1. Drill down in the Sessions</h2><p>After you have analyzed the information and drilled down via the Tag Spotlight to a subset of the traces, you can view the actual session as it was run by the end-user&rsquo;s browser.</p><p>You do this by clicking on the link <strong>User Sessions</strong> as shown below:</p><p><a href=#R-image-6d0d3c1515cb092f415cdf82f68ebc90 class=lightbox-link><img alt=RUM-Header class="lazy lightbox figure-image" loading=lazy src=../images/rum-sessions-link.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6d0d3c1515cb092f415cdf82f68ebc90><img alt=RUM-Header class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-sessions-link.png></a></p><p>This will give you a list of sessions that matched both the time filter and the subset selected in the Tag Profile.</p><p>Select one by clicking on the session ID, It is a good idea to select one that has the longest duration (preferably over 700 ms).</p><p><a href=#R-image-e06f0890b7df21681b5026d5f715cf65 class=lightbox-link><img alt=RUM-Header class="lazy lightbox figure-image" loading=lazy src=../images/rum-session-list.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e06f0890b7df21681b5026d5f715cf65><img alt=RUM-Header class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-session-list.png></a></p><p>Once you have selected the session, you will be taken to the session details page. As you are selecting a specific action that is part of the session, you will likely arrive somewhere in the middle of the session, at the moment of the interaction.</p><p>You can see the URL that you selected earlier is where we are focusing on in the waterfall.</p><p><a href=#R-image-3a1bf708f42fc1561a77f645377e3afb class=lightbox-link><img alt=RUM-Session-Tag class="lazy lightbox figure-image" loading=lazy src=../images/rum-session.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3a1bf708f42fc1561a77f645377e3afb><img alt=RUM-Session-Tag class="lazy lightbox lightbox-image" loading=lazy src=../images/rum-session.png></a></p><p>Scroll down a little bit on the page, so you see the end of the operation as shown below.</p><p><a href=#R-image-d14ee4b4e90d0c3457daeec7f4d8cd2f class=lightbox-link><img alt=RUM-Session-info class="lazy lightbox figure-image" loading=lazy src=../images/Session-Tag-2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d14ee4b4e90d0c3457daeec7f4d8cd2f><img alt=RUM-Session-info class="lazy lightbox lightbox-image" loading=lazy src=../images/Session-Tag-2.png></a></p><p>You can see that we have received a few Javascript Console errors that may not have been detected or visible to the end users. To examine these in more detail click on the middle one that says: *<strong>Cannot read properties of undefined (reading &lsquo;Prcie&rsquo;)</strong></p><p><a href=#R-image-cc885045f4f1bee35c2dacc52b32ffa0 class=lightbox-link><img alt=RUM-Session-info class="lazy lightbox figure-image" loading=lazy src=../images/Session-Tag-3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cc885045f4f1bee35c2dacc52b32ffa0><img alt=RUM-Session-info class="lazy lightbox lightbox-image" loading=lazy src=../images/Session-Tag-3.png></a></p><p>This will cause the page to expand and show the Span detail for this interaction, It will contain a detailed <em>error.stack</em> you can pass on the developer to solve the issue. You may have noticed when buying in the Online Boutique that the final total always was $0.00.</p><p><a href=#R-image-b03f273defdd65501d2116148e7ee5e2 class=lightbox-link><img alt=RUM-Session-info class="lazy lightbox figure-image" loading=lazy src=../images/Session-Tag-4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b03f273defdd65501d2116148e7ee5e2><img alt=RUM-Session-info class="lazy lightbox lightbox-image" loading=lazy src=../images/Session-Tag-4.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 7, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=advanced-synthetics>Advanced Synthetics</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>30 minutes</span>
</span>&nbsp;<h2 id=introduction>Introduction</h2><p>This workshop walks you through using the <a href=https://developer.chrome.com/docs/devtools/recorder/ rel=external target=_blank>Chrome DevTools Recorder</a> to create a synthetic test on a Splunk demonstration environment or on your own public website.</p><p>The exported JSON from the Chrome DevTools Recorder will then be used to create a Splunk Synthetic Monitoring Real Browser Test.</p><h2 id=pre-requisites>Pre-requisites</h2><ul><li>Google Chrome Browser installed</li><li>Publicly browser-accessible URL</li><li>Access to Splunk Observability Cloud</li></ul><h2 id=supporting-resources>Supporting resources</h2><ol><li>Lantern: <a href=https://lantern.splunk.com/Observability/UCE/Proactive_response/Optimize_End-User_Experiences/Running_Synthetics_browser_tests/Selectors_for_multi-step_browser_tests rel=external target=_blank>advanced Selectors for multistep browser tests</a></li><li>Chrome for Developers <a href=https://developer.chrome.com/blog/devtools-tips-4 rel=external target=_blank>DevTools Tips</a></li><li>web.dev <a href=https://web.dev/explore/learn-core-web-vitals rel=external target=_blank>Core Web Vitals</a> reference</li></ol><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Mar 3, 2025</span></span></footer></article><section><h1 class=a11y-only>Subsections of Advanced Synthetics</h1><article class=default><header class=headline></header><h1 id=record-a-test>Record a test</h1><p>Write down a short user journey you want to test. Remember: smaller bites are easier to chew! In other words, get started with just a few steps. This is easier not only to create and maintain the test, but also to understand and act on the results. Test the essential features to your users, like a support contact form, login widget, or date picker.</p><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p>Record the test in the same type of viewport that you want to run it. For example, if you want to run a test on a mobile viewport, narrow your browser width to mobile and refresh before starting the recording. This way you are capturing the correct elements that could change depending on responsive style rules.</p></div></details><p>Open your starting URL in Chrome Incognito. This is important so you&rsquo;re not carrying cookies into the recording, which we won&rsquo;t set up in the Synthetic test by default. If you workshop instructor does not have a custom URL, feel free to use <a href=https://online-boutique-eu.splunko11y.com rel=external target=_blank>https://online-boutique-eu.splunko11y.com</a> or <a href=https://online-boutique-us.splunko11y.com rel=external target=_blank>https://online-boutique-us.splunko11y.com</a>, which are in the examples below.</p><h2 id=open-the-chrome-devtools-recorder>Open the Chrome DevTools Recorder</h2><p>Next, open the Developer Tools (in the new tab that was opened above) by pressing <code>Ctrl + Shift + I</code> on Windows or <code>Cmd + Option + I</code> on a Mac, then select <strong>Recorder</strong> from the top-level menu or the <strong>More tools</strong> flyout menu.</p><p><a href=#R-image-8ce89ccc72874db38cecbac6373e4c24 class=lightbox-link><img alt="Open Recorder" class="lazy lightbox figure-image" loading=lazy src=../../images/open-recorder.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8ce89ccc72874db38cecbac6373e4c24><img alt="Open Recorder" class="lazy lightbox lightbox-image" loading=lazy src=../../images/open-recorder.png></a></p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Note</summary><div class=box-content><p>Site elements might change depending on viewport width. Before recording, set your browser window to the correct width for the test you want to create (Desktop, Tablet, or Mobile). Change the DevTools &ldquo;dock side&rdquo; to pop out as a separate window if it helps.</p></div></details><h2 id=create-a-new-recording>Create a new recording</h2><p>With the Recorder panel open in the DevTools window. Click on the <span class="btn cstyle blue"><span><span class=title>Create a new recording</span></span></span> button to start.</p><p><a href=#R-image-61190ae4f17349fe1303a5ab5b434e3a class=lightbox-link><img alt=Recorder class="lazy lightbox figure-image" loading=lazy src=../../images/recorder.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-61190ae4f17349fe1303a5ab5b434e3a><img alt=Recorder class="lazy lightbox lightbox-image" loading=lazy src=../../images/recorder.png></a></p><p>For the <strong>Recording Name</strong> use your initials to prefix the name of the recording e.g. <strong><code>&lt;your initials></code> - <code>&lt;website name></code></strong>. Click on <strong>Start Recording</strong> to start recording your actions.</p><p><a href=#R-image-2f8fe79f72709c4501764048b617aaee class=lightbox-link><img alt="Recording Name" class="lazy lightbox figure-image" loading=lazy src=../../images/recording-name.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2f8fe79f72709c4501764048b617aaee><img alt="Recording Name" class="lazy lightbox lightbox-image" loading=lazy src=../../images/recording-name.png></a></p><p>Now that we are recording, complete a few actions on the site. An example for our demo site is:</p><ul><li>Click on <strong>Vintage Camera Lens</strong></li><li>Click on <strong>Add to Cart</strong></li><li>Click on <strong>Place Order</strong></li><li>Click on <strong>End recording</strong> in the Recorder panel.</li></ul><p><a href=#R-image-60ae80e9f3c6415aaa8fa67a8b1e6618 class=lightbox-link><img alt="End Recording" class="lazy lightbox figure-image" loading=lazy src=../../images/end-recording.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-60ae80e9f3c6415aaa8fa67a8b1e6618><img alt="End Recording" class="lazy lightbox lightbox-image" loading=lazy src=../../images/end-recording.png></a></p><h2 id=export-the-recording>Export the recording</h2><p>Click on the <strong>Export</strong> button:</p><p><a href=#R-image-1ff0718f174d9c5d4c4da161355b2701 class=lightbox-link><img alt="Export button" class="lazy lightbox figure-image" loading=lazy src=../../images/export-button.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1ff0718f174d9c5d4c4da161355b2701><img alt="Export button" class="lazy lightbox lightbox-image" loading=lazy src=../../images/export-button.png></a></p><p>Select <strong>JSON</strong> as the format, then click on <strong>Save</strong></p><p><a href=#R-image-f67fdd20c2e05601a9d420c87173859a class=lightbox-link><img alt="Export JSON" class="lazy lightbox figure-image" loading=lazy src=../../images/export-json.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f67fdd20c2e05601a9d420c87173859a><img alt="Export JSON" class="lazy lightbox lightbox-image" loading=lazy src=../../images/export-json.png></a></p><p><a href=#R-image-3c5f28a3b19b02024e640e3e26b714eb class=lightbox-link><img alt="Save JSON" class="lazy lightbox figure-image" loading=lazy src=../../images/save-json.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3c5f28a3b19b02024e640e3e26b714eb><img alt="Save JSON" class="lazy lightbox lightbox-image" loading=lazy src=../../images/save-json.png></a></p><p><strong>Congratulations!</strong> You have successfully created a recording using the Chrome DevTools Recorder. Next, we will use this recording to create a Real Browser Test in Splunk Synthetic Monitoring.</p><hr><details class="box cstyle notices transparent expand"><summary class=box-label><i class="expander-icon fa-fw fas fa-chevron-right"></i>
View the example JSON file for this browser test recording</summary><div class=box-content><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;RWC - Online Boutique&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;steps&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;setViewport&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;width&#34;</span><span class=p>:</span> <span class=mi>1430</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;height&#34;</span><span class=p>:</span> <span class=mi>1016</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;deviceScaleFactor&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;isMobile&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;hasTouch&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;isLandscape&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;navigate&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://online-boutique-eu.splunko11y.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;assertedEvents&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;navigation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://online-boutique-eu.splunko11y.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;Online Boutique&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;click&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;target&#34;</span><span class=p>:</span> <span class=s2>&#34;main&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;selectors&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;div:nth-of-type(2) &gt; div:nth-of-type(2) a &gt; div&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;xpath//html/body/main/div/div/div[2]/div[2]/div/a/div&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;pierce/div:nth-of-type(2) &gt; div:nth-of-type(2) a &gt; div&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetY&#34;</span><span class=p>:</span> <span class=mi>170</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetX&#34;</span><span class=p>:</span> <span class=mi>180</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;assertedEvents&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;navigation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://online-boutique-eu.splunko11y.com/product/66VCHSJNUP&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;click&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;target&#34;</span><span class=p>:</span> <span class=s2>&#34;main&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;selectors&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;aria/ADD TO CART&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;xpath//html/body/main/div[1]/div/div[2]/div/form/div/button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;pierce/button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;text/Add to Cart&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetY&#34;</span><span class=p>:</span> <span class=mf>35.0078125</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetX&#34;</span><span class=p>:</span> <span class=mf>46.4140625</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;assertedEvents&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;navigation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://online-boutique-eu.splunko11y.com/cart&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;click&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;target&#34;</span><span class=p>:</span> <span class=s2>&#34;main&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;selectors&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;aria/PLACE ORDER&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;div &gt; div &gt; div.py-3 button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;xpath//html/body/main/div/div/div[4]/div/form/div[4]/button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;pierce/div &gt; div &gt; div.py-3 button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;text/Place order&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetY&#34;</span><span class=p>:</span> <span class=mf>29.8125</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetX&#34;</span><span class=p>:</span> <span class=mf>66.8203125</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;assertedEvents&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;navigation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://online-boutique-eu.splunko11y.com/cart/checkout&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Oct 10, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=create-a-browser-test>Create a Browser Test</h1><p>In Splunk Observability Cloud, navigate to <strong>Synthetics</strong> and click on <span class="btn cstyle blue"><span><span class=title>Add new test</span></span></span>.</p><p>From the dropdown select <strong>Browser test</strong>.</p><p><a href=#R-image-1d540e5da252a99c3be410eada06c36a class=lightbox-link><img alt="Add new test" class="lazy lightbox figure-image" loading=lazy src=../_img/create-browser.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1d540e5da252a99c3be410eada06c36a><img alt="Add new test" class="lazy lightbox lightbox-image" loading=lazy src=../_img/create-browser.png></a></p><p>You will then be presented with the <strong>Browser test content</strong> configuration page.</p><p><a href=#R-image-73f5a158af3487112612683b2ee0ddab class=lightbox-link><img alt="New Test" class="lazy lightbox figure-image" loading=lazy src=../_img/new-browser.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-73f5a158af3487112612683b2ee0ddab><img alt="New Test" class="lazy lightbox lightbox-image" loading=lazy src=../_img/new-browser.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 8, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=import-json>Import JSON</h1><p>To begin configuring our test, we need to import the JSON that we exported from the Chrome DevTools Recorder. To enable the <span class="btn cstyle transparent"><span><span class=title><strong>Import</strong></span></span></span> button, we must first give our test a name e.g. <strong>[<code>&lt;your team name></code>] <code>&lt;your initials></code> - Online Boutique</strong>.</p><p><a href=#R-image-4c5eff1a63c9d763627713d78f6a34f5 class=lightbox-link><img alt="Browser edit form" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-form.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4c5eff1a63c9d763627713d78f6a34f5><img alt="Browser edit form" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-form.png></a></p><p>Once the <span class="btn cstyle transparent"><span><span class=title><strong>Import</strong></span></span></span> button is enabled, click on it and either drop the JSON file that you exported from the Chrome DevTools Recorder or upload the file.</p><p><a href=#R-image-1e29c4773869167058e6e7c13b605d4e class=lightbox-link><img alt="Import JSON" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-import.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1e29c4773869167058e6e7c13b605d4e><img alt="Import JSON" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-import.png></a></p><p>Once the JSON file has been uploaded, click on <span class="btn cstyle blue"><span><span class=title>Continue to edit steps</span></span></span></p><p><a href=#R-image-5191a98cd18da73bf8913043b9c048da class=lightbox-link><img alt="Import complete message" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-import-complete.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5191a98cd18da73bf8913043b9c048da><img alt="Import complete message" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-import-complete.png></a></p><p>Before we make any edits to the test, let&rsquo;s first configure the settings, click on <span class="btn cstyle blue"><span><span class=title>&lt; Return to test</span></span></span></p><p><a href=#R-image-534b6205ba256a58cff8687f8d7e1745 class=lightbox-link><img alt="Return to test button in the browser test editor" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-return.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-534b6205ba256a58cff8687f8d7e1745><img alt="Return to test button in the browser test editor" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-return.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 8, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=test-settings>Test settings</h1><p>The simple settings allow you to configure the basics of the test:</p><ul><li><strong>Name</strong>: The name of the test (e.g. RWC - Online Boutique).</li><li><strong>Details</strong>:<ul><li><strong>Locations</strong>: The locations where the test will run from.</li><li><strong>Device</strong>: Emulate different devices and connection speeds. Also, the viewport will be adjusted to match the chosen device.</li><li><strong>Frequency</strong>: How often the test will run.</li><li><strong>Round-robin</strong>: If multiple locations are selected, the test will run from one location at a time, rather than all locations at once.</li><li><strong>Active</strong>: Set the test to active or inactive.</li></ul></li></ul><p>For this workshop, we will configure the locations that we wish to monitor from. Click in the <strong>Locations</strong> field and you will be presented with a list of global locations (over 50 in total).</p><p><a href=#R-image-e42fbd57d06d919f678602c5a4c9f18d class=lightbox-link><img alt="Global Locations" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-loc-field.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e42fbd57d06d919f678602c5a4c9f18d><img alt="Global Locations" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-loc-field.png></a></p><p>Select the following locations:</p><ul><li><strong>AWS - N. Virginia</strong></li><li><strong>AWS - London</strong></li><li><strong>AWS - Melbourne</strong></li></ul><p>Once complete, scroll down and click on Click on <span class="btn cstyle blue"><span><span class=title>Submit</span></span></span> to save the test.</p><p>The test will now be scheduled to run every 5 minutes from the 3 locations that we have selected. This does take a few minutes for the schedule to be created.</p><p>So while we wait for the test to be scheduled, click on <span class="btn cstyle transparent"><span><span class=title>Edit test</span></span></span> so we can go through the Advanced settings.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 8, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=advanced-test-settings>Advanced Test Settings</h1><p>Click on <strong>Advanced</strong>, these settings are optional and can be used to further configure the test.</p><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p>In the case of this workshop, we will <strong>not</strong> be using any of these settings; this is for informational purposes only.</p></div></details><p><a href=#R-image-03a8181c47dc0c7b485144d5179649f6 class=lightbox-link><img alt="Advanced Settings" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-advanced.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-03a8181c47dc0c7b485144d5179649f6><img alt="Advanced Settings" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-advanced.png></a></p><ul><li><strong>Security</strong>:<ul><li><strong>TLS/SSL validation</strong>: When activated, this feature is used to enforce the validation of expired, invalid hostname, or untrusted issuer on SSL/TLS certificates.</li><li><strong>Authentication</strong>: Add credentials to authenticate with sites that require additional security protocols, for example from within a corporate network. By using <a href=https://docs.splunk.com/Observability/synthetics/test-config/global-variables.html rel=external target=_blank>concealed global variables</a> in the Authentication field, you create an additional layer of security for your credentials and simplify the ability to share credentials across checks.</li></ul></li><li><strong>Custom Content</strong>:<ul><li><strong>Custom headers</strong>: Specify custom headers to send with each request. For example, you can add a header in your request to filter out requests from analytics on the back end by sending a specific header in the requests. You can also use custom headers to set cookies.</li><li><strong>Cookies</strong>: Set cookies in the browser before the test starts. For example, to prevent a popup modal from randomly appearing and interfering with your test, you can set cookies. Any cookies that are set will apply to the domain of the starting URL of the check. Splunk Synthetics Monitoring uses the public suffix list to determine the domain.</li><li><strong>Host overrides</strong>: Add host override rules to reroute requests from one host to another. For example, you can create a host override to test an existing production site against page resources loaded from a development site or a specific CDN edge node.</li></ul></li></ul><p>See the <a href=https://docs.splunk.com/observability/en/synthetics/browser-test/set-up-browser-test.html#advanced-settings-for-browser-tests rel=external target=_blank>Advanced Settings for Browser Tests</a> section of the Docs for more information.</p><p>Next, we will edit the test steps to provide more meaningful names for each step.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 8, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=edit-test-steps>Edit test steps</h1><p>To edit the steps click on the <span class="btn cstyle transparent"><span><span class=title>+ Edit steps or synthetic transactions</span></span></span> button. From here, we are going to give meaningful names to each step.</p><p>For each step, we are going to give them a meaningful, readable name. That could look like:</p><ul><li><strong>Step 1</strong> replace the text <strong>Go to URL</strong> with <strong>Go to Homepage</strong></li><li><strong>Step 2</strong> enter the text <strong>Select Typewriter</strong>.</li><li><strong>Step 3</strong> enter <strong>Add to Cart</strong>.</li><li><strong>Step 4</strong> enter <strong>Place Order</strong>.</li></ul><p><a href=#R-image-2797ecfa1643ef45051348f590b4a5a6 class=lightbox-link><img alt="Editing browser test step names" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-edit.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2797ecfa1643ef45051348f590b4a5a6><img alt="Editing browser test step names" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-edit.png></a></p><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p>If you&rsquo;d like, group the test steps into <a href=https://docs.splunk.com/observability/en/synthetics/browser-test/set-up-transactional-browser-test.html#add-transactions rel=external target=_blank>Transactions</a> and edit the transaction names as seen above. This is especially useful for Single Page Apps (SPAs), where the resource waterfall is not split by URL. We can also create charts and alerts based on transactions.</p></div></details><p>Click <span class="btn cstyle blue"><span><span class=title>&lt; Return to test</span></span></span> to return to the test configuration page and click <span class="btn cstyle blue"><span><span class=title>Save</span></span></span> to save the test.</p><p>You will be returned to the test dashboard where you will see test results start to appear.</p><p><a href=#R-image-fee49fba9d8373f0557e634cff3ae1bd class=lightbox-link><img alt="Browser KPIs chart" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-kpis.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fee49fba9d8373f0557e634cff3ae1bd><img alt="Browser KPIs chart" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-kpis.png></a></p><p><strong>Congratulations!</strong> You have successfully created a Real Browser Test in Splunk Synthetic Monitoring. Next, we will look into a test result in more detail.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 8, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=view-test-results>View test results</h1><p>1. Click into a spike or failure in your test run results.</p><p><a href=#R-image-8f734efd5db0949e89ec18848509d692 class=lightbox-link><img alt="Spike in the browser test performance KPIs chart" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-spike.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8f734efd5db0949e89ec18848509d692><img alt="Spike in the browser test performance KPIs chart" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-spike.png></a></p><p>2. What can you learn about this test run? If it failed, use the error message, filmstrip, video replay, and waterfall to understand what happened.</p><p><a href=#R-image-65992bdb0a0b46d7c9411be18683db1e class=lightbox-link><img alt="Single test run result, with an error message and screenshots" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-fail-result.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-65992bdb0a0b46d7c9411be18683db1e><img alt="Single test run result, with an error message and screenshots" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-fail-result.png></a></p><p>3. What do you see in the resources? Make sure to click through all of the page (or transaction) tabs.</p><p><a href=#R-image-5b0879155967eb6ee27c3b1e10085555 class=lightbox-link><img alt="resources in the browser test waterfall, with a long request highlighted" class="lazy lightbox figure-image" loading=lazy src=../_img/browser-resources.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5b0879155967eb6ee27c3b1e10085555><img alt="resources in the browser test waterfall, with a long request highlighted" class="lazy lightbox lightbox-image" loading=lazy src=../_img/browser-resources.png></a></p><details open class="box cstyle notices tip"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-question"></i>
Workshop Question</summary><div class=box-content><p>Do you see anything interesting? Common issues to find and fix include: unexpected response codes, duplicate requests, forgotten third parties, large or slow files, and long gaps between requests.</p></div></details><p>Want to learn more about specific performance improvements? <a href=https://web.dev/learn/performance/welcome rel=external target=_blank>Google</a> and <a href=https://developer.mozilla.org/en-US/docs/Web/Performance/How_browsers_work rel=external target=_blank>Mozilla</a> have great resources to help understand what goes into frontend performance as well as in-depth details of how to optimize it.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 8, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=frontend-dashboards>Frontend Dashboards</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>Go to Dashboards and find the End User Experiences dashboard group.</p><p>Click the three dots on the top right to open the dashboard menu, and select Save As, and include your <strong>team name</strong> and <strong>initials</strong> in the dashboard name.</p><p>Save to the dashboard group that matches your email address. Now you have your own copy of this dashboard to customize!</p><p><a href=#R-image-ef1402380bff87c370c7ef0e9b960eb7 class=lightbox-link><img alt="Dashboard save as" class="lazy lightbox figure-image" loading=lazy src=../images/dashboard-save-as.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ef1402380bff87c370c7ef0e9b960eb7><img alt="Dashboard save as" class="lazy lightbox lightbox-image" loading=lazy src=../images/dashboard-save-as.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Oct 10, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of Frontend Dashboards</h1><article class=default><header class=headline></header><h1 id=copying-and-editing-charts>Copying and editing charts</h1><p>We have some good charts in our dashboard, but let&rsquo;s add a few more.</p><ol><li><p>Go to Dashboards by clicking the dasboard icon on the left side of the screen. Find the <strong>Browser app health dashboard</strong> and scroll to the Largest Contentful Paint (LCP) chart. Click the chart actions icon to open the flyout menu, and click &ldquo;Copy&rdquo; to add this chart to your clipboard.
<a href=#R-image-0bcc49513dcb28bfc891e12d0520f003 class=lightbox-link><img alt="copy chart" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/60ea6b19-e024-415f-b3da-4f942f343ec3/user_cropped_screenshot.jpeg?tl_px=179,36&br_px=1899,998&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,311" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0bcc49513dcb28bfc891e12d0520f003><img alt="copy chart" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/60ea6b19-e024-415f-b3da-4f942f343ec3/user_cropped_screenshot.jpeg?tl_px=179,36&br_px=1899,998&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,311"></a></p></li><li><p>Now you can continue to add any other charts to your clipboard by clicking the &ldquo;add to clipboard&rdquo; icon.
<a href=#R-image-34a11fd7e48485b03726c82e6290a951 class=lightbox-link><img alt="copy chart inline icon" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/c05c55b9-0c3e-47fe-ac83-b945839c513c/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1540,764&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=723,126" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-34a11fd7e48485b03726c82e6290a951><img alt="copy chart inline icon" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/c05c55b9-0c3e-47fe-ac83-b945839c513c/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1540,764&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=723,126"></a></p></li><li><p>When you have collected the charts you want on your dashboard, click the &ldquo;create&rdquo; icon on the top right. You might need to reload the page if you were looking at charts in another browser tab.
<a href=#R-image-c867d3354bf6175f615d87cca8e02a4e class=lightbox-link><img alt="create icon" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/9cd17fba-a199-4e2c-9f2a-c692a611630d/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1388,750&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=969,17" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c867d3354bf6175f615d87cca8e02a4e><img alt="create icon" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/9cd17fba-a199-4e2c-9f2a-c692a611630d/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1388,750&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=969,17"></a></p></li><li><p>Click the &ldquo;Paste charts&rdquo; menu option.
<a href=#R-image-c336ed266de91c7606812cde4c8a2ea2 class=lightbox-link><img alt="paste charts" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/1abb0536-3a91-42e5-ae35-4db1311c7c71/ascreenshot.jpeg?tl_px=1160,476&br_px=2880,1437&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=842,276" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c336ed266de91c7606812cde4c8a2ea2><img alt="paste charts" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/1abb0536-3a91-42e5-ae35-4db1311c7c71/ascreenshot.jpeg?tl_px=1160,476&br_px=2880,1437&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=842,276"></a></p></li></ol><p>Now you are able to resize and edit the charts as you&rsquo;d like!</p><h2 id=bonus-edit-chart-data>Bonus: edit chart data</h2><ol><li><p>Click the chart actions icon and select Open to edit the chart.
<a href=#R-image-39e1f5e86637f78adf5120a9100920bf class=lightbox-link><img alt="chart actions menu" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/653607e9-5a00-42b3-9fd8-37fe3f9ec6ad/ascreenshot.jpeg?tl_px=792,581&br_px=2512,1542&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,276" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-39e1f5e86637f78adf5120a9100920bf><img alt="chart actions menu" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/653607e9-5a00-42b3-9fd8-37fe3f9ec6ad/ascreenshot.jpeg?tl_px=792,581&br_px=2512,1542&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,276"></a></p></li><li><p>Remove the existing Test signal.
<a href=#R-image-ddae3687e561a8ac0de26f9c0da4384a class=lightbox-link><img alt="edit the test signal" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/df0ca0c4-bb5a-4348-a6d3-d0d29c5a2ec5/ascreenshot.jpeg?tl_px=0,775&br_px=1719,1736&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=454,277" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ddae3687e561a8ac0de26f9c0da4384a><img alt="edit the test signal" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/df0ca0c4-bb5a-4348-a6d3-d0d29c5a2ec5/ascreenshot.jpeg?tl_px=0,775&br_px=1719,1736&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=454,277"></a></p></li><li><p>Click <span class="btn cstyle blue"><span><span class=title>Add filter</span></span></span> and type <code>test: *yourInitials*</code>. This will use a wildcard match so that all of the tests you have created that contain your initials (or any string you decide) will be pulled into the chart.
<a href=#R-image-07e9ef7d04d0f5c8c47b43b81459d1d4 class=lightbox-link><img alt="add filter button" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/14a6b9be-2e79-4c30-8a98-7e5f29570560/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1152,518&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=654,229" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-07e9ef7d04d0f5c8c47b43b81459d1d4><img alt="add filter button" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/14a6b9be-2e79-4c30-8a98-7e5f29570560/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1152,518&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=654,229"></a></p></li><li><p>Click into the functions to see how adding and removing dimensions changes how the data is displayed. For example, if you want all of your test location data rolled up, remove that dimension from the function.
<a href=#R-image-0d7152555edaaf6b3ccb7ac7fc3ec0af class=lightbox-link><img alt="test signal functions" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/0e402434-a302-4df3-9c2d-9a9c16a01524/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1557,725&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=881,212" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0d7152555edaaf6b3ccb7ac7fc3ec0af><img alt="test signal functions" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/0e402434-a302-4df3-9c2d-9a9c16a01524/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1557,725&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=881,212"></a></p></li><li><p>Change the chart name and description as appropriate, and click &ldquo;Save and close&rdquo; to commit your changes or just &ldquo;Close&rdquo; to cancel your changes.
<a href=#R-image-11a9e23029a8b55829e1096ff0768e19 class=lightbox-link><img alt="chart close buttons" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/02bc81af-cd81-4ac4-b1d1-f73cf7e62b99/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=999,644&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=682,162" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-11a9e23029a8b55829e1096ff0768e19><img alt="chart close buttons" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/02bc81af-cd81-4ac4-b1d1-f73cf7e62b99/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=999,644&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=682,162"></a></p></li></ol><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=events-in-context-with-chart-data>Events in context with chart data</h1><p>Seeing the visualization of our KPIs is great. What&rsquo;s better? KPIs in context with events! <a href=https://docs.splunk.com/observability/en/data-visualization/dashboards/dashboards-add.html#overlay-event-markers-on-charts-in-a-dashboard rel=external target=_blank>Overlaying events on a dashboard</a> can help us more quickly understand if an event like a deployment caused a change in metrics, for better or worse.</p><ol><li><p>Your instructor will push a condition change to the workshop application. Click the event marker on any of your dashboard charts to see more details.
<a href=#R-image-52825bc90a19657b448ae25f319cf1d2 class=lightbox-link><img alt="condition change event" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/d2dac271-0a85-46b9-b46d-e13e4e759f60/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1385,827&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=921,460" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-52825bc90a19657b448ae25f319cf1d2><img alt="condition change event" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/d2dac271-0a85-46b9-b46d-e13e4e759f60/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1385,827&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=921,460"></a></p></li><li><p>In the dimensions, we can see more details about this specific event. If we click the event record, we can mark for deletion if needed.
<a href=#R-image-8ebd7dadb1c937c6226bafe8ac8dbe67 class=lightbox-link><img alt="event record" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/55a9d0dc-5a44-496d-b44f-60f681b5576b/ascreenshot.jpeg?tl_px=692,626&br_px=2412,1587&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,277" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8ebd7dadb1c937c6226bafe8ac8dbe67><img alt="event record" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/55a9d0dc-5a44-496d-b44f-60f681b5576b/ascreenshot.jpeg?tl_px=692,626&br_px=2412,1587&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,277"></a>
<a href=#R-image-d49dee6a04e04c496b1f9cf3b9d31f59 class=lightbox-link><img alt="event details" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/ee20c9d9-9ea4-4302-af4a-73c8c24df029/user_cropped_screenshot.jpeg?tl_px=13,12&br_px=1733,974&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=832,324" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d49dee6a04e04c496b1f9cf3b9d31f59><img alt="event details" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/ee20c9d9-9ea4-4302-af4a-73c8c24df029/user_cropped_screenshot.jpeg?tl_px=13,12&br_px=1733,974&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=832,324"></a></p></li><li><p>We can also see a history of events in the event feed by clicking the icon on the top right of the screen, and selecting Event feed.
<a href=#R-image-174cc91db50f4d934b059172497e57f1 class=lightbox-link><img alt="event feed" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/7e7317f6-04b4-404e-8e17-78cf3e319ef9/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1471,785&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=1056,84" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-174cc91db50f4d934b059172497e57f1><img alt="event feed" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/7e7317f6-04b4-404e-8e17-78cf3e319ef9/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1471,785&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=1056,84"></a></p></li><li><p>Again, we can see details about recent events in this feed.
<a href=#R-image-f1155f3d5d4a8238ca6a2a8e9407584f class=lightbox-link><img alt="event details" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/66c575d0-da25-4e4d-bd3b-78b6ce777ef4/user_cropped_screenshot.jpeg?tl_px=41,0&br_px=1760,877&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=815,346" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f1155f3d5d4a8238ca6a2a8e9407584f><img alt="event details" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/66c575d0-da25-4e4d-bd3b-78b6ce777ef4/user_cropped_screenshot.jpeg?tl_px=41,0&br_px=1760,877&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=815,346"></a></p></li><li><p>We can also add new events in the GUI or <a href=https://dev.splunk.com/observability/reference/api/ingest_data/latest#endpoint-send-events rel=external target=_blank>via API</a>. To add a new event in the GUI, click the New event button.
<a href=#R-image-bf663b5ce534f335934f730e2933ec4d class=lightbox-link><img alt="GUI add event button" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/f6707f30-af0e-4aa0-aa60-8272a601c0f7/user_cropped_screenshot.jpeg?tl_px=50,0&br_px=1770,852&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=895,179" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bf663b5ce534f335934f730e2933ec4d><img alt="GUI add event button" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/f6707f30-af0e-4aa0-aa60-8272a601c0f7/user_cropped_screenshot.jpeg?tl_px=50,0&br_px=1770,852&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=895,179"></a></p></li><li><p>Name your event with your team name, initials, and what kind of event it is (deployment, campaign start, etc). Choose a timestamp, or leave as-is to use the current time, and click &ldquo;Create&rdquo;.
<a href=#R-image-9f009f02223c66a78c63c619aee3de65 class=lightbox-link><img alt="create event form" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/1280542f-4446-4b9d-8a46-d524e0319572/user_cropped_screenshot.jpeg?tl_px=0,125&br_px=1567,1087&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=858,513" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9f009f02223c66a78c63c619aee3de65><img alt="create event form" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/1280542f-4446-4b9d-8a46-d524e0319572/user_cropped_screenshot.jpeg?tl_px=0,125&br_px=1567,1087&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=858,513"></a></p></li><li><p>Now, we need to make sure our new event is overlaid in this dashboard. Wait a minute or so (refresh the page if needed) and then search for the event in the Event overlay field.
<a href=#R-image-cb01d38df76ed17208a755318242d0e9 class=lightbox-link><img alt="overlay event" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/ca2b0b08-a369-473d-ad32-3926bfca934c/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1601,810&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=408,229" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cb01d38df76ed17208a755318242d0e9><img alt="overlay event" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/ca2b0b08-a369-473d-ad32-3926bfca934c/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1601,810&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=408,229"></a></p></li><li><p>If your event is within the dashboard time window, you should now see it overlaid in your charts. Click &ldquo;Save&rdquo; to make sure your event overlay is saved to your dashboard!
<a href=#R-image-14f5ee56c11262ba07553c54f4c3790e class=lightbox-link><img alt="save dashboard" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/21dc9ffa-4b33-46b1-81e2-6204924b7ec5/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1432,732&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=868,67" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-14f5ee56c11262ba07553c54f4c3790e><img alt="save dashboard" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-04-02/21dc9ffa-4b33-46b1-81e2-6204924b7ec5/user_cropped_screenshot.jpeg?tl_px=0,0&br_px=1432,732&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=868,67"></a></p></li></ol><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Keep in mind</summary><div class=box-content><p>Want to add context to that bug ticket, or show your manager how your change improved app performance? Seeing observability data in context with events not only helps with troubleshooting, but also helps us communicate with other teams.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=detectors>Detectors</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>20 minutes</span>
</span>&nbsp;<p>After we have a good understanding of our performance baseline, we can start to create Detectors so that we receive alerts when our KPIs are unexpected. If we create detectors before understanding our baseline, we run the risk of generating unnecessary alert noise.</p><p>For RUM and Synthetics, we will explore how to create detectors:</p><ol><li>on a single Synthetic test</li><li>on a single KPI in RUM</li><li>on a dashboard chart</li></ol><p>For more Detector resources, please see our <a href=https://docs.splunk.com/observability/en/alerts-detectors-notifications/alerts-detectors-notifications.html rel=external target=_blank>Observability docs</a>, <a href="https://lantern.splunk.com/Special:Search?query=detector&type=wiki" rel=external target=_blank>Lantern</a>, and consider an <a href="https://education.splunk.com/Saba/Web_spf/NA10P2PRD105/guestapp/catalog/search?searchText=detector&selectedTab=LEARNINGEVENT" rel=external target=_blank>Education course</a> if you&rsquo;d like to go more in depth with instructor guidance.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of Detectors</h1><article class=default><header class=headline></header><h1 id=test-detectors>Test Detectors</h1><p>Why would we want a <a href=https://docs.splunk.com/observability/en/synthetics/test-config/synth-alerts.html rel=external target=_blank>detector on a single Synthetic test</a>? Some examples:</p><ul><li>The endpoint, API transaction, or browser journey is highly critical</li><li>We have deployed code changes and want to know if the resulting KPI is or is not as we expect</li><li>We need to temporarily keep a close eye on a specific change we are testing and don&rsquo;t want to create a lot of noise, and will disable the detector later</li><li>We want to know about unexpected issues before a real user encounters them</li></ul><ol><li><p>On the test overview page, click <span class="btn cstyle transparent"><span><span class=title>Create Detector</span></span></span> on the top right.
<a href=#R-image-642b382081b5dd34f453bc13012b55ad class=lightbox-link><img alt="create detector on a single synthetic test" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-16/5ff84106-52ac-4519-8835-999446227709/user_cropped_screenshot.jpeg?tl_px=1144,0&br_px=2864,961&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=902,79" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-642b382081b5dd34f453bc13012b55ad><img alt="create detector on a single synthetic test" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-16/5ff84106-52ac-4519-8835-999446227709/user_cropped_screenshot.jpeg?tl_px=1144,0&br_px=2864,961&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=902,79"></a></p></li><li><p>Name the detector with your <strong>team name</strong> and your <strong>initials</strong> and <strong>LCP</strong> (the signal we will eventually use), so that the instructor can better keep track of everyone&rsquo;s progress.</p></li><li><p>Change the signal to First byte time.
<a href=#R-image-b0389f1ffb3f8e78785966c7c9035b6c class=lightbox-link><img alt="change the signal" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-16/e443d816-7608-4073-905f-45f36d189665/ascreenshot.jpeg?tl_px=440,240&br_px=2160,1201&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,276" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b0389f1ffb3f8e78785966c7c9035b6c><img alt="change the signal" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-16/e443d816-7608-4073-905f-45f36d189665/ascreenshot.jpeg?tl_px=440,240&br_px=2160,1201&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,276"></a></p></li><li><p>Change the alert details, and see how the chart to the right shows the amount of alert events under those conditions. This is where you can decide how much alert noise you want to generate, based on how much your team tolerates. Play with the settings to see how they affect estimated alert noise.
<a href=#R-image-14a138f9a3bf549566ee5b2bfd06af0f class=lightbox-link><img alt="alert noise preview" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-16/35b475b5-4e66-498d-971a-06c5368bc0ce/ascreenshot.jpeg?tl_px=0,233&br_px=1719,1194&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=404,277" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-14a138f9a3bf549566ee5b2bfd06af0f><img alt="alert noise preview" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-16/35b475b5-4e66-498d-971a-06c5368bc0ce/ascreenshot.jpeg?tl_px=0,233&br_px=1719,1194&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=404,277"></a></p></li><li><p>Now, <strong>change the signal to Largest contentful paint</strong>. This is a key web vital related to the user experience as it relates to loading time. Change the threshold to <strong>2500ms</strong>. It&rsquo;s okay if there is no sample alert event in the detector preview.</p></li><li><p>Scroll down in this window to see the notification options, including severity and recipients.
<a href=#R-image-93ec97f2ab8b685d02bb76fda148b4cc class=lightbox-link><img alt="notification options" class="lazy lightbox figure-image" loading=lazy src=../_img/detector-notifications.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-93ec97f2ab8b685d02bb76fda148b4cc><img alt="notification options" class="lazy lightbox lightbox-image" loading=lazy src=../_img/detector-notifications.png></a></p></li><li><p>Click the notifications link to customize the alert subject, message, tip, and runbook link.
<a href=#R-image-4858310ef2302753a0e371bbfa34195b class=lightbox-link><img alt="notification customization dialog" class="lazy lightbox figure-image" loading=lazy src=../_img/notification-custom.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4858310ef2302753a0e371bbfa34195b><img alt="notification customization dialog" class="lazy lightbox lightbox-image" loading=lazy src=../_img/notification-custom.png></a></p></li><li><p>When you are happy with the amount of alert noise this detector would generate, click Activate.
<a href=#R-image-1a5aacd8714e9da63d9949c275a46680 class=lightbox-link><img alt="activate the detector" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-16/6a80893a-fffc-475b-a22c-98c89c239095/ascreenshot.jpeg?tl_px=0,838&br_px=1719,1799&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=168,451" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1a5aacd8714e9da63d9949c275a46680><img alt="activate the detector" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-16/6a80893a-fffc-475b-a22c-98c89c239095/ascreenshot.jpeg?tl_px=0,838&br_px=1719,1799&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=168,451"></a></p></li></ol><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 8, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=rum-detectors>RUM Detectors</h1><p>Let&rsquo;s say we want to know about an issue in production without waiting for a ticket from our support center. This is where <a href=https://docs.splunk.com/observability/en/rum/rum-alerts.html rel=external target=_blank>creating detectors in RUM</a> will be helpful for us.</p><ol><li><p>Go to the RUM overview of our App. Scroll to the LCP chart, click the chart menu icon, and click Create Detector.
<a href=#R-image-b2eadcb43d74ba26aab561a0c6b8e3a0 class=lightbox-link><img alt="RUM LCP chart with action menu flyout" class="lazy lightbox figure-image" loading=lazy src=../_img/rum-lcp.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b2eadcb43d74ba26aab561a0c6b8e3a0><img alt="RUM LCP chart with action menu flyout" class="lazy lightbox lightbox-image" loading=lazy src=../_img/rum-lcp.png></a></p></li><li><p>Rename the detector to include your <strong>team name</strong> and <strong>initials</strong>, and change the scope of the detector to App so we are not limited to a single URL or page. Change the threshold and sensitivity until there is at least one alert event in the time frame.
<a href=#R-image-e3403c4cdb6d79989fbcb5ed8386719a class=lightbox-link><img alt="RUM alert details" class="lazy lightbox figure-image" loading=lazy src=../_img/rum-detector.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e3403c4cdb6d79989fbcb5ed8386719a><img alt="RUM alert details" class="lazy lightbox lightbox-image" loading=lazy src=../_img/rum-detector.png></a></p></li><li><p>Change the alert severity and add a recipient if you&rsquo;d like, and click <span class="btn cstyle blue"><span><span class=title>Activate</span></span></span> to save the Detector.</p></li></ol><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p>Now, your workshop instructor will change something on the website. How do you find out about the issue, and how do you investigate it?</p></div></details><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>Wait a few minutes, and take a look at the online store homepage in your browser. How is the experience in an incognito browser window? How is it different when you refresh the page?</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 8, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=chart-detectors>Chart Detectors</h1><p>With our custom dashboard charts, we can create detectors focussed directly on the data and conditions we care about. In building our charts, we also built signals that can trigger alerts.</p><h2 id=static-detectors>Static detectors</h2><p>For many KPIs, we have a static value in mind as a threshold.</p><ol><li><p>In your custom End User Experience dashboard, go to the &ldquo;LCP - all tests&rdquo; chart.</p></li><li><p>Click the bell icon on the top right of the chart, and select &ldquo;New detector from chart&rdquo;
<a href=#R-image-f2ce8b1398a1eaf11f57588d9afc80f5 class=lightbox-link><img alt="new detector from chart" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/2e7a0adf-f4f7-4183-b7e9-08bbe7350232/ascreenshot.jpeg?tl_px=1160,297&br_px=2880,1258&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=886,277" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f2ce8b1398a1eaf11f57588d9afc80f5><img alt="new detector from chart" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/2e7a0adf-f4f7-4183-b7e9-08bbe7350232/ascreenshot.jpeg?tl_px=1160,297&br_px=2880,1258&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=886,277"></a></p></li><li><p>Change the detector name to include your <strong>team name</strong> and <strong>initials</strong>, and adjust the alert details. Change the threshold to 2500 or 4000 and see how the alert noise preview changes.
<a href=#R-image-15ff9a2cefe8ed0e6194d4930fd0dcd7 class=lightbox-link><img alt="alert details" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/4a6f44da-2559-49bf-8c5a-a58220c6e64d/ascreenshot.jpeg?tl_px=0,152&br_px=1719,1113&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=444,277" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-15ff9a2cefe8ed0e6194d4930fd0dcd7><img alt="alert details" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/4a6f44da-2559-49bf-8c5a-a58220c6e64d/ascreenshot.jpeg?tl_px=0,152&br_px=1719,1113&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=444,277"></a></p></li><li><p>Change the severity, and add yourself as a recipient before you save this detector. Click <span class="btn cstyle blue"><span><span class=title>Activate</span></span></span>.
<a href=#R-image-18306652fc46be914ee7ba21f22721f7 class=lightbox-link><img alt="activate the detector" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/1c2a7f23-c076-45e8-80b0-3a99e3989048/user_cropped_screenshot.jpeg?tl_px=0,652&br_px=1719,1614&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=216,453" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-18306652fc46be914ee7ba21f22721f7><img alt="activate the detector" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/1c2a7f23-c076-45e8-80b0-3a99e3989048/user_cropped_screenshot.jpeg?tl_px=0,652&br_px=1719,1614&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=216,453"></a></p></li></ol><h2 id=advanced-dynamic-detectors>Advanced: Dynamic detectors</h2><p>Sometimes we have metrics that vary naturally, so we want to create a more dynamic detector that isn&rsquo;t limited by the static threshold we decide in the moment.</p><ol><li><p>To create dynamic detectors on your chart, click the link to the &ldquo;old&rdquo; detector wizard.
<a href=#R-image-4b192bc8a3c5c092ee252057ae8b7cc6 class=lightbox-link><img alt="click the link to open this detector in the old editor" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/877e9402-3634-4b44-8585-fe27331674c6/user_cropped_screenshot.jpeg?tl_px=901,0&br_px=2621,961&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,109" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4b192bc8a3c5c092ee252057ae8b7cc6><img alt="click the link to open this detector in the old editor" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/877e9402-3634-4b44-8585-fe27331674c6/user_cropped_screenshot.jpeg?tl_px=901,0&br_px=2621,961&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,109"></a></p></li><li><p>Change the detector name to include your <strong>team name</strong> and <strong>initials</strong>, and Click <span class="btn cstyle blue"><span><span class=title>Create alert rule</span></span></span>
<a href=#R-image-49592cce30f2d50e7a1f93866fb01ff5 class=lightbox-link><img alt="name and create alert rule" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/fa9714b1-1fa0-47c4-9361-5753c0c5d4b4/ascreenshot.jpeg?tl_px=978,191&br_px=2698,1152&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,277" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-49592cce30f2d50e7a1f93866fb01ff5><img alt="name and create alert rule" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/fa9714b1-1fa0-47c4-9361-5753c0c5d4b4/ascreenshot.jpeg?tl_px=978,191&br_px=2698,1152&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,277"></a></p></li><li><p>Confirm the signal looks correct and proceed to Alert condition.
<a href=#R-image-b624efc7dcb109c6c7e0d6941d246a5b class=lightbox-link><img alt="alert signal details" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/d8dc6a69-f559-4399-b71d-583555266e35/ascreenshot.jpeg?tl_px=0,630&br_px=1719,1591&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=246,277" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b624efc7dcb109c6c7e0d6941d246a5b><img alt="alert signal details" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/d8dc6a69-f559-4399-b71d-583555266e35/ascreenshot.jpeg?tl_px=0,630&br_px=1719,1591&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=246,277"></a></p></li><li><p>Select the &ldquo;Sudden Change&rdquo; condition and proceed to Alert settings
<a href=#R-image-3c635e7ad13571cf6fdb8a3f2d70da51 class=lightbox-link><img alt="list of dynamic conditions" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/3a4e5b88-befc-4af8-8736-5f4a5529d0aa/ascreenshot.jpeg?tl_px=0,838&br_px=1719,1799&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=486,340" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3c635e7ad13571cf6fdb8a3f2d70da51><img alt="list of dynamic conditions" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/3a4e5b88-befc-4af8-8736-5f4a5529d0aa/ascreenshot.jpeg?tl_px=0,838&br_px=1719,1799&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=486,340"></a></p></li><li><p>Play with the settings and see how the estimated alert noise is previewed in the chart above. Tune the settings, and change the advanced settings if you&rsquo;d like, before proceeding to the Alert message.
<a href=#R-image-a5b21cdcecc2446fae919c86b7725132 class=lightbox-link><img alt="alert noise marked on chart based on settings" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/8a01627f-2287-494e-a2a3-20ff1592b641/ascreenshot.jpeg?tl_px=381,782&br_px=2101,1743&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,277" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a5b21cdcecc2446fae919c86b7725132><img alt="alert noise marked on chart based on settings" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/8a01627f-2287-494e-a2a3-20ff1592b641/ascreenshot.jpeg?tl_px=381,782&br_px=2101,1743&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,277"></a></p></li><li><p>Customize the severity, runbook URL, any tips, and message payload before proceeding to add recipients.
<a href=#R-image-fe4ed6027e7e94c0e4428086628ef49b class=lightbox-link><img alt="alert message options" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/0af4f210-2202-4daf-9754-c8719867b388/ascreenshot.jpeg?tl_px=94,838&br_px=1813,1799&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,485" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fe4ed6027e7e94c0e4428086628ef49b><img alt="alert message options" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/0af4f210-2202-4daf-9754-c8719867b388/ascreenshot.jpeg?tl_px=94,838&br_px=1813,1799&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,485"></a></p></li><li><p>For the sake of this workshop, only add your own email address as recipient. This is where you would add other options like webhooks, ticketing systems, and Slack channels if it&rsquo;s in your real environment.
<a href=#R-image-a18fe8b4562432b200f5f88bd6d24a7a class=lightbox-link><img alt="recipient options" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/006bf87f-d5cb-4b17-9658-4f381aff9c9e/ascreenshot.jpeg?tl_px=87,838&br_px=1807,1799&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,457" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a18fe8b4562432b200f5f88bd6d24a7a><img alt="recipient options" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/006bf87f-d5cb-4b17-9658-4f381aff9c9e/ascreenshot.jpeg?tl_px=87,838&br_px=1807,1799&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=524,457"></a></p></li><li><p>Finally, confirm the detector name before clicking <span class="btn cstyle blue"><span><span class=title>Activate Alert Rule</span></span></span>
<a href=#R-image-5fa30f23530d0a1839a0057f7f454987 class=lightbox-link><img alt="activate alert rule button" class="lazy lightbox figure-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/146b3a5c-3c08-4fe8-a3fb-af44176963ca/ascreenshot.jpeg?tl_px=1160,838&br_px=2880,1799&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=890,468" style=height:auto;width:1120></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5fa30f23530d0a1839a0057f7f454987><img alt="activate alert rule button" class="lazy lightbox lightbox-image" loading=lazy src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-17/146b3a5c-3c08-4fe8-a3fb-af44176963ca/ascreenshot.jpeg?tl_px=1160,838&br_px=2880,1799&force_format=png&width=1120.0&wat=1&wat_opacity=0.7&wat_gravity=northwest&wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&wat_pad=890,468"></a></p></li></ol><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=summary>Summary</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>2 minutes</span>
</span>&nbsp;<p>In this workshop, we learned the following:</p><ul><li>How to create simple synthetic tests so that we can quickly begin to understand the availability and performance of our application</li><li>How to understand what RUM shows us about the end user experience, including specific user sessions</li><li>How to write advanced synthetic browser tests to proactively test our most important user actions</li><li>How to visualize our frontend performance data in context with events on dashboards</li><li>How to set up detectors so we don&rsquo;t have to wait to hear about issues from our end users</li><li>How all of the above, plus Splunk and Google&rsquo;s resources, helps us optimize end user experience</li></ul><p>There is a lot more we can do with front end performance monitoring. If you have extra time, be sure to play with the charts, detectors, and do some more synthetic testing. Remember our resources such as <a href=https://lantern.splunk.com/Observability/UCE/Optimized_experiences rel=external target=_blank>Lantern</a>, <a href=https://docs.splunk.com/observability/en/rum/intro-to-rum.html rel=external target=_blank>Splunk Docs</a>, and <a href=https://docs.splunk.com/observability/en/rum/sample-app.html rel=external target=_blank>experiment with apps for Mobile RUM</a>.</p><p>This is just the beginning! If you need more time to trial Splunk Observability, or have any other questions, <a href=https://www.splunk.com/en_us/about-splunk/contact-us.html rel=external target=_blank>reach out to a Splunk Expert</a>.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Oct 10, 2024</span></span></footer></article></section></section></div></main></div><script src=/observability-workshop/v5.100/js/clipboard/clipboard.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/perfect-scrollbar/perfect-scrollbar.min.js?1752769005 defer></script><script src=/observability-workshop/v5.100/js/theme.min.js?1752769005 defer></script></body></html>