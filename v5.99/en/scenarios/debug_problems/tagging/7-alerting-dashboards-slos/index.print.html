<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 7.6.1+81b6d3c32c77aeecc29c4700d2123bd2fb3401c2"><meta name=description content="Earlier, we created a Troubleshooting Metric Set on the credit.score.category tag, which allowed us to use Tag Spotlight with that tag and identify a pattern to explain why some users received a poor experience.
In this section of the workshop, weâ€™ll explore a related concept: Monitoring MetricSets.
What are Monitoring MetricSets? Monitoring MetricSets go beyond troubleshooting and allow us to use tags for alerting, dashboards and SLOs.
Create a Monitoring MetricSet (note: your workshop instructor will do the following for you, but observe the steps)"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Use Tags for Monitoring :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Earlier, we created a Troubleshooting Metric Set on the credit.score.category tag, which allowed us to use Tag Spotlight with that tag and identify a pattern to explain why some users received a poor experience.
In this section of the workshop, weâ€™ll explore a related concept: Monitoring MetricSets.
What are Monitoring MetricSets? Monitoring MetricSets go beyond troubleshooting and allow us to use tags for alerting, dashboards and SLOs.
Create a Monitoring MetricSet (note: your workshop instructor will do the following for you, but observe the steps)"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.99/en/scenarios/debug_problems/tagging/7-alerting-dashboards-slos/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Use Tags for Monitoring :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Earlier, we created a Troubleshooting Metric Set on the credit.score.category tag, which allowed us to use Tag Spotlight with that tag and identify a pattern to explain why some users received a poor experience.
In this section of the workshop, weâ€™ll explore a related concept: Monitoring MetricSets.
What are Monitoring MetricSets? Monitoring MetricSets go beyond troubleshooting and allow us to use tags for alerting, dashboards and SLOs.
Create a Monitoring MetricSet (note: your workshop instructor will do the following for you, but observe the steps)"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Use Tags for Monitoring :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Earlier, we created a Troubleshooting Metric Set on the credit.score.category tag, which allowed us to use Tag Spotlight with that tag and identify a pattern to explain why some users received a poor experience.
In this section of the workshop, weâ€™ll explore a related concept: Monitoring MetricSets.
What are Monitoring MetricSets? Monitoring MetricSets go beyond troubleshooting and allow us to use tags for alerting, dashboards and SLOs.
Create a Monitoring MetricSet (note: your workshop instructor will do the following for you, but observe the steps)"><meta itemprop=dateModified content="2024-09-06T14:05:39-07:00"><meta itemprop=wordCount content="221"><title>Use Tags for Monitoring :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/v5.99/en/scenarios/debug_problems/tagging/7-alerting-dashboards-slos/index.html rel=canonical type=text/html title="Use Tags for Monitoring :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/v5.99/images/favicon.ico?1752058459 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/v5.99/css/auto-complete/auto-complete.min.css?1752058459 rel=stylesheet><script src=/observability-workshop/v5.99/js/auto-complete/auto-complete.min.js?1752058459 defer></script><script src=/observability-workshop/v5.99/js/search-lunr.min.js?1752058459 defer></script><script src=/observability-workshop/v5.99/js/search.min.js?1752058459 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/v5.99/searchindex.en.js?1752058459"</script><script src=/observability-workshop/v5.99/js/lunr/lunr.min.js?1752058459 defer></script><script src=/observability-workshop/v5.99/js/lunr/lunr.stemmer.support.min.js?1752058459 defer></script><script src=/observability-workshop/v5.99/js/lunr/lunr.multi.min.js?1752058459 defer></script><script src=/observability-workshop/v5.99/js/lunr/lunr.en.min.js?1752058459 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/observability-workshop/v5.99/fonts/fontawesome/css/fontawesome-all.min.css?1752058459 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.99/fonts/fontawesome/css/fontawesome-all.min.css?1752058459 rel=stylesheet></noscript><link href=/observability-workshop/v5.99/css/perfect-scrollbar/perfect-scrollbar.min.css?1752058459 rel=stylesheet><link href=/observability-workshop/v5.99/css/theme.min.css?1752058459 rel=stylesheet><link href=/observability-workshop/v5.99/css/format-print.min.css?1752058459 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/scenarios/debug_problems/tagging/7-alerting-dashboards-slos/index.html",window.relearn.relBasePath="../../../../..",window.relearn.relBaseUri="../../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop/v5.99",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({app:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg"})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-url=/observability-workshop/v5.99/en/scenarios/debug_problems/tagging/7-alerting-dashboards-slos/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#what-are-monitoring-metricsets>What are Monitoring MetricSets?</a></li><li><a href=#create-a-monitoring-metricset>Create a Monitoring MetricSet</a></li><li><a href=#using-monitoring-metricsets>Using Monitoring MetricSets</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.99/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.99/en/scenarios/index.html><span itemprop=name>Scenarios</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.99/en/scenarios/debug_problems/index.html><span itemprop=name>Debug Problems in Microservices</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.99/en/scenarios/debug_problems/tagging/index.html><span itemprop=name>Tagging Workshop</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>7. Use Tags for Monitoring</span><meta itemprop=position content="5"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.99/en/scenarios/debug_problems/tagging/7-alerting-dashboards-slos/index.print.html title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.99/en/scenarios/debug_problems/tagging/6-use-tags/index.html title="Use Tags for Troubleshooting (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.99/en/scenarios/debug_problems/tagging/7-alerting-dashboards-slos/1-dashboards/index.html title="Use Tags with Dashboards (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable scenarios" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=use-tags-for-monitoring>Use Tags for Monitoring</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>Earlier, we created a <strong>Troubleshooting Metric Set</strong> on the <code>credit.score.category</code> tag, which allowed us to use <strong>Tag Spotlight</strong> with that tag and identify a pattern to explain why some users received a poor experience.</p><p>In this section of the workshop, we&rsquo;ll explore a related concept: <strong>Monitoring MetricSets</strong>.</p><h2 id=what-are-monitoring-metricsets>What are Monitoring MetricSets?</h2><p><strong>Monitoring MetricSets</strong> go beyond troubleshooting and allow us to use tags for alerting, dashboards and SLOs.</p><h2 id=create-a-monitoring-metricset>Create a Monitoring MetricSet</h2><p>(<strong>note</strong>: <em>your workshop instructor will do the following for you, but observe the steps</em>)</p><p>Let&rsquo;s navigate to <strong>Settings</strong> -> <strong>APM MetricSets</strong>, and click the edit button (i.e. the little pencil) beside the MetricSet for <code>credit.score.category</code>.</p><p><a href=#R-image-28503a9cdfe14d9dbfb79bf604c04688 class=lightbox-link><img alt="edit APM MetricSet" class="lazy lightbox figure-image" loading=lazy src=../images/edit_apm_metricset.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-28503a9cdfe14d9dbfb79bf604c04688><img alt="edit APM MetricSet" class="lazy lightbox lightbox-image" loading=lazy src=../images/edit_apm_metricset.png></a></p><p>Check the box beside <strong>Also create Monitoring MetricSet</strong> then click <strong>Start Analysis</strong></p><p><a href=#R-image-ff679a44b98eb3418191dfe928f130c2 class=lightbox-link><img alt="Monitoring MetricSet" class="lazy lightbox figure-image" loading=lazy src=../images/monitoring_metricset.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ff679a44b98eb3418191dfe928f130c2><img alt="Monitoring MetricSet" class="lazy lightbox lightbox-image" loading=lazy src=../images/monitoring_metricset.png></a></p><p>The <code>credit.score.category</code> tag appears again as a <strong>Pending MetricSet</strong>. After a few moments, a checkmark should appear. Click this checkmark to enable the <strong>Pending MetricSet</strong>.</p><p><a href=#R-image-231ce9b139b61210f39862acf7a7ca88 class=lightbox-link><img alt="pending APM MetricSet" class="lazy lightbox figure-image" loading=lazy src=../images/update_pending_apm_metricset.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-231ce9b139b61210f39862acf7a7ca88><img alt="pending APM MetricSet" class="lazy lightbox lightbox-image" loading=lazy src=../images/update_pending_apm_metricset.png></a></p><h2 id=using-monitoring-metricsets>Using Monitoring MetricSets</h2><p>This mechanism creates a new dimension from the tag on a bunch of metrics that can be used to filter these metrics based on the values of that new dimension. <strong>Important</strong>: To differentiate between the original and the copy, the dots in the tag name are replaced by underscores for the new dimension. With that the metrics become a dimension named <code>credit_score_category</code> and not <code>credit.score.category</code>.</p><p>Next, let&rsquo;s explore how we can use this <strong>Monitoring MetricSet</strong>.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><section><h1 class=a11y-only>Subsections of 7. Use Tags for Monitoring</h1><article class=default><header class=headline></header><h1 id=use-tags-with-dashboards>Use Tags with Dashboards</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<h3 id=dashboards>Dashboards</h3><p>Navigate to <strong>Metric Finder</strong>, then type in the name of the tag, which is <code>credit_score_category</code> (remember that the dots in the tag name were replaced by underscores when the Monitoring MetricSet was created). You&rsquo;ll see that multiple metrics include this tag as a dimension:</p><p><a href=#R-image-a385ea3c1a6fd7726d82f3798ae585b7 class=lightbox-link><img alt="Metric Finder" class="lazy lightbox figure-image" loading=lazy src=../../images/metric_finder.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a385ea3c1a6fd7726d82f3798ae585b7><img alt="Metric Finder" class="lazy lightbox lightbox-image" loading=lazy src=../../images/metric_finder.png></a></p><p>By default, <strong>Splunk Observability Cloud</strong> calculates several metrics using the trace data it receives. See <a href=https://docs.splunk.com/observability/en/apm/span-tags/metricsets.html rel=external target=_blank>Learn about MetricSets in APM</a> for more details.</p><p>By creating an MMS, <code>credit_score_category</code> was added as a dimension to these metrics, which means that this dimension can now be used for alerting and dashboards.</p><p>To see how, let&rsquo;s click on the metric named <code>service.request.duration.ns.p99</code>, which brings up the following chart:</p><p><a href=#R-image-07a1f421496fb4a074f371d407480992 class=lightbox-link><img alt="Service Request Duration" class="lazy lightbox figure-image" loading=lazy src=../../images/service_request_duration_chart.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-07a1f421496fb4a074f371d407480992><img alt="Service Request Duration" class="lazy lightbox lightbox-image" loading=lazy src=../../images/service_request_duration_chart.png></a></p><p>Add filters for <code>sf_environment</code>, <code>sf_service</code>, and <code>sf_dimensionalized</code>. Then set the <strong>Extrapolation policy</strong> to <code>Last value</code> and the <strong>Display units</strong> to <code>Nanosecond</code>:</p><p><a href=#R-image-02407ec16f2815ad4a11ff4527f08d22 class=lightbox-link><img alt="Chart with Seconds" class="lazy lightbox figure-image" loading=lazy src=../../images/chart_settings.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-02407ec16f2815ad4a11ff4527f08d22><img alt="Chart with Seconds" class="lazy lightbox lightbox-image" loading=lazy src=../../images/chart_settings.png></a></p><p>With these settings, the chart allows us to visualize the service request duration by credit score category:</p><p><a href=#R-image-6876d49a4fccda5308a815a3a8032be8 class=lightbox-link><img alt="Duration by Credit Score" class="lazy lightbox figure-image" loading=lazy src=../../images/duration_by_credit_score.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6876d49a4fccda5308a815a3a8032be8><img alt="Duration by Credit Score" class="lazy lightbox lightbox-image" loading=lazy src=../../images/duration_by_credit_score.png></a></p><p>Now we can see the duration by credit score category. In my example, the red line represents the <code>exceptional</code> category, and we can see that the duration for these requests sometimes goes all the way up to 5 seconds.</p><p>The orange represents the <code>very good</code> category, and has very fast response times.</p><p>The green line represents the <code>poor</code> category, and has response times between 2-3 seconds.</p><p>It may be useful to save this chart on a dashboard for future reference. To do this, click on the <strong>Save as&mldr;</strong> button and provide a name for the chart:</p><p><a href=#R-image-ddea8bdd49cea8602307afe3626ce6c5 class=lightbox-link><img alt="Save Chart As" class="lazy lightbox figure-image" loading=lazy src=../../images/save_chart_as.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ddea8bdd49cea8602307afe3626ce6c5><img alt="Save Chart As" class="lazy lightbox lightbox-image" loading=lazy src=../../images/save_chart_as.png></a></p><p>When asked which dashboard to save the chart to, let&rsquo;s create a <strong>new</strong> one named <code>Credit Check Service - Your Name</code> (substituting your actual name):</p><p><a href=#R-image-ceca2d171622d2378f6c5ad1bb174007 class=lightbox-link><img alt="Save Chart As" class="lazy lightbox figure-image" loading=lazy src=../../images/create_dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ceca2d171622d2378f6c5ad1bb174007><img alt="Save Chart As" class="lazy lightbox lightbox-image" loading=lazy src=../../images/create_dashboard.png></a></p><p>Now we can see the chart on our dashboard, and can add more charts as needed to monitor our credit check service:</p><p><a href=#R-image-e94a294f2cf2640096804fcbaec1dfa5 class=lightbox-link><img alt="Credit Check Service Dashboard" class="lazy lightbox figure-image" loading=lazy src=../../images/credit_check_service_dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e94a294f2cf2640096804fcbaec1dfa5><img alt="Credit Check Service Dashboard" class="lazy lightbox lightbox-image" loading=lazy src=../../images/credit_check_service_dashboard.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=use-tags-with-alerting>Use Tags with Alerting</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>3 minutes</span>
</span>&nbsp;<h3 id=alerts>Alerts</h3><p>It&rsquo;s great that we have a dashboard to monitor the response times of the credit check service by credit score, but we don&rsquo;t want to stare at a dashboard all day.</p><p>Let&rsquo;s create an alert so we can be notified proactively if customers with <code>exceptional</code> credit scores encounter slow requests.</p><p>To create this alert, click on the little bell on the top right-hand corner of the chart, then select <strong>New detector from chart</strong>:</p><p><a href=#R-image-d0708828566527dd927f29999b49fbbd class=lightbox-link><img alt="New Detector From Chart" class="lazy lightbox figure-image" loading=lazy src=../../images/new_detector_from_chart.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d0708828566527dd927f29999b49fbbd><img alt="New Detector From Chart" class="lazy lightbox lightbox-image" loading=lazy src=../../images/new_detector_from_chart.png></a></p><p>Let&rsquo;s call the detector <code>Latency by Credit Score Category</code>. Set the environment to your environment name (i.e. <code>tagging-workshop-yourname</code>) then select <code>creditcheckservice</code> as the service. Since we only want to look at performance for customers with <code>exceptional</code> credit scores, add a filter using the <code>credit_score_category</code> dimension and select <code>exceptional</code>:</p><p><a href=#R-image-508a94dcb62957f0997ee7040d08184a class=lightbox-link><img alt="Create New Detector" class="lazy lightbox figure-image" loading=lazy src=../../images/create_new_detector.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-508a94dcb62957f0997ee7040d08184a><img alt="Create New Detector" class="lazy lightbox lightbox-image" loading=lazy src=../../images/create_new_detector.png></a></p><p>As an alert condition instead of &ldquo;<strong>Static threshold</strong>&rdquo; we want to select &ldquo;<strong>Sudden Change</strong>&rdquo; to make the example more vivid.</p><p><a href=#R-image-f93f06187cc6f69b6ff51c5fa56fa80b class=lightbox-link><img alt="Alert Condition: Sudden Change" class="lazy lightbox figure-image" loading=lazy src=../../images/alert_condition_suddenchange.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f93f06187cc6f69b6ff51c5fa56fa80b><img alt="Alert Condition: Sudden Change" class="lazy lightbox lightbox-image" loading=lazy src=../../images/alert_condition_suddenchange.png></a></p><p>We can then set the remainder of the alert details as we normally would. The key thing to remember here is that without capturing a tag with the credit score category and indexing it, we wouldn&rsquo;t be able to alert at this granular level, but would instead be forced to bucket all customers together, regardless of their importance to the business.</p><p>Unless you want to get notified, we do not need to finish this wizard. You can just close the wizard by clicking the <strong>X</strong> on the top right corner of the wizard pop-up.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article><article class=default><header class=headline></header><h1 id=use-tags-with-service-level-objectives>Use Tags with Service Level Objectives</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p>We can now use the created Monitoring MetricSet together with Service Level Objectives a similar way we used them with dashboards and detectors/alerts before. For that we want to be clear about some key concepts:</p><h2 id=key-concepts-of-service-level-monitoring>Key Concepts of Service Level Monitoring</h2><p>(<a href=/observability-workshop/v5.99/en/scenarios/debug_problems/tagging/7-alerting-dashboards-slos/3-slos/index.html#creating-a-new-service-level-objective>skip</a> if you know this)</p><table><thead><tr><th>Concept</th><th>Definition</th><th>Examples</th></tr></thead><tbody><tr><td>Service level indicator (SLI)</td><td>An SLI is a quantitative measurement showing some health of a service, expressed as a metric or combination of metrics.</td><td><em>Availability SLI</em>: Proportion of requests that resulted in a successful response<br><em>Performance SLI</em>: Proportion of requests that loaded in &lt; 100 ms</td></tr><tr><td>Service level objective (SLO)</td><td>An SLO defines a target for an SLI and a compliance period over which that target must be met. An SLO contains 3 elements: an SLI, a target, and a compliance period. Compliance periods can be calendar, such as monthly, or rolling, such as past 30 days.</td><td><em>Availability SLI over a calendar period</em>: Our service must respond successfully to 95% of requests in a month<br><em>Performance SLI over a rolling period</em>: Our service must respond to 99% of requests in &lt; 100 ms over a 7-day period</td></tr><tr><td>Service level agreement (SLA)</td><td>An SLA is a contractual agreement that indicates service levels your users can expect from your organization. If an SLA is not met, there can be financial consequences.</td><td>A customer service SLA indicates that 90% of support requests received on a normal support day must have a response within 6 hours.</td></tr><tr><td>Error budget</td><td>A measurement of how your SLI performs relative to your SLO over a period of time. Error budget measures the difference between actual and desired performance. It determines how unreliable your service might be during this period and serves as a signal when you need to take corrective action.</td><td>Our service can respond to 1% of requests in >100 ms over a 7 day period.</td></tr><tr><td>Burn rate</td><td>A unitless measurement of how quickly a service consumes the error budget during the compliance window of the SLO. Burn rate makes the SLO and error budget actionable, showing service owners when a current incident is serious enough to page an on-call responder.</td><td>For an SLO with a 30-day compliance window, a constant burn rate of 1 means your error budget is used up in exactly 30 days.</td></tr></tbody></table><h2 id=creating-a-new-service-level-objective>Creating a new Service Level Objective</h2><p>There is an easy to follow wizard to create a new Service Level Objective (SLO). In the left navigation just follow the link &ldquo;<strong>Detectors & SLOs</strong>&rdquo;. From there select the third tab &ldquo;<strong>SLOs</strong>&rdquo; and click the blue button to the right that says &ldquo;<strong>Create SLO</strong>&rdquo;.</p><p><a href=#R-image-6cb7ea44e0f6397c98a6848a320bfa9a class=lightbox-link><img alt="Create new SLO" class="lazy lightbox figure-image" loading=lazy src=../../images/slo_0_create.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6cb7ea44e0f6397c98a6848a320bfa9a><img alt="Create new SLO" class="lazy lightbox lightbox-image" loading=lazy src=../../images/slo_0_create.png></a></p><p>The wizard guides you through some easy steps. And if everything during the previous steps worked out, you will have no problems here. ;)</p><p>In our case we want to use <code>Service & endpoint</code> as our <strong>Metric type</strong> instead of <code>Custom metric</code>. We filter the <strong>Environment</strong> down to the environment that we are using during this workshop (i.e. <code>tagging-workshop-yourname</code>) and select the <code>creditcheckservice</code> from the <strong>Service and endpoint</strong> list. Our <strong>Indicator type</strong> for this workshop will be <code>Request latency</code> and not <code>Request success</code>.</p><p>Now we can select our <strong>Filters</strong>. Since we are using the <code>Request latency</code> as the <strong>Indicator type</strong> and that is a metric of the APM Service, we can filter on <code>credit.score.category</code>. Feel free to try out what happens, when you set the <strong>Indicator type</strong> to <code>Request success</code>.</p><p>Today we are only interested in our <code>exceptional</code> credit scores. So please select that as the filter.</p><p><a href=#R-image-a575f706c1a33dc055b3ac34cb8c4cc4 class=lightbox-link><img alt="Choose Service or Metric for SLO" class="lazy lightbox figure-image" loading=lazy src=../../images/slo_1_choose.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a575f706c1a33dc055b3ac34cb8c4cc4><img alt="Choose Service or Metric for SLO" class="lazy lightbox lightbox-image" loading=lazy src=../../images/slo_1_choose.png></a></p><p>In the next step we define the objective we want to reach. For the <code>Request latency</code> type, we define the <strong>Target (%)</strong>, the <strong>Latency (ms)</strong> and the <strong>Compliance Window</strong>. Please set these to <code>99</code>, <code>100</code> and <code>Last 7 days</code>. This will give us a good idea what we are achieving already.</p><p>Here we will already be in shock or play around with the numbers to make it not so scary. Feel free to play around with the numbers to see how well we achieve the objective and how much we have left to burn.</p><p><a href=#R-image-92ee1eb8ba2e772a86030794c52ffe7b class=lightbox-link><img alt="Define Objective for SLO" class="lazy lightbox figure-image" loading=lazy src=../../images/slo_2_define_objective.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-92ee1eb8ba2e772a86030794c52ffe7b><img alt="Define Objective for SLO" class="lazy lightbox lightbox-image" loading=lazy src=../../images/slo_2_define_objective.png></a></p><p>The third step gives us the chance to alert (aka annoy) people who should be aware about these SLOs to initiate countermeasures. These &ldquo;people&rdquo; can also be mechanism like ITSM systems or webhooks to initiate automatic remediation steps.</p><p>Activate all categories you want to alert on and add recipients to the different alerts.</p><p><a href=#R-image-1d65793dfac4953831bdda67e78e3f5c class=lightbox-link><img alt="Define Alerting for SLO" class="lazy lightbox figure-image" loading=lazy src=../../images/slo_3_define_alerting.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1d65793dfac4953831bdda67e78e3f5c><img alt="Define Alerting for SLO" class="lazy lightbox lightbox-image" loading=lazy src=../../images/slo_3_define_alerting.png></a></p><p>The next step is only the naming for this SLO. Have your own naming convention ready for this. In our case we would just name it <code>creditchceckservice:score:exceptional:YOURNAME</code> and click the <strong>Create</strong>-button <strong>BUT</strong> you can also <strong>just cancel the wizard</strong> by clicking anything in the left navigation and confirming to <strong>Discard changes</strong>.</p><p><a href=#R-image-9c19f40498ba4ca4ba9b0d67518ff0ca class=lightbox-link><img alt="Name and Save the SLO" class="lazy lightbox figure-image" loading=lazy src=../../images/slo_4_name_and_save.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9c19f40498ba4ca4ba9b0d67518ff0ca><img alt="Name and Save the SLO" class="lazy lightbox lightbox-image" loading=lazy src=../../images/slo_4_name_and_save.png></a></p><p>And with that we have (<em>nearly</em>) successfully created an SLO including the alerting in case we might miss or goals.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 6, 2024</span></span></footer></article></section></div></main></div><script src=/observability-workshop/v5.99/js/clipboard/clipboard.min.js?1752058459 defer></script><script src=/observability-workshop/v5.99/js/perfect-scrollbar/perfect-scrollbar.min.js?1752058459 defer></script><script src=/observability-workshop/v5.99/js/theme.min.js?1752058459 defer></script></body></html>