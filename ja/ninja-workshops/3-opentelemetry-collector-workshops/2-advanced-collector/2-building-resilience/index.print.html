<!doctype html><html id=R-html lang=ja dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 9.0.3+9bc97fdf9eaf3af61af9bcc11db2e010de83af95"><meta name=description content="OpenTelemetry Collector ã® FileStorage Extension ã¯ã€ã‚ˆã‚Šè€éšœå®³æ€§ã®é«˜ã„ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®é‡è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Collector ã¯å‡¦ç†ä¸­ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºå®Ÿã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã—ã€ãƒªãƒˆãƒ©ã‚¤ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã—ã€è²´é‡ãªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã‚’å¤±ã†ã“ã¨ãªãä¸€æ™‚çš„ãªéšœå®³ã‚’é©åˆ‡ã«å‡¦ç†ã§ãã¾ã™ã€‚
FileStorage ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€Collector ã¯ä¸­é–“çŠ¶æ…‹ã‚’ãƒ‡ã‚£ã‚¹ã‚¯ã«æ°¸ç¶šåŒ–ã§ãã‚‹ãŸã‚ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ä¸­æ–­ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®åœæ­¢ã€ã¾ãŸã¯ Collector ã®å†èµ·å‹•æ™‚ã«ã‚‚ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒ­ã‚°ãŒå¤±ã‚ã‚Œãªã„ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãŒåˆ‡æ–­ã•ã‚ŒãŸã‚Šã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒä¸€æ™‚çš„ã«åˆ©ç”¨ã§ããªããªã£ãŸã‚Šã—ã¦ã‚‚ã€Collector ã¯ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã®å—ä¿¡ã¨ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã‚’ç¶™ç¶šã—ã€æ¥ç¶šãŒå¾©æ—§ã™ã‚‹ã¨é…ä¿¡ã‚’ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«å†é–‹ã—ã¾ã™ã€‚
FileStorage Extension ã‚’ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ±åˆã™ã‚‹ã“ã¨ã§ã€ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ã‚¹ã‚¿ãƒƒã‚¯ã®è€ä¹…æ€§ã‚’å¼·åŒ–ã—ã€æ¥ç¶šãŒä¸å®‰å®šãªç’°å¢ƒã§ã‚‚é«˜å“è³ªãªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼å–ã‚Šè¾¼ã¿ã‚’ç¶­æŒã§ãã¾ã™ã€‚ ãƒ¡ãƒ¢ ã“ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æ¥ç¶šãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒçŸ­ã„å ´åˆï¼ˆæœ€å¤§15åˆ†ï¼‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«å¯¾ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒã“ã‚Œã‚’è¶…ãˆã‚‹ã¨ã€Splunk Observability Cloud ã¯ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®é †åºãŒä¹±ã‚Œãªã„ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
ãƒ­ã‚°ã«ã¤ã„ã¦ã¯ã€ä»Šå¾Œã® Splunk OpenTelemetry Collector ãƒªãƒªãƒ¼ã‚¹ã§å®Œå…¨ãªã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå¯¾å¿œã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹è¨ˆç”»ãŒã‚ã‚Šã¾ã™ã€‚"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="2. è€éšœå®³æ€§ã®æ§‹ç¯‰ :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="OpenTelemetry Collector ã® FileStorage Extension ã¯ã€ã‚ˆã‚Šè€éšœå®³æ€§ã®é«˜ã„ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®é‡è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Collector ã¯å‡¦ç†ä¸­ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºå®Ÿã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã—ã€ãƒªãƒˆãƒ©ã‚¤ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã—ã€è²´é‡ãªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã‚’å¤±ã†ã“ã¨ãªãä¸€æ™‚çš„ãªéšœå®³ã‚’é©åˆ‡ã«å‡¦ç†ã§ãã¾ã™ã€‚
FileStorage ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€Collector ã¯ä¸­é–“çŠ¶æ…‹ã‚’ãƒ‡ã‚£ã‚¹ã‚¯ã«æ°¸ç¶šåŒ–ã§ãã‚‹ãŸã‚ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ä¸­æ–­ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®åœæ­¢ã€ã¾ãŸã¯ Collector ã®å†èµ·å‹•æ™‚ã«ã‚‚ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒ­ã‚°ãŒå¤±ã‚ã‚Œãªã„ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãŒåˆ‡æ–­ã•ã‚ŒãŸã‚Šã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒä¸€æ™‚çš„ã«åˆ©ç”¨ã§ããªããªã£ãŸã‚Šã—ã¦ã‚‚ã€Collector ã¯ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã®å—ä¿¡ã¨ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã‚’ç¶™ç¶šã—ã€æ¥ç¶šãŒå¾©æ—§ã™ã‚‹ã¨é…ä¿¡ã‚’ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«å†é–‹ã—ã¾ã™ã€‚
FileStorage Extension ã‚’ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ±åˆã™ã‚‹ã“ã¨ã§ã€ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ã‚¹ã‚¿ãƒƒã‚¯ã®è€ä¹…æ€§ã‚’å¼·åŒ–ã—ã€æ¥ç¶šãŒä¸å®‰å®šãªç’°å¢ƒã§ã‚‚é«˜å“è³ªãªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼å–ã‚Šè¾¼ã¿ã‚’ç¶­æŒã§ãã¾ã™ã€‚ ãƒ¡ãƒ¢ ã“ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æ¥ç¶šãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒçŸ­ã„å ´åˆï¼ˆæœ€å¤§15åˆ†ï¼‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«å¯¾ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒã“ã‚Œã‚’è¶…ãˆã‚‹ã¨ã€Splunk Observability Cloud ã¯ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®é †åºãŒä¹±ã‚Œãªã„ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
ãƒ­ã‚°ã«ã¤ã„ã¦ã¯ã€ä»Šå¾Œã® Splunk OpenTelemetry Collector ãƒªãƒªãƒ¼ã‚¹ã§å®Œå…¨ãªã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå¯¾å¿œã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹è¨ˆç”»ãŒã‚ã‚Šã¾ã™ã€‚"><meta property="og:url" content="https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/2-building-resilience/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="2. è€éšœå®³æ€§ã®æ§‹ç¯‰ :: Splunk Observability Cloud Workshops"><meta property="og:description" content="OpenTelemetry Collector ã® FileStorage Extension ã¯ã€ã‚ˆã‚Šè€éšœå®³æ€§ã®é«˜ã„ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®é‡è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Collector ã¯å‡¦ç†ä¸­ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºå®Ÿã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã—ã€ãƒªãƒˆãƒ©ã‚¤ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã—ã€è²´é‡ãªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã‚’å¤±ã†ã“ã¨ãªãä¸€æ™‚çš„ãªéšœå®³ã‚’é©åˆ‡ã«å‡¦ç†ã§ãã¾ã™ã€‚
FileStorage ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€Collector ã¯ä¸­é–“çŠ¶æ…‹ã‚’ãƒ‡ã‚£ã‚¹ã‚¯ã«æ°¸ç¶šåŒ–ã§ãã‚‹ãŸã‚ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ä¸­æ–­ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®åœæ­¢ã€ã¾ãŸã¯ Collector ã®å†èµ·å‹•æ™‚ã«ã‚‚ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒ­ã‚°ãŒå¤±ã‚ã‚Œãªã„ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãŒåˆ‡æ–­ã•ã‚ŒãŸã‚Šã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒä¸€æ™‚çš„ã«åˆ©ç”¨ã§ããªããªã£ãŸã‚Šã—ã¦ã‚‚ã€Collector ã¯ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã®å—ä¿¡ã¨ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã‚’ç¶™ç¶šã—ã€æ¥ç¶šãŒå¾©æ—§ã™ã‚‹ã¨é…ä¿¡ã‚’ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«å†é–‹ã—ã¾ã™ã€‚
FileStorage Extension ã‚’ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ±åˆã™ã‚‹ã“ã¨ã§ã€ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ã‚¹ã‚¿ãƒƒã‚¯ã®è€ä¹…æ€§ã‚’å¼·åŒ–ã—ã€æ¥ç¶šãŒä¸å®‰å®šãªç’°å¢ƒã§ã‚‚é«˜å“è³ªãªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼å–ã‚Šè¾¼ã¿ã‚’ç¶­æŒã§ãã¾ã™ã€‚ ãƒ¡ãƒ¢ ã“ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æ¥ç¶šãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒçŸ­ã„å ´åˆï¼ˆæœ€å¤§15åˆ†ï¼‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«å¯¾ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒã“ã‚Œã‚’è¶…ãˆã‚‹ã¨ã€Splunk Observability Cloud ã¯ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®é †åºãŒä¹±ã‚Œãªã„ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
ãƒ­ã‚°ã«ã¤ã„ã¦ã¯ã€ä»Šå¾Œã® Splunk OpenTelemetry Collector ãƒªãƒªãƒ¼ã‚¹ã§å®Œå…¨ãªã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå¯¾å¿œã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹è¨ˆç”»ãŒã‚ã‚Šã¾ã™ã€‚"><meta property="og:locale" content="ja"><meta property="og:type" content="website"><meta itemprop=name content="2. è€éšœå®³æ€§ã®æ§‹ç¯‰ :: Splunk Observability Cloud Workshops"><meta itemprop=description content="OpenTelemetry Collector ã® FileStorage Extension ã¯ã€ã‚ˆã‚Šè€éšœå®³æ€§ã®é«˜ã„ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®é‡è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Collector ã¯å‡¦ç†ä¸­ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºå®Ÿã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã—ã€ãƒªãƒˆãƒ©ã‚¤ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã—ã€è²´é‡ãªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã‚’å¤±ã†ã“ã¨ãªãä¸€æ™‚çš„ãªéšœå®³ã‚’é©åˆ‡ã«å‡¦ç†ã§ãã¾ã™ã€‚
FileStorage ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€Collector ã¯ä¸­é–“çŠ¶æ…‹ã‚’ãƒ‡ã‚£ã‚¹ã‚¯ã«æ°¸ç¶šåŒ–ã§ãã‚‹ãŸã‚ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ä¸­æ–­ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®åœæ­¢ã€ã¾ãŸã¯ Collector ã®å†èµ·å‹•æ™‚ã«ã‚‚ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒ­ã‚°ãŒå¤±ã‚ã‚Œãªã„ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãŒåˆ‡æ–­ã•ã‚ŒãŸã‚Šã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒä¸€æ™‚çš„ã«åˆ©ç”¨ã§ããªããªã£ãŸã‚Šã—ã¦ã‚‚ã€Collector ã¯ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã®å—ä¿¡ã¨ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã‚’ç¶™ç¶šã—ã€æ¥ç¶šãŒå¾©æ—§ã™ã‚‹ã¨é…ä¿¡ã‚’ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«å†é–‹ã—ã¾ã™ã€‚
FileStorage Extension ã‚’ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ±åˆã™ã‚‹ã“ã¨ã§ã€ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ã‚¹ã‚¿ãƒƒã‚¯ã®è€ä¹…æ€§ã‚’å¼·åŒ–ã—ã€æ¥ç¶šãŒä¸å®‰å®šãªç’°å¢ƒã§ã‚‚é«˜å“è³ªãªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼å–ã‚Šè¾¼ã¿ã‚’ç¶­æŒã§ãã¾ã™ã€‚ ãƒ¡ãƒ¢ ã“ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æ¥ç¶šãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒçŸ­ã„å ´åˆï¼ˆæœ€å¤§15åˆ†ï¼‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«å¯¾ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒã“ã‚Œã‚’è¶…ãˆã‚‹ã¨ã€Splunk Observability Cloud ã¯ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®é †åºãŒä¹±ã‚Œãªã„ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
ãƒ­ã‚°ã«ã¤ã„ã¦ã¯ã€ä»Šå¾Œã® Splunk OpenTelemetry Collector ãƒªãƒªãƒ¼ã‚¹ã§å®Œå…¨ãªã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå¯¾å¿œã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹è¨ˆç”»ãŒã‚ã‚Šã¾ã™ã€‚"><meta itemprop=dateModified content="2026-01-09T14:22:11+09:00"><meta itemprop=wordCount content="26"><title>2. è€éšœå®³æ€§ã®æ§‹ç¯‰ :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/en/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/2-building-resilience/index.html rel=alternate hreflang=x-default><link href=https://splunk.github.io/observability-workshop/en/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/2-building-resilience/index.html rel=alternate hreflang=en><link href=https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/2-building-resilience/index.html rel=alternate hreflang=ja><link href=https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/2-building-resilience/index.html rel=canonical type=text/html title="2. è€éšœå®³æ€§ã®æ§‹ç¯‰ :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/images/favicon.ico?1770895865 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/css/auto-complete/auto-complete.min.css?1770895865 rel=stylesheet><script src=/observability-workshop/js/auto-complete/auto-complete.min.js?1770895865 defer></script><script src=/observability-workshop/js/search-lunr.min.js?1770895865 defer></script><script src=/observability-workshop/js/search.min.js?1770895865 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/searchindex.ja.js?1770895865"</script><script src=/observability-workshop/js/lunr/lunr.min.js?1770895865 defer></script><script src=/observability-workshop/js/lunr/lunr.stemmer.support.min.js?1770895865 defer></script><script src=/observability-workshop/js/lunr/lunr.multi.min.js?1770895865 defer></script><script src=/observability-workshop/js/lunr/tinyseg.js?1770895865 defer></script><script src=/observability-workshop/js/lunr/lunr.ja.min.js?1770895865 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["ja"]</script><link href=/observability-workshop/fonts/fontawesome/css/all.min.css?1770895865 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/fonts/fontawesome/css/all.min.css?1770895865 rel=stylesheet></noscript><link href=/observability-workshop/css/perfect-scrollbar/perfect-scrollbar.min.css?1770895865 rel=stylesheet><link href=/observability-workshop/css/theme.min.css?1770895865 rel=stylesheet><link href=/observability-workshop/css/format-print.min.css?1770895865 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/2-building-resilience/index.html",window.relearn.relBasePath="../../../../..",window.relearn.relBaseUri="../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop",window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.T_Copy_to_clipboard=`ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼`,window.T_Copied_to_clipboard=`ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!`,window.T_Link_copied_to_clipboard=`ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!`,window.T_Reset_view=`ãƒ“ãƒ¥ãƒ¼ã®ãƒªã‚»ãƒƒãƒˆ`,window.T_View_reset=`ãƒªã‚»ãƒƒãƒˆã‚’è¦‹ã‚‹`,window.T_No_results_found=`"{0}" ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`,window.T_N_results_found=`"{0}" ã§ {1} ä»¶ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`,window.T_Browser_unsupported_feature=`ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã“ã®æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantprefix="my-custom-",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant")??"";(!e||!e.startsWith(window.relearn.customvariantprefix)&&!window.relearn.themevariants.includes(e)||e.startsWith(window.relearn.customvariantprefix)&&!window.localStorage.getItem(window.relearn.absBaseUri+"/variantstylesheet-"+e))&&(e=window.relearn.themevariants[0],window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({appplicationName:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",recorder:"splunk",features:{video:!0}})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-origin=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/2-building-resilience/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar class=default-animation><div class="topbar-wrapper default-animation"><div class="topbar-sidebar-divider default-animation"></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar default-animation" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleNav() type=button title="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></span></div><div class="topbar-button topbar-button-toc default-animation" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title="ç›®æ¬¡ (CTRL+ALT+t)"><i class="fa-fw fas fa-table-list"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/index.html><span itemprop=name>Splunk4Ninjas Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/index.html><span itemprop=name>OpenTelemetry Collector ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/index.html><span itemprop=name>Advanced OpenTelemetry Collector</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>2. Building Resilience</span><meta itemprop=position content="5"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print default-animation" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/2-building-resilience/index.print.html title="ç« å…¨ä½“ã‚’å°åˆ·ã™ã‚‹ (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span></div><div class="topbar-button topbar-button-prev default-animation" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/1-agent-gateway/1-2-send-metrics/index.html title="1.2 è¨­å®šã®æ¤œè¨¼ã¨ãƒ†ã‚¹ãƒˆ (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span></div><div class="topbar-button topbar-button-next default-animation" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/2-building-resilience/2-1-configuration/index.html title="2.1 File Storage ã®è¨­å®š (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span></div><div class="topbar-button topbar-button-more default-animation" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title=æ›´ã«><i class="fa-fw fas fa-ellipsis-v"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable ninja-workshops" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=2-è€éšœå®³æ€§ã®æ§‹ç¯‰>2. è€éšœå®³æ€§ã®æ§‹ç¯‰</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p>OpenTelemetry Collector ã® <a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/19bc7d6ee854c0c1b5c97d8d348e5b9d1199e8aa/extension/storage/filestorage/README.md rel=external><strong>FileStorage Extension</strong></a> ã¯ã€ã‚ˆã‚Šè€éšœå®³æ€§ã®é«˜ã„ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®é‡è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Collector ã¯å‡¦ç†ä¸­ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºå®Ÿã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã—ã€ãƒªãƒˆãƒ©ã‚¤ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã—ã€è²´é‡ãªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã‚’å¤±ã†ã“ã¨ãªãä¸€æ™‚çš„ãªéšœå®³ã‚’é©åˆ‡ã«å‡¦ç†ã§ãã¾ã™ã€‚</p><p>FileStorage ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€Collector ã¯ä¸­é–“çŠ¶æ…‹ã‚’ãƒ‡ã‚£ã‚¹ã‚¯ã«æ°¸ç¶šåŒ–ã§ãã‚‹ãŸã‚ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ä¸­æ–­ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®åœæ­¢ã€ã¾ãŸã¯ Collector ã®å†èµ·å‹•æ™‚ã«ã‚‚ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒ­ã‚°ãŒå¤±ã‚ã‚Œãªã„ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãŒåˆ‡æ–­ã•ã‚ŒãŸã‚Šã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒä¸€æ™‚çš„ã«åˆ©ç”¨ã§ããªããªã£ãŸã‚Šã—ã¦ã‚‚ã€Collector ã¯ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã®å—ä¿¡ã¨ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã‚’ç¶™ç¶šã—ã€æ¥ç¶šãŒå¾©æ—§ã™ã‚‹ã¨é…ä¿¡ã‚’ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«å†é–‹ã—ã¾ã™ã€‚</p><p>FileStorage Extension ã‚’ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ±åˆã™ã‚‹ã“ã¨ã§ã€ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ã‚¹ã‚¿ãƒƒã‚¯ã®è€ä¹…æ€§ã‚’å¼·åŒ–ã—ã€æ¥ç¶šãŒä¸å®‰å®šãªç’°å¢ƒã§ã‚‚é«˜å“è³ªãªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼å–ã‚Šè¾¼ã¿ã‚’ç¶­æŒã§ãã¾ã™ã€‚<details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
ãƒ¡ãƒ¢</summary><div class=box-content><p>ã“ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æ¥ç¶šãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒçŸ­ã„å ´åˆï¼ˆæœ€å¤§15åˆ†ï¼‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«å¯¾ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒã“ã‚Œã‚’è¶…ãˆã‚‹ã¨ã€Splunk Observability Cloud ã¯ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®é †åºãŒä¹±ã‚Œãªã„ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p><p>ãƒ­ã‚°ã«ã¤ã„ã¦ã¯ã€ä»Šå¾Œã® Splunk OpenTelemetry Collector ãƒªãƒªãƒ¼ã‚¹ã§å®Œå…¨ãªã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå¯¾å¿œã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹è¨ˆç”»ãŒã‚ã‚Šã¾ã™ã€‚</p></div></details></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/09</span></span></footer></article><section><h1 class=a11y-only>2. Building Resilienceã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=21-file-storage-ã®è¨­å®š>2.1 File Storage ã®è¨­å®š</h1><p>ã“ã®æ¼”ç¿’ã§ã¯ã€<code>agent.yaml</code> ãƒ•ã‚¡ã‚¤ãƒ«ã® <code>extensions:</code> ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ›´æ–°ã—ã¾ã™ã€‚ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ OpenTelemetry è¨­å®š YAML ã®ä¸€éƒ¨ã§ã‚ã‚Šã€OpenTelemetry Collector ã®å‹•ä½œã‚’æ‹¡å¼µã¾ãŸã¯å¤‰æ›´ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©ã—ã¾ã™ã€‚</p><p>ã“ã‚Œã‚‰ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥å‡¦ç†ã—ã¾ã›ã‚“ãŒã€Collector ã®æ©Ÿèƒ½ã‚’å‘ä¸Šã•ã›ã‚‹è²´é‡ãªæ©Ÿèƒ½ã¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><details open class="box cstyle notices important"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-bolt"></i>
é‡è¦</summary><div class=box-content><p><strong><em>ã™ã¹ã¦ã®</em> ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ <code>2-building-resilience</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€<code>clear</code> ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚</strong></p></div></details><p>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-84daeb01d539f2f4b4b7b67bb52b301c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-f94eeefbd6d48ab9c8f955058dd034a0 aria-expanded=true data-tab-item=R-tab-5a476a4994a778a4fb1b2011e6c9054c class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-84daeb01d539f2f4b4b7b67bb52b301c","R-tab-5a476a4994a778a4fb1b2011e6c9054c")'>
<span class=tab-nav-text>Updated Directory Structure</span></button></div><div class=tab-content-container><div id=R-tab-id-f94eeefbd6d48ab9c8f955058dd034a0 data-tab-item=R-tab-5a476a4994a778a4fb1b2011e6c9054c class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>â”œâ”€â”€ agent.yaml
</span></span><span class=line><span class=cl>â””â”€â”€ gateway.yaml</span></span></code></pre></div></div></div></div></div><p><strong><code>agent.yaml</code> ã®æ›´æ–°</strong>: <strong>Agent ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã€æ—¢å­˜ã® <code>health_check</code> Extension ã®ä¸‹ã« <code>file_storage</code> Extension ã‚’è¿½åŠ ã—ã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>  </span><span class=nt>file_storage/checkpoint</span><span class=p>:</span><span class=w>             </span><span class=c># Extension Type/Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>directory</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;./checkpoint-dir&#34;</span><span class=w>      </span><span class=c># Define directory</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>create_directory</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>             </span><span class=c># Create directory</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class=l>1s                       </span><span class=w> </span><span class=c># Timeout for file operations</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>compaction</span><span class=p>:</span><span class=w>                        </span><span class=c># Compaction settings</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>on_start</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>                   </span><span class=c># Start compaction at Collector startup</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Define compaction directory</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>directory</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;./checkpoint-dir/tmp&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>max_transaction_size</span><span class=p>:</span><span class=w> </span><span class=m>65536</span><span class=w>      </span><span class=c># Max. size limit before compaction occurs</span></span></span></code></pre></div><p><strong>Exporter ã¸ã® <code>file_storage</code> ã®è¿½åŠ </strong>: <code>otlphttp</code> Exporter ã‚’å¤‰æ›´ã—ã¦ã€ãƒªãƒˆãƒ©ã‚¤ã¨ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’è¨­å®šã—ã€éšœå®³ãŒç™ºç”Ÿã—ãŸå ´åˆã«ãƒ‡ãƒ¼ã‚¿ãŒä¿æŒã•ã‚Œå†é€ä¿¡ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚<code>endpoint: "http://localhost:5318"</code> ã®ä¸‹ã«ä»¥ä¸‹ã‚’è¿½åŠ ã—ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒ <code>endpoint</code> ã¨ä¸€è‡´ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>retry_on_failure</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>                    </span><span class=c># Enable retry on failure</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>sending_queue</span><span class=p>:</span><span class=w>                     </span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>                    </span><span class=c># Enable sending queue</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>num_consumers</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>                </span><span class=c># No. of consumers</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>queue_size</span><span class=p>:</span><span class=w> </span><span class=m>10000</span><span class=w>                </span><span class=c># Max. queue size</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class=l>file_storage/checkpoint</span><span class=w> </span><span class=c># File storage extension</span></span></span></code></pre></div><p><strong><code>services</code> ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æ›´æ–°</strong>: æ—¢å­˜ã® <code>extensions:</code> ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã« <code>file_storage/checkpoint</code> Extension ã‚’è¿½åŠ ã—ã¾ã™ã€‚è¨­å®šã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>extensions</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>health_check</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>file_storage/checkpoint           </span><span class=w> </span><span class=c># Enabled extensions for this collector</span></span></span></code></pre></div><p><strong><code>metrics</code> ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ›´æ–°</strong>: ã“ã®æ¼”ç¿’ã§ã¯ã€ãƒ‡ãƒãƒƒã‚°ã¨ãƒ­ã‚°ã®ãƒã‚¤ã‚ºã‚’æ¸›ã‚‰ã™ãŸã‚ã«ã€Metric ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‹ã‚‰ <code>hostmetrics</code> Receiver ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¾ã™ã€‚è¨­å®šã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># - hostmetrics                    # Hostmetric reciever (cpu only)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>otlp</span></span></span></code></pre></div></div></details><p><strong><a href=https://www.otelbin.io/ rel=external>otelbin.io</a></strong> ã‚’ä½¿ç”¨ã—ã¦ <strong>Agent</strong> è¨­å®šã‚’æ¤œè¨¼ã—ã¦ãã ã•ã„ã€‚å‚è€ƒã¾ã§ã«ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã® <code>metrics:</code> ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™</p><pre class="mermaid actionbar-wrapper align-center">%%{init:{&#34;fontFamily&#34;:&#34;monospace&#34;}}%%
graph LR
    %% Nodes
      REC1(&amp;nbsp;&amp;nbsp;otlp&amp;nbsp;&amp;nbsp;&lt;br&gt;fa:fa-download):::receiver
      PRO1(memory_limiter&lt;br&gt;fa:fa-microchip):::processor
      PRO2(resourcedetection&lt;br&gt;fa:fa-microchip):::processor
      PRO3(resource&lt;br&gt;fa:fa-microchip&lt;br&gt;add_mode):::processor
      EXP1(&amp;ensp;debug&amp;ensp;&lt;br&gt;fa:fa-upload):::exporter
      EXP2(otlphttp&lt;br&gt;fa:fa-upload):::exporter
      EXP3(&amp;ensp;file&amp;ensp;&lt;br&gt;fa:fa-upload):::exporter
    %% Links
    subID1:::sub-metrics
    subgraph &#34; &#34;
      subgraph subID1[**Metrics**]
      direction LR
      REC1 --&gt; PRO1
      PRO1 --&gt; PRO2
      PRO2 --&gt; PRO3
      PRO3 --&gt; EXP1
      PRO3 --&gt; EXP3
      PRO3 --&gt; EXP2
      end
    end
classDef receiver,exporter fill:#8b5cf6,stroke:#333,stroke-width:1px,color:#fff;
classDef processor fill:#6366f1,stroke:#333,stroke-width:1px,color:#fff;
classDef con-receive,con-export fill:#45c175,stroke:#333,stroke-width:1px,color:#fff;
classDef sub-metrics stroke:#38bdf8,stroke-width:1px, color:#38bdf8,stroke-dasharray: 3 3;</pre><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><article class=default><header class=headline></header><h1 id=22-è€éšœå®³æ€§ãƒ†ã‚¹ãƒˆç”¨ã®ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—>2.2 è€éšœå®³æ€§ãƒ†ã‚¹ãƒˆç”¨ã®ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</h1><p>æ¬¡ã«ã€<strong>File Storage</strong> è¨­å®šã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹æº–å‚™ã¨ã—ã¦ç’°å¢ƒã‚’è¨­å®šã—ã¾ã™ã€‚</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p><strong>Gateway ã®èµ·å‹•</strong>: <strong>Gateway ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-36f09a378dfe3f15bc040ee505a382c4><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-e3353da453a7b350e61ed5415be9c5ed aria-expanded=true data-tab-item=R-tab-dc146ad677dc5dd9c26a2a6537f98eb7 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-36f09a378dfe3f15bc040ee505a382c4","R-tab-dc146ad677dc5dd9c26a2a6537f98eb7")'>
<span class=tab-nav-text>Start the Gateway</span></button></div><div class=tab-content-container><div id=R-tab-id-e3353da453a7b350e61ed5415be9c5ed data-tab-item=R-tab-dc146ad677dc5dd9c26a2a6537f98eb7 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>gateway.yaml</span></span></code></pre></div></div></div></div></div><p><strong>Agent ã®èµ·å‹•</strong>: <strong>Agent ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-6778fa7161b818f203d9e312e8a108d7><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-aef83489a680a1bf27f8f41dfb7eb7e2 aria-expanded=true data-tab-item=R-tab-e2d8debf4ffe3bb6331201655f536d9d class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-6778fa7161b818f203d9e312e8a108d7","R-tab-e2d8debf4ffe3bb6331201655f536d9d")'>
<span class=tab-nav-text>Start the Agent</span></button></div><div class=tab-content-container><div id=R-tab-id-aef83489a680a1bf27f8f41dfb7eb7e2 data-tab-item=R-tab-e2d8debf4ffe3bb6331201655f536d9d class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>agent.yaml</span></span></code></pre></div></div></div></div></div><p><strong>5ã¤ã®ãƒ†ã‚¹ãƒˆã‚¹ãƒ‘ãƒ³ã‚’é€ä¿¡</strong>: <strong>Loadgen ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-b744dca8c90ba7a42f3fc66e9e94a9dc><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-498a9a3f1f939af89222f834c98d6faa aria-expanded=true data-tab-item=R-tab-5386e98c2a18696103b86ab3f8520915 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-b744dca8c90ba7a42f3fc66e9e94a9dc","R-tab-5386e98c2a18696103b86ab3f8520915")'>
<span class=tab-nav-text>Start Load Generator</span></button></div><div class=tab-content-container><div id=R-tab-id-498a9a3f1f939af89222f834c98d6faa data-tab-item=R-tab-5386e98c2a18696103b86ab3f8520915 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../loadgen -count <span class=m>5</span></span></span></code></pre></div></div></div></div></div><p><strong>Agent</strong> ã¨ <strong>Gateway</strong> ã®ä¸¡æ–¹ãŒãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã€<strong>Gateway</strong> ãŒ <code>./gateway-traces.out</code> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã¯ãšã§ã™ã€‚</p><p>ã™ã¹ã¦ãŒæ­£å¸¸ã«æ©Ÿèƒ½ã—ã¦ã„ã‚‹å ´åˆã€ã‚·ã‚¹ãƒ†ãƒ ã®è€éšœå®³æ€§ã®ãƒ†ã‚¹ãƒˆã«é€²ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><article class=default><header class=headline></header><h1 id=23-éšœå®³ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³>2.3 éšœå®³ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h1><p><strong>Agent</strong> ã®è€éšœå®³æ€§ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã«ã€ä¸€æ™‚çš„ãª <strong>Gateway</strong> ã®åœæ­¢ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã€<strong>Agent</strong> ãŒãã‚Œã‚’ã©ã®ã‚ˆã†ã«å‡¦ç†ã™ã‚‹ã‹ã‚’è¦³å¯Ÿã—ã¾ã™</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p><strong>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</strong>: <strong>Gateway ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã§ <code>Ctrl-C</code> ã‚’ä½¿ç”¨ã—ã¦ <strong>Gateway</strong> ã‚’åœæ­¢ã—ã€Gateway ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãŒåœæ­¢ã—ãŸã“ã¨ã‚’ç¤ºã™ã¾ã§å¾…ã¡ã¾ã™ã€‚<strong>Agent</strong> ã¯å¼•ãç¶šãå®Ÿè¡Œã•ã‚Œã¾ã™ãŒã€Gateway ã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã§ãã¾ã›ã‚“ã€‚<strong>Gateway ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã®å‡ºåŠ›ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>2025-07-09T10:22:37.941Z        info    service@v0.126.0/service.go:345 Shutdown complete.      {&#34;resource&#34;: {}}</span></span></code></pre></div><p><strong>ãƒˆãƒ¬ãƒ¼ã‚¹ã®é€ä¿¡</strong>: <strong>Loadgen ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã€<code>loadgen</code> ã‚’ä½¿ç”¨ã—ã¦ã•ã‚‰ã«5ã¤ã®ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’é€ä¿¡ã—ã¾ã™ã€‚</p><div class=tab-panel data-tab-group=R-tabs-f5c3bee1e7ac41722aaa89969615af26><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-6e0f4526f7d03f1ea4cf32230a100dbf aria-expanded=true data-tab-item=R-tab-5386e98c2a18696103b86ab3f8520915 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-f5c3bee1e7ac41722aaa89969615af26","R-tab-5386e98c2a18696103b86ab3f8520915")'>
<span class=tab-nav-text>Start Load Generator</span></button></div><div class=tab-content-container><div id=R-tab-id-6e0f4526f7d03f1ea4cf32230a100dbf data-tab-item=R-tab-5386e98c2a18696103b86ab3f8520915 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../loadgen -count <span class=m>5</span></span></span></code></pre></div></div></div></div></div><p>Agent ã®ãƒªãƒˆãƒ©ã‚¤ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒæœ‰åŠ¹ã«ãªã‚Šã€ãƒ‡ãƒ¼ã‚¿ã‚’å†é€ä¿¡ã—ã‚ˆã†ã¨ç¶™ç¶šçš„ã«è©¦ã¿ã¦ã„ã‚‹ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚Agent ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç¹°ã‚Šè¿”ã—è¡¨ç¤ºã•ã‚Œã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>2025-01-28T14:22:47.020+0100  info  internal/retry_sender.go:126  Exporting failed. Will retry the request after interval.  {&#34;kind&#34;: &#34;exporter&#34;, &#34;data_type&#34;: &#34;traces&#34;, &#34;name&#34;: &#34;otlphttp&#34;, &#34;error&#34;: &#34;failed to make an HTTP request: Post \&#34;http://localhost:5318/v1/traces\&#34;: dial tcp 127.0.0.1:5318: connect: connection refused&#34;, &#34;interval&#34;: &#34;9.471474933s&#34;}</span></span></code></pre></div><p><strong>Agent ã®åœæ­¢</strong>: <strong>Agent ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã€<code>Ctrl-C</code> ã‚’ä½¿ç”¨ã—ã¦ Agent ã‚’åœæ­¢ã—ã¾ã™ã€‚Agent ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãŒåœæ­¢ã‚’ç¢ºèªã™ã‚‹ã¾ã§å¾…ã¡ã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>2025-07-09T10:25:59.344Z        info    service@v0.126.0/service.go:345 Shutdown complete.      {&#34;resource&#34;: {}}</span></span></code></pre></div></div></details><details open class="box cstyle notices important"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-bolt"></i>
é‡è¦</summary><div class=box-content><p>Agent ã‚’åœæ­¢ã™ã‚‹ã¨ã€ãƒªãƒˆãƒ©ã‚¤ç”¨ã«ãƒ¡ãƒ¢ãƒªã«ä¿æŒã•ã‚Œã¦ã„ã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ­ã‚°ã¯å¤±ã‚ã‚Œã¾ã™ã€‚ãŸã ã—ã€FileStorage Extension ã‚’è¨­å®šã—ã¦ã„ã‚‹ãŸã‚ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ã¾ã å—ã‘å…¥ã‚Œã‚‰ã‚Œã¦ã„ãªã„ã™ã¹ã¦ã®ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã¯ãƒ‡ã‚£ã‚¹ã‚¯ã«å®‰å…¨ã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p><p>Agent ã®åœæ­¢ã¯ã€Agent ãŒå†èµ·å‹•ã•ã‚ŒãŸã¨ãã«ã‚·ã‚¹ãƒ†ãƒ ãŒã©ã®ã‚ˆã†ã«å¾©æ—§ã™ã‚‹ã‹ã‚’æ˜ç¢ºã«ç¤ºã™ãŸã‚ã®é‡è¦ãªã‚¹ãƒ†ãƒƒãƒ—ã§ã™ã€‚</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><article class=default><header class=headline></header><h1 id=24-å¾©æ—§>2.4 å¾©æ—§</h1><p>ã“ã®æ¼”ç¿’ã§ã¯ã€<strong>Gateway</strong> Collector ã‚’å†èµ·å‹•ã™ã‚‹ã“ã¨ã§ã€<strong>OpenTelemetry Collector</strong> ãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³ã‹ã‚‰ã©ã®ã‚ˆã†ã«å¾©æ—§ã™ã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚<strong>Gateway</strong> ãŒå†ã³åˆ©ç”¨å¯èƒ½ã«ãªã‚‹ã¨ã€<strong>Agent</strong> ã¯æœ€å¾Œã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã•ã‚ŒãŸçŠ¶æ…‹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã®é€ä¿¡ã‚’å†é–‹ã—ã€ãƒ‡ãƒ¼ã‚¿æå¤±ãŒãªã„ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p><strong>Gateway ã®å†èµ·å‹•</strong>: <strong>Gateway ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-2a95fe8356873140a61c5413821bb252><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-db8b77acaf06046d39264c4fa5c9befd aria-expanded=true data-tab-item=R-tab-dc146ad677dc5dd9c26a2a6537f98eb7 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-2a95fe8356873140a61c5413821bb252","R-tab-dc146ad677dc5dd9c26a2a6537f98eb7")'>
<span class=tab-nav-text>Start the Gateway</span></button></div><div class=tab-content-container><div id=R-tab-id-db8b77acaf06046d39264c4fa5c9befd data-tab-item=R-tab-dc146ad677dc5dd9c26a2a6537f98eb7 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>gateway.yaml</span></span></code></pre></div></div></div></div></div><p><strong>Agent ã®å†èµ·å‹•</strong>: <strong>Agent ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-fe48d0aa9aebe7bfb29ea20b5039f459><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-4fe32cd9e0d76edbb573563218ac69e4 aria-expanded=true data-tab-item=R-tab-e2d8debf4ffe3bb6331201655f536d9d class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-fe48d0aa9aebe7bfb29ea20b5039f459","R-tab-e2d8debf4ffe3bb6331201655f536d9d")'>
<span class=tab-nav-text>Start the Agent</span></button></div><div class=tab-content-container><div id=R-tab-id-4fe32cd9e0d76edbb573563218ac69e4 data-tab-item=R-tab-e2d8debf4ffe3bb6331201655f536d9d class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>agent.yaml</span></span></code></pre></div></div></div></div></div><blockquote><p><strong>Agent</strong> ãŒèµ·å‹•ã—ã¦å®Ÿè¡Œã•ã‚Œã‚‹ã¨ã€<strong>File_Storage</strong> Extension ãŒãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã®ãƒãƒƒãƒ•ã‚¡ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’æ¤œå‡ºã—ã¾ã™ã€‚æœ€å¾Œã®ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‹ã‚‰ä¿å­˜ã•ã‚ŒãŸã‚¹ãƒ‘ãƒ³ã‚’ãƒ‡ã‚­ãƒ¥ãƒ¼ã—å§‹ã‚ã€ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œãªã„ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚</p></blockquote><p><strong>Agent ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ã®ç¢ºèª:</strong> <strong>Agent</strong> ã®ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ã¯å¤‰åŒ–<strong>ã›ãš</strong>ã€ä»¥ä¸‹ã®è¡Œã‚’è¡¨ç¤ºã—ç¶šã‘ã€æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãŒã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¤ºã—ã¦ã„ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>2025-07-11T08:31:58.176Z        info    service@v0.126.0/service.go:289 Everything is ready. Begin running and processing data.   {&#34;resource&#34;: {}}</span></span></code></pre></div><p><strong>Gateway ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ã®ç¢ºèª</strong>
<strong>Gateway</strong> ã®ãƒ‡ãƒãƒƒã‚°ç”»é¢ã‹ã‚‰ã€ä»¥å‰è¦‹é€ƒã•ã‚Œã¦ã„ãŸãƒˆãƒ¬ãƒ¼ã‚¹ã‚’è¿½åŠ ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãªã—ã§å—ä¿¡ã—å§‹ã‚ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã‚‹ã¯ãšã§ã™ã€‚ä¾‹</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>Attributes:
</span></span><span class=line><span class=cl>   -&gt; user.name: Str(Luke Skywalker)
</span></span><span class=line><span class=cl>   -&gt; user.phone_number: Str(+1555-867-5309)
</span></span><span class=line><span class=cl>   -&gt; user.email: Str(george@deathstar.email)
</span></span><span class=line><span class=cl>   -&gt; user.password: Str(LOTR&gt;StarWars1-2-3)
</span></span><span class=line><span class=cl>   -&gt; user.visa: Str(4111 1111 1111 1111)
</span></span><span class=line><span class=cl>   -&gt; user.amex: Str(3782 822463 10005)
</span></span><span class=line><span class=cl>   -&gt; user.mastercard: Str(5555 5555 5555 4444)
</span></span><span class=line><span class=cl>   -&gt; payment.amount: Double(75.75)
</span></span><span class=line><span class=cl>      {&#34;resource&#34;: {}, &#34;otelcol.component.id&#34;: &#34;debug&#34;, &#34;otelcol.component.kind&#34;: &#34;exporter&#34;, &#34;otelcol.signal&#34;: &#34;traces&#34;}</span></span></code></pre></div><p><strong><code>gateway-traces.out</code> ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª:</strong> <code>jq</code> ã‚’ä½¿ç”¨ã—ã¦ã€å†ä½œæˆã•ã‚ŒãŸ <code>gateway-traces.out</code> å†…ã®ãƒˆãƒ¬ãƒ¼ã‚¹æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ã¾ã™ã€‚<strong>Gateway</strong> ãŒãƒ€ã‚¦ãƒ³ã—ã¦ã„ãŸã¨ãã«é€ä¿¡ã—ãŸæ•°ã¨ä¸€è‡´ã™ã‚‹ã¯ãšã§ã™ã€‚</p><div class=tab-panel data-tab-group=R-tabs-10c8896bf37d1381dd33fbab8373466a><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-6556e683bc1c58f705478aee58514090 aria-expanded=true data-tab-item=R-tab-4e2ba08c3a1a44c321b4ef1ba3812149 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-10c8896bf37d1381dd33fbab8373466a","R-tab-4e2ba08c3a1a44c321b4ef1ba3812149")'>
<span class=tab-nav-text>Check Gateway Traces Out File</span>
</button>
<button aria-controls=R-tab-id-83f7e8d07e57d5bd7eae760ff2f1a3c3 aria-expanded=false data-tab-item=R-tab-587b796170a9abac4701cd8aa1bb38cb class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-10c8896bf37d1381dd33fbab8373466a","R-tab-587b796170a9abac4701cd8aa1bb38cb")'>
<span class=tab-nav-text>Example output</span></button></div><div class=tab-content-container><div id=R-tab-id-6556e683bc1c58f705478aee58514090 data-tab-item=R-tab-4e2ba08c3a1a44c321b4ef1ba3812149 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>jq <span class=s1>&#39;.resourceSpans | length | &#34;\(.) resourceSpans found&#34;&#39;</span> gateway-traces.out</span></span></code></pre></div></div></div><div id=R-tab-id-83f7e8d07e57d5bd7eae760ff2f1a3c3 data-tab-item=R-tab-587b796170a9abac4701cd8aa1bb38cb class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>&#34;5 resourceSpans found&#34;</span></span></code></pre></div></div></div></div></div></div></details><details open class="box cstyle notices important"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-bolt"></i>
é‡è¦</summary><div class=box-content><p><strong>Agent</strong> ã¨ <strong>Gateway</strong> ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã€ãã‚Œãã‚Œã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ <code>Ctrl-C</code> ã‚’æŠ¼ã—ã¦åœæ­¢ã—ã¦ãã ã•ã„ã€‚</p></div></details><h3 id=ã¾ã¨ã‚>ã¾ã¨ã‚<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title=ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><p>ã“ã®æ¼”ç¿’ã§ã¯ã€<code>file_storage</code> Extension ã®è¨­å®šã€<code>otlp</code> Exporter ã®ãƒªãƒˆãƒ©ã‚¤ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã®æœ‰åŠ¹åŒ–ã€ãŠã‚ˆã³ä¸€æ™‚çš„ãªãƒ‡ãƒ¼ã‚¿ä¿å­˜ç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã‚­ãƒ¥ãƒ¼ã®ä½¿ç”¨ã«ã‚ˆã‚Šã€OpenTelemetry Collector ã®è€éšœå®³æ€§ã‚’å¼·åŒ–ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã—ãŸã€‚</p><p>ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã¨ã‚­ãƒ¥ãƒ¼ã®æ°¸ç¶šåŒ–ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã§ã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒä¸€æ™‚çš„ãªä¸­æ–­ã‹ã‚‰é©åˆ‡ã«å¾©æ—§ã§ãã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã€æœ¬ç•ªç’°å¢ƒã§ã‚ˆã‚Šå …ç‰¢ã§ä¿¡é ¼æ€§ã®é«˜ã„ã‚‚ã®ã«ã—ã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article></section></div></main></div><script src=/observability-workshop/js/js-yaml/js-yaml.min.js?1770895865 defer></script><script src=/observability-workshop/js/d3/d3-color.min.js?1770895865 defer></script><script src=/observability-workshop/js/d3/d3-dispatch.min.js?1770895865 defer></script><script src=/observability-workshop/js/d3/d3-drag.min.js?1770895865 defer></script><script src=/observability-workshop/js/d3/d3-ease.min.js?1770895865 defer></script><script src=/observability-workshop/js/d3/d3-interpolate.min.js?1770895865 defer></script><script src=/observability-workshop/js/d3/d3-selection.min.js?1770895865 defer></script><script src=/observability-workshop/js/d3/d3-timer.min.js?1770895865 defer></script><script src=/observability-workshop/js/d3/d3-transition.min.js?1770895865 defer></script><script src=/observability-workshop/js/d3/d3-zoom.min.js?1770895865 defer></script><script src=/observability-workshop/js/mermaid/mermaid.min.js?1770895865 defer></script><script>window.relearn.themeUseMermaid=JSON.parse("{}")</script><script src=/observability-workshop/js/perfect-scrollbar/perfect-scrollbar.min.js?1770895865 defer></script><script src=/observability-workshop/js/theme.min.js?1770895865 defer></script><div id=toast-container role=status aria-live=polite aria-atomic=false></div></body></html>