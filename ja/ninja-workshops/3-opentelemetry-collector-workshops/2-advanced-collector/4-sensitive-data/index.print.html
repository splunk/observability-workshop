<!doctype html><html id=R-html lang=ja dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 9.0.3+9bc97fdf9eaf3af61af9bcc11db2e010de83af95"><meta name=description content="ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€OpenTelemetry Collector ã‚’è¨­å®šã—ã¦ã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼Spanã‹ã‚‰ç‰¹å®šã®ã‚¿ã‚°ã‚’å‰Šé™¤ã—ã€æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ç§˜åŒ¿åŒ–ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã€å€‹äººãƒ‡ãƒ¼ã‚¿ã€ãã®ä»–ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã®è©³ç´°ãªã©ã€å‡¦ç†ã¾ãŸã¯ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å‰ã«åŒ¿ååŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹æ©Ÿå¯†æƒ…å ±ã‚’ä¿è­·ã™ã‚‹ãŸã‚ã«é‡è¦ã§ã™ã€‚
OpenTelemetry Collector ã®ä¸»è¦ãªãƒ—ãƒ­ã‚»ãƒƒã‚µã®è¨­å®šã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™
Attributes Processorï¼šç‰¹å®šã®Spanå±æ€§ã‚’å¤‰æ›´ã¾ãŸã¯å‰Šé™¤ã—ã¾ã™ã€‚ Redaction Processorï¼šæ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã¾ãŸã¯é€ä¿¡ã•ã‚Œã‚‹å‰ã«ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚ Exercise é‡è¦ ã™ã¹ã¦ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ 4-sensitive-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€clear ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
3-dropping-spans ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ *.yaml ã‚’ 4-sensitive-data ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æ›´æ–°å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™
â€‹ Updated Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="4. æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®ç§˜åŒ¿åŒ– :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€OpenTelemetry Collector ã‚’è¨­å®šã—ã¦ã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼Spanã‹ã‚‰ç‰¹å®šã®ã‚¿ã‚°ã‚’å‰Šé™¤ã—ã€æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ç§˜åŒ¿åŒ–ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã€å€‹äººãƒ‡ãƒ¼ã‚¿ã€ãã®ä»–ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã®è©³ç´°ãªã©ã€å‡¦ç†ã¾ãŸã¯ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å‰ã«åŒ¿ååŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹æ©Ÿå¯†æƒ…å ±ã‚’ä¿è­·ã™ã‚‹ãŸã‚ã«é‡è¦ã§ã™ã€‚
OpenTelemetry Collector ã®ä¸»è¦ãªãƒ—ãƒ­ã‚»ãƒƒã‚µã®è¨­å®šã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™
Attributes Processorï¼šç‰¹å®šã®Spanå±æ€§ã‚’å¤‰æ›´ã¾ãŸã¯å‰Šé™¤ã—ã¾ã™ã€‚ Redaction Processorï¼šæ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã¾ãŸã¯é€ä¿¡ã•ã‚Œã‚‹å‰ã«ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚ Exercise é‡è¦ ã™ã¹ã¦ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ 4-sensitive-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€clear ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
3-dropping-spans ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ *.yaml ã‚’ 4-sensitive-data ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æ›´æ–°å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™
â€‹ Updated Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml"><meta property="og:url" content="https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/4-sensitive-data/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="4. æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®ç§˜åŒ¿åŒ– :: Splunk Observability Cloud Workshops"><meta property="og:description" content="ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€OpenTelemetry Collector ã‚’è¨­å®šã—ã¦ã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼Spanã‹ã‚‰ç‰¹å®šã®ã‚¿ã‚°ã‚’å‰Šé™¤ã—ã€æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ç§˜åŒ¿åŒ–ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã€å€‹äººãƒ‡ãƒ¼ã‚¿ã€ãã®ä»–ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã®è©³ç´°ãªã©ã€å‡¦ç†ã¾ãŸã¯ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å‰ã«åŒ¿ååŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹æ©Ÿå¯†æƒ…å ±ã‚’ä¿è­·ã™ã‚‹ãŸã‚ã«é‡è¦ã§ã™ã€‚
OpenTelemetry Collector ã®ä¸»è¦ãªãƒ—ãƒ­ã‚»ãƒƒã‚µã®è¨­å®šã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™
Attributes Processorï¼šç‰¹å®šã®Spanå±æ€§ã‚’å¤‰æ›´ã¾ãŸã¯å‰Šé™¤ã—ã¾ã™ã€‚ Redaction Processorï¼šæ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã¾ãŸã¯é€ä¿¡ã•ã‚Œã‚‹å‰ã«ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚ Exercise é‡è¦ ã™ã¹ã¦ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ 4-sensitive-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€clear ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
3-dropping-spans ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ *.yaml ã‚’ 4-sensitive-data ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æ›´æ–°å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™
â€‹ Updated Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml"><meta property="og:locale" content="ja"><meta property="og:type" content="website"><meta itemprop=name content="4. æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®ç§˜åŒ¿åŒ– :: Splunk Observability Cloud Workshops"><meta itemprop=description content="ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€OpenTelemetry Collector ã‚’è¨­å®šã—ã¦ã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼Spanã‹ã‚‰ç‰¹å®šã®ã‚¿ã‚°ã‚’å‰Šé™¤ã—ã€æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ç§˜åŒ¿åŒ–ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã€å€‹äººãƒ‡ãƒ¼ã‚¿ã€ãã®ä»–ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã®è©³ç´°ãªã©ã€å‡¦ç†ã¾ãŸã¯ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å‰ã«åŒ¿ååŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹æ©Ÿå¯†æƒ…å ±ã‚’ä¿è­·ã™ã‚‹ãŸã‚ã«é‡è¦ã§ã™ã€‚
OpenTelemetry Collector ã®ä¸»è¦ãªãƒ—ãƒ­ã‚»ãƒƒã‚µã®è¨­å®šã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™
Attributes Processorï¼šç‰¹å®šã®Spanå±æ€§ã‚’å¤‰æ›´ã¾ãŸã¯å‰Šé™¤ã—ã¾ã™ã€‚ Redaction Processorï¼šæ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã¾ãŸã¯é€ä¿¡ã•ã‚Œã‚‹å‰ã«ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚ Exercise é‡è¦ ã™ã¹ã¦ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ 4-sensitive-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€clear ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
3-dropping-spans ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ *.yaml ã‚’ 4-sensitive-data ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æ›´æ–°å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™
â€‹ Updated Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml"><meta itemprop=dateModified content="2026-01-23T16:19:26+09:00"><meta itemprop=wordCount content="31"><title>4. æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®ç§˜åŒ¿åŒ– :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/en/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/4-sensitive-data/index.html rel=alternate hreflang=x-default><link href=https://splunk.github.io/observability-workshop/en/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/4-sensitive-data/index.html rel=alternate hreflang=en><link href=https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/4-sensitive-data/index.html rel=alternate hreflang=ja><link href=https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/4-sensitive-data/index.html rel=canonical type=text/html title="4. æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®ç§˜åŒ¿åŒ– :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/images/favicon.ico?1770160991 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/css/auto-complete/auto-complete.min.css?1770160991 rel=stylesheet><script src=/observability-workshop/js/auto-complete/auto-complete.min.js?1770160991 defer></script><script src=/observability-workshop/js/search-lunr.min.js?1770160991 defer></script><script src=/observability-workshop/js/search.min.js?1770160991 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/searchindex.ja.js?1770160991"</script><script src=/observability-workshop/js/lunr/lunr.min.js?1770160991 defer></script><script src=/observability-workshop/js/lunr/lunr.stemmer.support.min.js?1770160991 defer></script><script src=/observability-workshop/js/lunr/lunr.multi.min.js?1770160991 defer></script><script src=/observability-workshop/js/lunr/tinyseg.js?1770160991 defer></script><script src=/observability-workshop/js/lunr/lunr.ja.min.js?1770160991 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["ja"]</script><link href=/observability-workshop/fonts/fontawesome/css/all.min.css?1770160991 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/fonts/fontawesome/css/all.min.css?1770160991 rel=stylesheet></noscript><link href=/observability-workshop/css/perfect-scrollbar/perfect-scrollbar.min.css?1770160991 rel=stylesheet><link href=/observability-workshop/css/theme.min.css?1770160991 rel=stylesheet><link href=/observability-workshop/css/format-print.min.css?1770160991 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/4-sensitive-data/index.html",window.relearn.relBasePath="../../../../..",window.relearn.relBaseUri="../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop",window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.T_Copy_to_clipboard=`ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼`,window.T_Copied_to_clipboard=`ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!`,window.T_Link_copied_to_clipboard=`ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!`,window.T_Reset_view=`ãƒ“ãƒ¥ãƒ¼ã®ãƒªã‚»ãƒƒãƒˆ`,window.T_View_reset=`ãƒªã‚»ãƒƒãƒˆã‚’è¦‹ã‚‹`,window.T_No_results_found=`"{0}" ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`,window.T_N_results_found=`"{0}" ã§ {1} ä»¶ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`,window.T_Browser_unsupported_feature=`ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã“ã®æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantprefix="my-custom-",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant")??"";(!e||!e.startsWith(window.relearn.customvariantprefix)&&!window.relearn.themevariants.includes(e)||e.startsWith(window.relearn.customvariantprefix)&&!window.localStorage.getItem(window.relearn.absBaseUri+"/variantstylesheet-"+e))&&(e=window.relearn.themevariants[0],window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({appplicationName:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",recorder:"splunk",features:{video:!0}})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-origin=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/4-sensitive-data/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar class=default-animation><div class="topbar-wrapper default-animation"><div class="topbar-sidebar-divider default-animation"></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar default-animation" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleNav() type=button title="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></span></div><div class="topbar-button topbar-button-toc default-animation" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title="ç›®æ¬¡ (CTRL+ALT+t)"><i class="fa-fw fas fa-table-list"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/index.html><span itemprop=name>Splunk4Ninjas Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/index.html><span itemprop=name>OpenTelemetry Collector ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/index.html><span itemprop=name>Advanced OpenTelemetry Collector</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>4. æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿</span><meta itemprop=position content="5"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print default-animation" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/4-sensitive-data/index.print.html title="ç« å…¨ä½“ã‚’å°åˆ·ã™ã‚‹ (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span></div><div class="topbar-button topbar-button-prev default-animation" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/3-dropping-spans/3-2-test-filter/index.html title="3.2 Filter Processorã®ãƒ†ã‚¹ãƒˆ (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span></div><div class="topbar-button topbar-button-next default-animation" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/4-sensitive-data/4-1-configuration/index.html title="4.1 è¨­å®š (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span></div><div class="topbar-button topbar-button-more default-animation" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title=æ›´ã«><i class="fa-fw fas fa-ellipsis-v"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable ninja-workshops" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=4-æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®ç§˜åŒ¿åŒ–>4. æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®ç§˜åŒ¿åŒ–</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p>ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€OpenTelemetry Collector ã‚’è¨­å®šã—ã¦ã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼Spanã‹ã‚‰ç‰¹å®šã®ã‚¿ã‚°ã‚’å‰Šé™¤ã—ã€æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ç§˜åŒ¿åŒ–ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã€å€‹äººãƒ‡ãƒ¼ã‚¿ã€ãã®ä»–ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã®è©³ç´°ãªã©ã€å‡¦ç†ã¾ãŸã¯ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å‰ã«åŒ¿ååŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹æ©Ÿå¯†æƒ…å ±ã‚’ä¿è­·ã™ã‚‹ãŸã‚ã«é‡è¦ã§ã™ã€‚</p><p>OpenTelemetry Collector ã®ä¸»è¦ãªãƒ—ãƒ­ã‚»ãƒƒã‚µã®è¨­å®šã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™</p><ul><li><strong><a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/processor/attributesprocessor/README.md rel=external>Attributes Processor</a></strong>ï¼šç‰¹å®šã®Spanå±æ€§ã‚’å¤‰æ›´ã¾ãŸã¯å‰Šé™¤ã—ã¾ã™ã€‚</li><li><a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/processor/redactionprocessor/README.md rel=external><strong>Redaction Processor</strong></a>ï¼šæ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã¾ãŸã¯é€ä¿¡ã•ã‚Œã‚‹å‰ã«ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚</li></ul><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><details open class="box cstyle notices important"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-bolt"></i>
é‡è¦</summary><div class=box-content><p><strong>ã™ã¹ã¦ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ <code>4-sensitive-data</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€<code>clear</code> ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚</strong></p></div></details><p><code>3-dropping-spans</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ <code>*.yaml</code> ã‚’ <code>4-sensitive-data</code> ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æ›´æ–°å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-e5216d4ecc8a5631ef8ba1c5775412ae><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-dacf09691da261346d5a44325256cfee aria-expanded=true data-tab-item=R-tab-5a476a4994a778a4fb1b2011e6c9054c class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-e5216d4ecc8a5631ef8ba1c5775412ae","R-tab-5a476a4994a778a4fb1b2011e6c9054c")'>
<span class=tab-nav-text>Updated Directory Structure</span></button></div><div class=tab-content-container><div id=R-tab-id-dacf09691da261346d5a44325256cfee data-tab-item=R-tab-5a476a4994a778a4fb1b2011e6c9054c class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>â”œâ”€â”€ agent.yaml
</span></span><span class=line><span class=cl>â””â”€â”€ gateway.yaml</span></span></code></pre></div></div></div></div></div></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><section><h1 class=a11y-only>4. æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=41-è¨­å®š>4.1 è¨­å®š</h1><p>ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯ã€<code>agent.yaml</code> ã‚’ä¿®æ­£ã—ã¦ <code>attributes</code> ã¨ <code>redaction</code> ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’è¿½åŠ ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ—ãƒ­ã‚»ãƒƒã‚µã¯ã€Spanå±æ€§å†…ã®æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ãŒãƒ­ã‚°ã«è¨˜éŒ²ã¾ãŸã¯ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹å‰ã«é©åˆ‡ã«å‡¦ç†ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</p><p>ä»¥å‰ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤ºã•ã‚ŒãŸSpanå±æ€§ã®ä¸€éƒ¨ã«å€‹äººæƒ…å ±ã‚„æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ã«æ°—ã¥ã„ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã‹ã‚‰ã€ã“ã®æƒ…å ±ã‚’åŠ¹æœçš„ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŠã‚ˆã³ç§˜åŒ¿åŒ–ã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’è¨­å®šã—ã¾ã™ã€‚</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Attributes:
</span></span><span class=line><span class=cl>     -&gt; user.name: Str(George Lucas)
</span></span><span class=line><span class=cl>     -&gt; user.phone_number: Str(+1555-867-5309)
</span></span><span class=line><span class=cl>     -&gt; user.email: Str(george@deathstar.email)
</span></span><span class=line><span class=cl>     -&gt; user.account_password: Str(LOTR&gt;StarWars1-2-3)
</span></span><span class=line><span class=cl>     -&gt; user.visa: Str(4111 1111 1111 1111)
</span></span><span class=line><span class=cl>     -&gt; user.amex: Str(3782 822463 10005)
</span></span><span class=line><span class=cl>     -&gt; user.mastercard: Str(5555 5555 5555 4444)
</span></span><span class=line><span class=cl>  {&#34;kind&#34;: &#34;exporter&#34;, &#34;data_type&#34;: &#34;traces&#34;, &#34;name&#34;: &#34;debug&#34;}</span></span></code></pre></div><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p><strong>Agent terminal</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«åˆ‡ã‚Šæ›¿ãˆã¦ã€ã‚¨ãƒ‡ã‚£ã‚¿ã§ <code>agent.yaml</code> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã¾ã™ã€‚ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’å¼·åŒ–ã™ã‚‹ãŸã‚ã«ã€2ã¤ã®ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’è¿½åŠ ã—ã¾ã™ã€‚</p><p><strong>1. <code>attributes</code> ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’è¿½åŠ ã™ã‚‹</strong>ï¼š<a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/attributesprocessor rel=external><strong>Attributes Processor</strong></a> ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€Spanå±æ€§ï¼ˆã‚¿ã‚°ï¼‰ã®å€¤ã‚’æ›´æ–°ã€å‰Šé™¤ã€ã¾ãŸã¯ãƒãƒƒã‚·ãƒ¥åŒ–ã—ã¦å¤‰æ›´ã§ãã¾ã™ã€‚ã“ã‚Œã¯ã€æ©Ÿå¯†æƒ…å ±ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å‰ã«é›£èª­åŒ–ã™ã‚‹å ´åˆã«ç‰¹ã«ä¾¿åˆ©ã§ã™ã€‚</p><p>ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯</p><ol><li><code>user.phone_number</code> å±æ€§ã‚’é™çš„ãªå€¤ï¼ˆ<code>"UNKNOWN NUMBER"</code>ï¼‰ã«<strong>æ›´æ–°</strong>ã—ã¾ã™ã€‚</li><li><code>user.email</code> å±æ€§ã‚’<strong>ãƒãƒƒã‚·ãƒ¥åŒ–</strong>ã—ã¦ã€å…ƒã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå…¬é–‹ã•ã‚Œãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚</li><li><code>user.password</code> å±æ€§ã‚’<strong>å‰Šé™¤</strong>ã—ã¦ã€Spanã‹ã‚‰å®Œå…¨ã«å–ã‚Šé™¤ãã¾ã™ã€‚</li></ol><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>  </span><span class=nt>attributes/update</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>actions</span><span class=p>:</span><span class=w>                           </span><span class=c># Actions</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>user.phone_number        </span><span class=w> </span><span class=c># Target key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>update                </span><span class=w> </span><span class=c># Update action</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;UNKNOWN NUMBER&#34;</span><span class=w>        </span><span class=c># New value</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>user.email               </span><span class=w> </span><span class=c># Target key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>hash                  </span><span class=w> </span><span class=c># Hash the email value</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>user.password            </span><span class=w> </span><span class=c># Target key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>delete                </span><span class=w> </span><span class=c># Delete the password</span></span></span></code></pre></div><p><strong>2. <code>redaction</code> ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’è¿½åŠ ã™ã‚‹</strong>ï¼š<a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/redactionprocessor rel=external><strong>Redaction Processor</strong></a> ã¯ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã‚„ãã®ä»–ã®å€‹äººè­˜åˆ¥æƒ…å ±ï¼ˆPIIï¼‰ãªã©ã®å®šç¾©æ¸ˆã¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã„ã¦ã€Spanå±æ€§å†…ã®æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œå‡ºã—ã¦ç§˜åŒ¿åŒ–ã—ã¾ã™ã€‚</p><p>ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯</p><ul><li><p>ã™ã¹ã¦ã®å±æ€§ãŒå‡¦ç†ã•ã‚Œã‚‹ã‚ˆã†ã« <code>allow_all_keys: true</code> ã‚’è¨­å®šã—ã¾ã™ï¼ˆ<code>false</code> ã«è¨­å®šã™ã‚‹ã¨ã€æ˜ç¤ºçš„ã«è¨±å¯ã•ã‚ŒãŸã‚­ãƒ¼ã®ã¿ãŒä¿æŒã•ã‚Œã¾ã™ï¼‰ã€‚</p></li><li><p><strong>Visa</strong> ã¨ <strong>MasterCard</strong> ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã‚’æ¤œå‡ºã—ã¦ç§˜åŒ¿åŒ–ã™ã‚‹ãŸã‚ã®æ­£è¦è¡¨ç¾ã‚’ <code>blocked_values</code> ã§å®šç¾©ã—ã¾ã™ã€‚</p></li><li><p><code>summary: debug</code> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€ãƒ‡ãƒãƒƒã‚°ç›®çš„ã§ç§˜åŒ¿åŒ–ãƒ—ãƒ­ã‚»ã‚¹ã«é–¢ã™ã‚‹è©³ç´°æƒ…å ±ã‚’ãƒ­ã‚°ã«è¨˜éŒ²ã—ã¾ã™ã€‚</p></li></ul><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>  </span><span class=nt>redaction/redact</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>allow_all_keys</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>               </span><span class=c># If false, only allowed keys will be retained</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>blocked_values</span><span class=p>:</span><span class=w>                    </span><span class=c># List of regex patterns to block</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;\b4[0-9]{3}[\s-]?[0-9]{4}[\s-]?[0-9]{4}[\s-]?[0-9]{4}\b&#39;</span><span class=w>       </span><span class=c># Visa</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;\b5[1-5][0-9]{2}[\s-]?[0-9]{4}[\s-]?[0-9]{4}[\s-]?[0-9]{4}\b&#39;</span><span class=w>  </span><span class=c># MasterCard</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=l>debug                    </span><span class=w> </span><span class=c># Show debug details about redaction</span></span></span></code></pre></div><p><strong><code>traces</code> ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ›´æ–°ã™ã‚‹</strong>ï¼šä¸¡æ–¹ã®ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’ <code>traces</code> ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ±åˆã—ã¾ã™ã€‚æœ€åˆã¯ redaction ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ãŠã„ã¦ãã ã•ã„ï¼ˆå¾Œã®æ¼”ç¿’ã§æœ‰åŠ¹ã«ã—ã¾ã™ï¼‰ã€‚è¨­å®šã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>traces</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>otlp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>memory_limiter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>attributes/update             </span><span class=w> </span><span class=c># Update, hash, and remove attributes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c>#- redaction/redact               # Redact sensitive fields using regex</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>resourcedetection</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>resource/add_mode</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>batch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>debug</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>otlphttp</span></span></span></code></pre></div></div></details><p><strong><a href=https://www.otelbin.io/ rel=external>otelbin.io</a></strong> ã‚’ä½¿ç”¨ã—ã¦Agentè¨­å®šã‚’æ¤œè¨¼ã—ã¾ã™ã€‚å‚è€ƒã¨ã—ã¦ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã® <code>traces:</code> ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™</p><pre class="mermaid actionbar-wrapper align-center">%%{init:{&#34;fontFamily&#34;:&#34;monospace&#34;}}%%
graph LR
    %% Nodes
      REC1(&amp;nbsp;&amp;nbsp;otlp&amp;nbsp;&amp;nbsp;&lt;br&gt;fa:fa-download):::receiver
      PRML(memory_limiter&lt;br&gt;fa:fa-microchip):::processor
      PRRD(resourcedetection&lt;br&gt;fa:fa-microchip):::processor
      PRRS(resource&lt;br&gt;fa:fa-microchip&lt;br&gt;add_mode):::processor
      PRUP(attributes&lt;br&gt;fa:fa-microchip&lt;br&gt;update):::processor
      EXP1(otlphttp&lt;br&gt;fa:fa-upload):::exporter
      EXP2(&amp;ensp;&amp;ensp;debug&amp;ensp;&amp;ensp;&lt;br&gt;fa:fa-upload):::exporter
      EXP3(file&lt;br&gt;fa:fa-upload):::exporter

    %% Links
    subID1:::sub-traces
    subgraph &#34; &#34;
      subgraph subID1[**Traces**]
      direction LR
      REC1 --&gt; PRML
      PRML --&gt; PRUP
      PRUP --&gt; PRRD
      PRRD --&gt; PRRS
      PRRS --&gt; EXP2
      PRRS --&gt; EXP3
      PRRS --&gt; EXP1
      end
    end
classDef receiver,exporter fill:#8b5cf6,stroke:#333,stroke-width:1px,color:#fff;
classDef processor fill:#6366f1,stroke:#333,stroke-width:1px,color:#fff;
classDef con-receive,con-export fill:#45c175,stroke:#333,stroke-width:1px,color:#fff;
classDef sub-traces stroke:#fbbf24,stroke-width:1px, color:#fbbf24,stroke-dasharray: 3 3;</pre><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><article class=default><header class=headline></header><h1 id=42-attribute-processorã®ãƒ†ã‚¹ãƒˆ>4.2 Attribute Processorã®ãƒ†ã‚¹ãƒˆ</h1><p>ã“ã®æ¼”ç¿’ã§ã¯ã€<strong>Agent</strong> ãŒã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å‰ã«ã€Spanãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ <code>user.account_password</code> ã‚’<strong>å‰Šé™¤</strong>ã—ã€<code>user.phone_number</code> <strong>å±æ€§</strong>ã‚’<strong>æ›´æ–°</strong>ã—ã€<code>user.email</code> ã‚’<strong>ãƒãƒƒã‚·ãƒ¥åŒ–</strong>ã—ã¾ã™ã€‚</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p><strong>Gatewayã‚’èµ·å‹•ã™ã‚‹</strong>ï¼š<strong>Gateway terminal</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ <strong>Gateway</strong> ã‚’èµ·å‹•ã—ã¾ã™ã€‚</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>gateway.yaml</span></span></code></pre></div><p><strong>Agentã‚’èµ·å‹•ã™ã‚‹</strong>ï¼š<strong>Agent terminal</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ <strong>Agent</strong> ã‚’èµ·å‹•ã—ã¾ã™ã€‚</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>agent.yaml</span></span></code></pre></div><p><strong>Load Generatorã‚’èµ·å‹•ã™ã‚‹</strong>ï¼š<strong>Loadgen terminal</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ <code>loadgen</code> ã‚’èµ·å‹•ã—ã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../loadgen -count <span class=m>1</span></span></span></code></pre></div><p><strong>ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ã‚’ç¢ºèªã™ã‚‹</strong>ï¼š<strong>Agent</strong> ã¨ <strong>Gateway</strong> ã®ä¸¡æ–¹ã§ã€<code>user.account_password</code> ãŒå‰Šé™¤ã•ã‚Œã€<code>user.phone_number</code> ã¨ <code>user.email</code> ãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-004293e690c4b94ffa57c98cfbf59173><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-301401fa2f7881da3fa06524392baac4 aria-expanded=true data-tab-item=R-tab-544b1806b43b802fec2d6ad565a4b9ad class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-004293e690c4b94ffa57c98cfbf59173","R-tab-544b1806b43b802fec2d6ad565a4b9ad")'>
<span class=tab-nav-text>New Debug Output</span>
</button>
<button aria-controls=R-tab-id-62a2996d5842c548a71248c4eb39a7a2 aria-expanded=false data-tab-item=R-tab-8269dab52767aefab4c11aaa5d8bb8c8 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-004293e690c4b94ffa57c98cfbf59173","R-tab-8269dab52767aefab4c11aaa5d8bb8c8")'>
<span class=tab-nav-text>Original Debug Output</span></button></div><div class=tab-content-container><div id=R-tab-id-301401fa2f7881da3fa06524392baac4 data-tab-item=R-tab-544b1806b43b802fec2d6ad565a4b9ad class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>   -&gt; user.name: Str(George Lucas)
</span></span><span class=line><span class=cl>   -&gt; user.phone_number: Str(UNKNOWN NUMBER)
</span></span><span class=line><span class=cl>   -&gt; user.email: Str(62d5e03d8fd5808e77aee5ebbd90cf7627a470ae0be9ffd10e8025a4ad0e1287)
</span></span><span class=line><span class=cl>   -&gt; payment.amount: Double(51.71)
</span></span><span class=line><span class=cl>   -&gt; user.visa: Str(4111 1111 1111 1111)
</span></span><span class=line><span class=cl>   -&gt; user.amex: Str(3782 822463 10005)
</span></span><span class=line><span class=cl>   -&gt; user.mastercard: Str(5555 5555 5555 4444)</span></span></code></pre></div></div></div><div id=R-tab-id-62a2996d5842c548a71248c4eb39a7a2 data-tab-item=R-tab-8269dab52767aefab4c11aaa5d8bb8c8 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>    -&gt; user.name: Str(George Lucas)
</span></span><span class=line><span class=cl>    -&gt; user.phone_number: Str(+1555-867-5309)
</span></span><span class=line><span class=cl>    -&gt; user.email: Str(george@deathstar.email)
</span></span><span class=line><span class=cl>    -&gt; user.password: Str(LOTR&gt;StarWars1-2-3)
</span></span><span class=line><span class=cl>    -&gt; user.visa: Str(4111 1111 1111 1111)
</span></span><span class=line><span class=cl>    -&gt; user.amex: Str(3782 822463 10005)
</span></span><span class=line><span class=cl>    -&gt; user.mastercard: Str(5555 5555 5555 4444)
</span></span><span class=line><span class=cl>    -&gt; payment.amount: Double(95.22)</span></span></code></pre></div></div></div></div></div><p><strong>ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›ã‚’ç¢ºèªã™ã‚‹</strong>ï¼š<code>jq</code> ã‚’ä½¿ç”¨ã—ã¦ã€<code>gateway-traces.out</code> ã§ <code>user.account_password</code> ãŒå‰Šé™¤ã•ã‚Œã€<code>user.phone_number</code> ã¨ <code>user.email</code> ãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’æ¤œè¨¼ã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-5158ebc0bf35c330b835c8fdf8d4009b><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-fb21907aacef9a91a4e87aafe94e9817 aria-expanded=true data-tab-item=R-tab-a1f23743b82743728073a9be5706f4e0 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-5158ebc0bf35c330b835c8fdf8d4009b","R-tab-a1f23743b82743728073a9be5706f4e0")'>
<span class=tab-nav-text>Validate attribute changes</span>
</button>
<button aria-controls=R-tab-id-fca8f6530d4c2566505b198abd3cb1c4 aria-expanded=false data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-5158ebc0bf35c330b835c8fdf8d4009b","R-tab-29c2c02a361c9d7028472e5d92cd4a54")'>
<span class=tab-nav-text>Output</span></button></div><div class=tab-content-container><div id=R-tab-id-fb21907aacef9a91a4e87aafe94e9817 data-tab-item=R-tab-a1f23743b82743728073a9be5706f4e0 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>jq <span class=s1>&#39;.resourceSpans[].scopeSpans[].spans[].attributes[] | select(.key == &#34;user.password&#34; or .key == &#34;user.phone_number&#34; or .key == &#34;user.email&#34;) | {key: .key, value: .value.stringValue}&#39;</span> ./gateway-traces.out</span></span></code></pre></div></div></div><div id=R-tab-id-fca8f6530d4c2566505b198abd3cb1c4 data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><code>user.account_password</code> ãŒå‰Šé™¤ã•ã‚Œã€<code>user.phone_number</code> ã¨ <code>user.email</code> ãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;user.phone_number&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;value&#34;</span><span class=p>:</span> <span class=s2>&#34;UNKNOWN NUMBER&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;user.email&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;value&#34;</span><span class=p>:</span> <span class=s2>&#34;62d5e03d8fd5808e77aee5ebbd90cf7627a470ae0be9ffd10e8025a4ad0e1287&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div></div><details open class="box cstyle notices important"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-bolt"></i>
é‡è¦</summary><div class=box-content><p><strong>Agent</strong> ã¨ <strong>Gateway</strong> ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã€ãã‚Œãã‚Œã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ <code>Ctrl-C</code> ã‚’æŠ¼ã—ã¦åœæ­¢ã—ã¦ãã ã•ã„ã€‚</p></div></details></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><article class=default><header class=headline></header><h1 id=43-redaction-processorã®ãƒ†ã‚¹ãƒˆ>4.3 Redaction Processorã®ãƒ†ã‚¹ãƒˆ</h1><p><code>redaction</code> ãƒ—ãƒ­ã‚»ãƒƒã‚µã¯ã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã©ã®å±æ€§ã¨å€¤ã‚’<strong>è¨±å¯</strong>ã¾ãŸã¯<strong>å‰Šé™¤</strong>ã™ã‚‹ã‹ã‚’æ­£ç¢ºã«åˆ¶å¾¡ã§ãã¾ã™ã€‚</p><p>ã“ã®æ¼”ç¿’ã§ã¯ã€<strong>Agent</strong> ãŒã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å‰ã«ã€Spanãƒ‡ãƒ¼ã‚¿ã® <code>user.visa</code> ã¨ <code>user.mastercard</code> ã®å€¤ã‚’<strong>ç§˜åŒ¿åŒ–</strong>ã—ã¾ã™ã€‚<details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p><strong>Gatewayã‚’èµ·å‹•ã™ã‚‹</strong>ï¼š<strong>Gateway terminal</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ <strong>Gateway</strong> ã‚’èµ·å‹•ã—ã¾ã™ã€‚</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>gateway.yaml</span></span></code></pre></div><p><strong><code>redaction/redact</code> ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’æœ‰åŠ¹ã«ã™ã‚‹</strong>ï¼š<strong>Agent terminal</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã€<code>agent.yaml</code> ã‚’ç·¨é›†ã—ã¦å‰ã®æ¼”ç¿’ã§è¿½åŠ ã—ãŸ <code>#</code> ã‚’å‰Šé™¤ã—ã¾ã™ã€‚</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>traces</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>otlp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>memory_limiter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>attributes/update             </span><span class=w> </span><span class=c># Update, hash, and remove attributes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>redaction/redact              </span><span class=w> </span><span class=c># Redact sensitive fields using regex</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>resourcedetection</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>resource/add_mode</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>batch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>debug</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>otlphttp</span></span></span></code></pre></div><p><strong>Agentã‚’èµ·å‹•ã™ã‚‹</strong>ï¼š<strong>Agent terminal</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ <strong>Agent</strong> ã‚’èµ·å‹•ã—ã¾ã™ã€‚</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>agent.yaml</span></span></code></pre></div><p><strong>Load Generatorã‚’èµ·å‹•ã™ã‚‹</strong>ï¼š<strong>Loadgen terminal</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ <code>loadgen</code> ã‚’èµ·å‹•ã—ã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../loadgen -count <span class=m>1</span></span></span></code></pre></div><p><strong>ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ã‚’ç¢ºèªã™ã‚‹</strong>ï¼š<strong>Agent</strong> ã¨ <strong>Gateway</strong> ã®ä¸¡æ–¹ã§ã€<code>user.visa</code> ã¨ <code>user.mastercard</code> ã®å€¤ãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚<code>user.amex</code> å±æ€§ã®å€¤ã¯ã€<code>blocked_values</code> ã«ä¸€è‡´ã™ã‚‹æ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè¿½åŠ ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ç§˜åŒ¿åŒ–ã•ã‚Œã¦<strong>ã„ãªã„</strong>ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚</p><div class=tab-panel data-tab-group=R-tabs-1785c6139571a589f2ffc703d580708b><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-b7596b4343a948ab4678bdaf65ed53cb aria-expanded=true data-tab-item=R-tab-544b1806b43b802fec2d6ad565a4b9ad class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-1785c6139571a589f2ffc703d580708b","R-tab-544b1806b43b802fec2d6ad565a4b9ad")'>
<span class=tab-nav-text>New Debug Output</span>
</button>
<button aria-controls=R-tab-id-0b86319c8eb372dfb21e66265678d745 aria-expanded=false data-tab-item=R-tab-8269dab52767aefab4c11aaa5d8bb8c8 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-1785c6139571a589f2ffc703d580708b","R-tab-8269dab52767aefab4c11aaa5d8bb8c8")'>
<span class=tab-nav-text>Original Debug Output</span></button></div><div class=tab-content-container><div id=R-tab-id-b7596b4343a948ab4678bdaf65ed53cb data-tab-item=R-tab-544b1806b43b802fec2d6ad565a4b9ad class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>   -&gt; user.name: Str(George Lucas)
</span></span><span class=line><span class=cl>   -&gt; user.phone_number: Str(UNKNOWN NUMBER)
</span></span><span class=line><span class=cl>   -&gt; user.email: Str(62d5e03d8fd5808e77aee5ebbd90cf7627a470ae0be9ffd10e8025a4ad0e1287)
</span></span><span class=line><span class=cl>   -&gt; payment.amount: Double(69.71)
</span></span><span class=line><span class=cl>   -&gt; user.visa: Str(****)
</span></span><span class=line><span class=cl>   -&gt; user.amex: Str(3782 822463 10005)
</span></span><span class=line><span class=cl>   -&gt; user.mastercard: Str(****)
</span></span><span class=line><span class=cl>   -&gt; redaction.masked.keys: Str(user.mastercard,user.visa)
</span></span><span class=line><span class=cl>   -&gt; redaction.masked.count: Int(2)</span></span></code></pre></div></div></div><div id=R-tab-id-0b86319c8eb372dfb21e66265678d745 data-tab-item=R-tab-8269dab52767aefab4c11aaa5d8bb8c8 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>    -&gt; user.name: Str(George Lucas)
</span></span><span class=line><span class=cl>    -&gt; user.phone_number: Str(+1555-867-5309)
</span></span><span class=line><span class=cl>    -&gt; user.email: Str(george@deathstar.email)
</span></span><span class=line><span class=cl>    -&gt; user.password: Str(LOTR&gt;StarWars1-2-3)
</span></span><span class=line><span class=cl>    -&gt; user.visa: Str(4111 1111 1111 1111)
</span></span><span class=line><span class=cl>    -&gt; user.amex: Str(3782 822463 10005)
</span></span><span class=line><span class=cl>    -&gt; user.mastercard: Str(5555 5555 5555 4444)
</span></span><span class=line><span class=cl>    -&gt; payment.amount: Double(65.54)</span></span></code></pre></div></div></div></div></div><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
ãƒ¡ãƒ¢</summary><div class=box-content><p>redaction ãƒ—ãƒ­ã‚»ãƒƒã‚µã« <code>summary:debug</code> ã‚’å«ã‚ã‚‹ã¨ã€ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ã«ã€ã©ã®ä¸€è‡´ã™ã‚‹ã‚­ãƒ¼å€¤ãŒç§˜åŒ¿åŒ–ã•ã‚ŒãŸã‹ã€ãŠã‚ˆã³ãƒã‚¹ã‚¯ã•ã‚ŒãŸå€¤ã®æ•°ã«é–¢ã™ã‚‹ã‚µãƒãƒªãƒ¼æƒ…å ±ãŒå«ã¾ã‚Œã¾ã™ã€‚</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>     -&gt; redaction.masked.keys: Str(user.mastercard,user.visa)
</span></span><span class=line><span class=cl>     -&gt; redaction.masked.count: Int(2)</span></span></code></pre></div></div></details><p><strong>ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›ã‚’ç¢ºèªã™ã‚‹</strong>ï¼š<code>jq</code> ã‚’ä½¿ç”¨ã—ã¦ã€<code>gateway-traces.out</code> ã§ <code>user.visa</code> ã¨ <code>user.mastercard</code> ãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚</p><div class=tab-panel data-tab-group=R-tabs-cf10a4607f9b1698071499a8e4e74326><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-c54b4fcabc42d67cff3652d9b1fe7bc8 aria-expanded=true data-tab-item=R-tab-a1f23743b82743728073a9be5706f4e0 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-cf10a4607f9b1698071499a8e4e74326","R-tab-a1f23743b82743728073a9be5706f4e0")'>
<span class=tab-nav-text>Validate attribute changes</span>
</button>
<button aria-controls=R-tab-id-c7f8c76ecfc9ddc68695fff9ecd53a3e aria-expanded=false data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-cf10a4607f9b1698071499a8e4e74326","R-tab-29c2c02a361c9d7028472e5d92cd4a54")'>
<span class=tab-nav-text>Output</span></button></div><div class=tab-content-container><div id=R-tab-id-c54b4fcabc42d67cff3652d9b1fe7bc8 data-tab-item=R-tab-a1f23743b82743728073a9be5706f4e0 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>jq <span class=s1>&#39;.resourceSpans[].scopeSpans[].spans[].attributes[] | select(.key == &#34;user.visa&#34; or .key == &#34;user.mastercard&#34; or .key == &#34;user.amex&#34;) | {key: .key, value: .value.stringValue}&#39;</span> ./gateway-traces.out</span></span></code></pre></div></div></div><div id=R-tab-id-c7f8c76ecfc9ddc68695fff9ecd53a3e data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><code>blocked_values</code> ã«ä¸€è‡´ã™ã‚‹æ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè¿½åŠ ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€<code>user.amex</code> ã¯ç§˜åŒ¿åŒ–ã•ã‚Œã¦ã„ãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;user.visa&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;value&#34;</span><span class=p>:</span> <span class=s2>&#34;****&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;user.amex&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;value&#34;</span><span class=p>:</span> <span class=s2>&#34;3782 822463 10005&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;user.mastercard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;value&#34;</span><span class=p>:</span> <span class=s2>&#34;****&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div></div><p>ã“ã‚Œã‚‰ã¯ã€<code>attributes</code> ã¨ <code>redaction</code> ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’è¨­å®šã—ã¦æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ä¿è­·ã™ã‚‹æ–¹æ³•ã®ã»ã‚“ã®ä¸€ä¾‹ã§ã™ã€‚</p></div></details></p><details open class="box cstyle notices important"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-bolt"></i>
é‡è¦</summary><div class=box-content><p><strong>Agent</strong> ã¨ <strong>Gateway</strong> ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã€ãã‚Œãã‚Œã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ <code>Ctrl-C</code> ã‚’æŠ¼ã—ã¦åœæ­¢ã—ã¦ãã ã•ã„ã€‚</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article></section></div></main></div><script src=/observability-workshop/js/js-yaml/js-yaml.min.js?1770160991 defer></script><script src=/observability-workshop/js/d3/d3-color.min.js?1770160991 defer></script><script src=/observability-workshop/js/d3/d3-dispatch.min.js?1770160991 defer></script><script src=/observability-workshop/js/d3/d3-drag.min.js?1770160991 defer></script><script src=/observability-workshop/js/d3/d3-ease.min.js?1770160991 defer></script><script src=/observability-workshop/js/d3/d3-interpolate.min.js?1770160991 defer></script><script src=/observability-workshop/js/d3/d3-selection.min.js?1770160991 defer></script><script src=/observability-workshop/js/d3/d3-timer.min.js?1770160991 defer></script><script src=/observability-workshop/js/d3/d3-transition.min.js?1770160991 defer></script><script src=/observability-workshop/js/d3/d3-zoom.min.js?1770160991 defer></script><script src=/observability-workshop/js/mermaid/mermaid.min.js?1770160991 defer></script><script>window.relearn.themeUseMermaid=JSON.parse("{}")</script><script src=/observability-workshop/js/perfect-scrollbar/perfect-scrollbar.min.js?1770160991 defer></script><script src=/observability-workshop/js/theme.min.js?1770160991 defer></script><div id=toast-container role=status aria-live=polite aria-atomic=false></div></body></html>