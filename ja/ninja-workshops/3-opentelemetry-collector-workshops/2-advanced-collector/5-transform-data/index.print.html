<!doctype html><html lang=ja dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 8.2.0+9cac649a184a2967957ef9bbececf9402192846c"><meta name=description content="Transform Processor ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æµã‚Œã‚‹ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ­ã‚°ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ï¼‰ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚OpenTelemetry Transformation Language (OTTL) ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãªãã€ãƒ‡ãƒ¼ã‚¿ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆã€å¤‰æ›ã‚’ãã®å ´ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã®æ¼”ç¿’ã§ã¯ã€gateway.yaml ã‚’æ›´æ–°ã—ã¦ã€æ¬¡ã®å‡¦ç†ã‚’è¡Œã† Transform Processor ã‚’è¿½åŠ ã—ã¾ã™
ãƒ­ã‚°ãƒªã‚½ãƒ¼ã‚¹å±æ€§ã® ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° JSONæ§‹é€ åŒ–ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®å±æ€§ã¸ã® ãƒ‘ãƒ¼ã‚¹ ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ã«åŸºã¥ããƒ­ã‚°é‡å¤§åº¦ãƒ¬ãƒ™ãƒ«ã® è¨­å®š ä»¥å‰ã®ãƒ­ã‚°ã§ SeverityText ã‚„ SeverityNumber ãŒæœªå®šç¾©ã ã£ãŸã“ã¨ã«ãŠæ°—ã¥ãã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã¯ filelog ãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã®å…¸å‹çš„ãªå‹•ä½œã§ã™ã€‚ãŸã ã—ã€é‡å¤§åº¦ã¯ãƒ­ã‚°æœ¬æ–‡å†…ã«åŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚ä¾‹
SeverityText: SeverityNumber: Unspecified(0) Body: Str(2025-01-31 15:49:29 [WARN] - Do or do not, there is no try.) ãƒ­ã‚°ã«ã¯ã€ãƒ­ã‚°æœ¬æ–‡å†…ã«JSONã¨ã—ã¦ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å±æ€§ã¨ã—ã¦æŠ½å‡ºã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¯ã‚¨ãƒªã®åŠ¹ç‡ãŒå‘ä¸Šã—ã¾ã™ã€‚ä¸‹æµã®ã‚·ã‚¹ãƒ†ãƒ ã§æ‰‹å‹•ã§JSONã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ä»£ã‚ã‚Šã«ã€OTTLã‚’ä½¿ç”¨ã—ã¦ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ¬ãƒ™ãƒ«ã§è‡ªå‹•çš„ã«å¤‰æ›ã§ãã¾ã™ã€‚
Exercise é‡è¦ ã™ã¹ã¦ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ 5-transform-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€clear ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
4-sensitve-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ *.yaml ã‚’ 5-transform-data ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æ›´æ–°å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™
â€‹ Updated Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="5. Transform Data :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Transform Processor ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æµã‚Œã‚‹ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ­ã‚°ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ï¼‰ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚OpenTelemetry Transformation Language (OTTL) ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãªãã€ãƒ‡ãƒ¼ã‚¿ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆã€å¤‰æ›ã‚’ãã®å ´ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã®æ¼”ç¿’ã§ã¯ã€gateway.yaml ã‚’æ›´æ–°ã—ã¦ã€æ¬¡ã®å‡¦ç†ã‚’è¡Œã† Transform Processor ã‚’è¿½åŠ ã—ã¾ã™
ãƒ­ã‚°ãƒªã‚½ãƒ¼ã‚¹å±æ€§ã® ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° JSONæ§‹é€ åŒ–ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®å±æ€§ã¸ã® ãƒ‘ãƒ¼ã‚¹ ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ã«åŸºã¥ããƒ­ã‚°é‡å¤§åº¦ãƒ¬ãƒ™ãƒ«ã® è¨­å®š ä»¥å‰ã®ãƒ­ã‚°ã§ SeverityText ã‚„ SeverityNumber ãŒæœªå®šç¾©ã ã£ãŸã“ã¨ã«ãŠæ°—ã¥ãã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã¯ filelog ãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã®å…¸å‹çš„ãªå‹•ä½œã§ã™ã€‚ãŸã ã—ã€é‡å¤§åº¦ã¯ãƒ­ã‚°æœ¬æ–‡å†…ã«åŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚ä¾‹
SeverityText: SeverityNumber: Unspecified(0) Body: Str(2025-01-31 15:49:29 [WARN] - Do or do not, there is no try.) ãƒ­ã‚°ã«ã¯ã€ãƒ­ã‚°æœ¬æ–‡å†…ã«JSONã¨ã—ã¦ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å±æ€§ã¨ã—ã¦æŠ½å‡ºã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¯ã‚¨ãƒªã®åŠ¹ç‡ãŒå‘ä¸Šã—ã¾ã™ã€‚ä¸‹æµã®ã‚·ã‚¹ãƒ†ãƒ ã§æ‰‹å‹•ã§JSONã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ä»£ã‚ã‚Šã«ã€OTTLã‚’ä½¿ç”¨ã—ã¦ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ¬ãƒ™ãƒ«ã§è‡ªå‹•çš„ã«å¤‰æ›ã§ãã¾ã™ã€‚
Exercise é‡è¦ ã™ã¹ã¦ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ 5-transform-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€clear ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
4-sensitve-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ *.yaml ã‚’ 5-transform-data ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æ›´æ–°å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™
â€‹ Updated Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml"><meta property="og:url" content="https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/5-transform-data/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="5. Transform Data :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Transform Processor ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æµã‚Œã‚‹ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ­ã‚°ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ï¼‰ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚OpenTelemetry Transformation Language (OTTL) ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãªãã€ãƒ‡ãƒ¼ã‚¿ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆã€å¤‰æ›ã‚’ãã®å ´ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã®æ¼”ç¿’ã§ã¯ã€gateway.yaml ã‚’æ›´æ–°ã—ã¦ã€æ¬¡ã®å‡¦ç†ã‚’è¡Œã† Transform Processor ã‚’è¿½åŠ ã—ã¾ã™
ãƒ­ã‚°ãƒªã‚½ãƒ¼ã‚¹å±æ€§ã® ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° JSONæ§‹é€ åŒ–ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®å±æ€§ã¸ã® ãƒ‘ãƒ¼ã‚¹ ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ã«åŸºã¥ããƒ­ã‚°é‡å¤§åº¦ãƒ¬ãƒ™ãƒ«ã® è¨­å®š ä»¥å‰ã®ãƒ­ã‚°ã§ SeverityText ã‚„ SeverityNumber ãŒæœªå®šç¾©ã ã£ãŸã“ã¨ã«ãŠæ°—ã¥ãã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã¯ filelog ãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã®å…¸å‹çš„ãªå‹•ä½œã§ã™ã€‚ãŸã ã—ã€é‡å¤§åº¦ã¯ãƒ­ã‚°æœ¬æ–‡å†…ã«åŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚ä¾‹
SeverityText: SeverityNumber: Unspecified(0) Body: Str(2025-01-31 15:49:29 [WARN] - Do or do not, there is no try.) ãƒ­ã‚°ã«ã¯ã€ãƒ­ã‚°æœ¬æ–‡å†…ã«JSONã¨ã—ã¦ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å±æ€§ã¨ã—ã¦æŠ½å‡ºã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¯ã‚¨ãƒªã®åŠ¹ç‡ãŒå‘ä¸Šã—ã¾ã™ã€‚ä¸‹æµã®ã‚·ã‚¹ãƒ†ãƒ ã§æ‰‹å‹•ã§JSONã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ä»£ã‚ã‚Šã«ã€OTTLã‚’ä½¿ç”¨ã—ã¦ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ¬ãƒ™ãƒ«ã§è‡ªå‹•çš„ã«å¤‰æ›ã§ãã¾ã™ã€‚
Exercise é‡è¦ ã™ã¹ã¦ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ 5-transform-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€clear ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
4-sensitve-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ *.yaml ã‚’ 5-transform-data ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æ›´æ–°å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™
â€‹ Updated Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml"><meta property="og:locale" content="ja"><meta property="og:type" content="website"><meta itemprop=name content="5. Transform Data :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Transform Processor ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æµã‚Œã‚‹ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ­ã‚°ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ï¼‰ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚OpenTelemetry Transformation Language (OTTL) ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãªãã€ãƒ‡ãƒ¼ã‚¿ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆã€å¤‰æ›ã‚’ãã®å ´ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã®æ¼”ç¿’ã§ã¯ã€gateway.yaml ã‚’æ›´æ–°ã—ã¦ã€æ¬¡ã®å‡¦ç†ã‚’è¡Œã† Transform Processor ã‚’è¿½åŠ ã—ã¾ã™
ãƒ­ã‚°ãƒªã‚½ãƒ¼ã‚¹å±æ€§ã® ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° JSONæ§‹é€ åŒ–ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®å±æ€§ã¸ã® ãƒ‘ãƒ¼ã‚¹ ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ã«åŸºã¥ããƒ­ã‚°é‡å¤§åº¦ãƒ¬ãƒ™ãƒ«ã® è¨­å®š ä»¥å‰ã®ãƒ­ã‚°ã§ SeverityText ã‚„ SeverityNumber ãŒæœªå®šç¾©ã ã£ãŸã“ã¨ã«ãŠæ°—ã¥ãã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã¯ filelog ãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã®å…¸å‹çš„ãªå‹•ä½œã§ã™ã€‚ãŸã ã—ã€é‡å¤§åº¦ã¯ãƒ­ã‚°æœ¬æ–‡å†…ã«åŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚ä¾‹
SeverityText: SeverityNumber: Unspecified(0) Body: Str(2025-01-31 15:49:29 [WARN] - Do or do not, there is no try.) ãƒ­ã‚°ã«ã¯ã€ãƒ­ã‚°æœ¬æ–‡å†…ã«JSONã¨ã—ã¦ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å±æ€§ã¨ã—ã¦æŠ½å‡ºã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¯ã‚¨ãƒªã®åŠ¹ç‡ãŒå‘ä¸Šã—ã¾ã™ã€‚ä¸‹æµã®ã‚·ã‚¹ãƒ†ãƒ ã§æ‰‹å‹•ã§JSONã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ä»£ã‚ã‚Šã«ã€OTTLã‚’ä½¿ç”¨ã—ã¦ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ¬ãƒ™ãƒ«ã§è‡ªå‹•çš„ã«å¤‰æ›ã§ãã¾ã™ã€‚
Exercise é‡è¦ ã™ã¹ã¦ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ 5-transform-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€clear ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
4-sensitve-data ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ *.yaml ã‚’ 5-transform-data ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æ›´æ–°å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™
â€‹ Updated Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml"><meta itemprop=dateModified content="2026-01-23T16:19:26+09:00"><meta itemprop=wordCount content="63"><title>5. Transform Data :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/5-transform-data/index.html rel=alternate hreflang=x-default><link href=https://splunk.github.io/observability-workshop/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/5-transform-data/index.html rel=alternate hreflang=en><link href=https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/5-transform-data/index.html rel=alternate hreflang=ja><link href=https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/5-transform-data/index.html rel=canonical type=text/html title="5. Transform Data :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/images/favicon.ico?1769686751 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/css/auto-complete/auto-complete.min.css?1769686751 rel=stylesheet><script src=/observability-workshop/js/auto-complete/auto-complete.min.js?1769686751 defer></script><script src=/observability-workshop/js/search-lunr.min.js?1769686751 defer></script><script src=/observability-workshop/js/search.min.js?1769686751 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/searchindex.ja.js?1769686751"</script><script src=/observability-workshop/js/lunr/lunr.min.js?1769686751 defer></script><script src=/observability-workshop/js/lunr/lunr.stemmer.support.min.js?1769686751 defer></script><script src=/observability-workshop/js/lunr/lunr.multi.min.js?1769686751 defer></script><script src=/observability-workshop/js/lunr/tinyseg.js?1769686751 defer></script><script src=/observability-workshop/js/lunr/lunr.ja.min.js?1769686751 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["ja"]</script><link href=/observability-workshop/fonts/fontawesome/css/fontawesome-all.min.css?1769686751 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/fonts/fontawesome/css/fontawesome-all.min.css?1769686751 rel=stylesheet></noscript><link href=/observability-workshop/css/perfect-scrollbar/perfect-scrollbar.min.css?1769686751 rel=stylesheet><link href=/observability-workshop/css/theme.min.css?1769686751 rel=stylesheet><link href=/observability-workshop/css/format-print.min.css?1769686751 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/5-transform-data/index.html",window.relearn.relBasePath="../../../../..",window.relearn.relBaseUri="../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼`,window.T_Copied_to_clipboard=`ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼!`,window.T_Copy_link_to_clipboard=`ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼`,window.T_Link_copied_to_clipboard=`ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!`,window.T_Reset_view=`ãƒ“ãƒ¥ãƒ¼ã®ãƒªã‚»ãƒƒãƒˆ`,window.T_View_reset=`ãƒªã‚»ãƒƒãƒˆã‚’è¦‹ã‚‹`,window.T_No_results_found=`"{0}" ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`,window.T_N_results_found=`"{0}" ã§ {1} ä»¶ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({appplicationName:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",recorder:"splunk",features:{video:!0}})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-url=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/5-transform-data/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleNav() type=button title="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></span></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title="ç›®æ¬¡ (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/index.html><span itemprop=name>Splunk4Ninjas Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/index.html><span itemprop=name>OpenTelemetry Collector ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/index.html><span itemprop=name>Advanced OpenTelemetry Collector</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>5. Transform Data</span><meta itemprop=position content="5"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/5-transform-data/index.print.html title="ç« å…¨ä½“ã‚’å°åˆ·ã™ã‚‹ (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/4-sensitive-data/4-3-test-redaction/index.html title="4.3 Redaction Processorã®ãƒ†ã‚¹ãƒˆ (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/5-transform-data/5-1-configuration/index.html title="5.1 Configuration (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title=æ›´ã«><i class="fa-fw fas fa-ellipsis-v"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable ninja-workshops" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=5-transform-data>5. Transform Data</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p><a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/processor/transformprocessor/README.md rel=external><strong>Transform Processor</strong></a> ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æµã‚Œã‚‹ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ­ã‚°ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ï¼‰ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚<strong>OpenTelemetry Transformation Language (OTTL)</strong> ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãªãã€ãƒ‡ãƒ¼ã‚¿ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆã€å¤‰æ›ã‚’ãã®å ´ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p><p>ã“ã®æ¼”ç¿’ã§ã¯ã€<code>gateway.yaml</code> ã‚’æ›´æ–°ã—ã¦ã€æ¬¡ã®å‡¦ç†ã‚’è¡Œã† <strong>Transform Processor</strong> ã‚’è¿½åŠ ã—ã¾ã™</p><ul><li>ãƒ­ã‚°ãƒªã‚½ãƒ¼ã‚¹å±æ€§ã® <strong>ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°</strong></li><li>JSONæ§‹é€ åŒ–ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®å±æ€§ã¸ã® <strong>ãƒ‘ãƒ¼ã‚¹</strong></li><li>ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ã«åŸºã¥ããƒ­ã‚°é‡å¤§åº¦ãƒ¬ãƒ™ãƒ«ã® <strong>è¨­å®š</strong></li></ul><p>ä»¥å‰ã®ãƒ­ã‚°ã§ <code>SeverityText</code> ã‚„ <code>SeverityNumber</code> ãŒæœªå®šç¾©ã ã£ãŸã“ã¨ã«ãŠæ°—ã¥ãã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã¯ <code>filelog</code> ãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã®å…¸å‹çš„ãªå‹•ä½œã§ã™ã€‚ãŸã ã—ã€é‡å¤§åº¦ã¯ãƒ­ã‚°æœ¬æ–‡å†…ã«åŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚ä¾‹</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>SeverityText:
</span></span><span class=line><span class=cl>SeverityNumber: Unspecified(0)
</span></span><span class=line><span class=cl>Body: Str(2025-01-31 15:49:29 [WARN] - Do or do not, there is no try.)</span></span></code></pre></div><p>ãƒ­ã‚°ã«ã¯ã€ãƒ­ã‚°æœ¬æ–‡å†…ã«JSONã¨ã—ã¦ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å±æ€§ã¨ã—ã¦æŠ½å‡ºã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¯ã‚¨ãƒªã®åŠ¹ç‡ãŒå‘ä¸Šã—ã¾ã™ã€‚ä¸‹æµã®ã‚·ã‚¹ãƒ†ãƒ ã§æ‰‹å‹•ã§JSONã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ä»£ã‚ã‚Šã«ã€OTTLã‚’ä½¿ç”¨ã—ã¦ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ¬ãƒ™ãƒ«ã§è‡ªå‹•çš„ã«å¤‰æ›ã§ãã¾ã™ã€‚</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><details open class="box cstyle notices important"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-bolt"></i>
é‡è¦</summary><div class=box-content><p><strong>ã™ã¹ã¦ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ <code>5-transform-data</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€<code>clear</code> ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚</strong></p></div></details><p><code>4-sensitve-data</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ <code>*.yaml</code> ã‚’ <code>5-transform-data</code> ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚æ›´æ–°å¾Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-b2f735cb62f4402a50a06b4b3b6c1940><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-573d8c179a4b0a62c90745dd329206ca aria-expanded=true data-tab-item=R-tab-5a476a4994a778a4fb1b2011e6c9054c class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-b2f735cb62f4402a50a06b4b3b6c1940","R-tab-5a476a4994a778a4fb1b2011e6c9054c")'>
<span class=tab-nav-text>Updated Directory Structure</span></button></div><div class=tab-content-container><div id=R-tab-id-573d8c179a4b0a62c90745dd329206ca data-tab-item=R-tab-5a476a4994a778a4fb1b2011e6c9054c class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>â”œâ”€â”€ agent.yaml
</span></span><span class=line><span class=cl>â””â”€â”€ gateway.yaml</span></span></code></pre></div></div></div></div></div></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><section><h1 class=a11y-only>5. Transform Dataã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=51-configuration>5.1 Configuration</h1><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p><strong><code>transform</code> ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’è¿½åŠ ã™ã‚‹</strong>: <strong>Gateway terminal</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«åˆ‡ã‚Šæ›¿ãˆã€<code>gateway.yaml</code> ã‚’ç·¨é›†ã—ã¦æ¬¡ã® <code>transform</code> ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’è¿½åŠ ã—ã¾ã™</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>  </span><span class=nt>transform/logs</span><span class=p>:</span><span class=w>                      </span><span class=c># Processor Type/Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>log_statements</span><span class=p>:</span><span class=w>                    </span><span class=c># Log Processing Statements</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>context</span><span class=p>:</span><span class=w> </span><span class=l>resource             </span><span class=w> </span><span class=c># Log Context</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>statements</span><span class=p>:</span><span class=w>                    </span><span class=c># List of attribute keys to keep</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>keep_keys(attributes, [&#34;com.splunk.sourcetype&#34;, &#34;host.name&#34;, &#34;otelcol.service.mode&#34;])</span></span></span></code></pre></div><p><code>-context: resource</code> ã‚­ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ­ã‚°ã® <code>resourceLog</code> å±æ€§ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã—ã¦ã„ã¾ã™ã€‚</p><p>ã“ã®è¨­å®šã«ã‚ˆã‚Šã€é–¢é€£ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹å±æ€§ï¼ˆ<code>com.splunk.sourcetype</code>ã€<code>host.name</code>ã€<code>otelcol.service.mode</code>ï¼‰ã®ã¿ãŒä¿æŒã•ã‚Œã€ãƒ­ã‚°ã®åŠ¹ç‡ãŒå‘ä¸Šã—ã€ä¸è¦ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒå‰Šæ¸›ã•ã‚Œã¾ã™ã€‚</p><p><strong>ãƒ­ã‚°é‡å¤§åº¦ãƒãƒƒãƒ”ãƒ³ã‚°ç”¨ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ–ãƒ­ãƒƒã‚¯ã‚’è¿½åŠ ã™ã‚‹</strong>: ãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰ã® <code>severity_text</code> ã¨ <code>severity_number</code> ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’é©åˆ‡ã«è¨­å®šã™ã‚‹ãŸã‚ã«ã€<code>log_statements</code> å†…ã« <code>log</code> ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ–ãƒ­ãƒƒã‚¯ã‚’è¿½åŠ ã—ã¾ã™ã€‚ã“ã®è¨­å®šã§ã¯ã€ãƒ­ã‚°æœ¬æ–‡ã‹ã‚‰ <code>level</code> å€¤ã‚’æŠ½å‡ºã—ã€<code>severity_text</code> ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã€ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã«åŸºã¥ã„ã¦å¯¾å¿œã™ã‚‹ <code>severity_number</code> ã‚’å‰²ã‚Šå½“ã¦ã¾ã™</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>      </span>- <span class=nt>context</span><span class=p>:</span><span class=w> </span><span class=l>log                  </span><span class=w> </span><span class=c># Log Context</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>statements</span><span class=p>:</span><span class=w>                    </span><span class=c># Transform Statements Array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>set(cache, ParseJSON(body)) where IsMatch(body, &#34;^\\{&#34;) </span><span class=w> </span><span class=c># Parse JSON log body into a cache object</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>flatten(cache, &#34;&#34;)                                       </span><span class=w> </span><span class=c># Flatten nested JSON structure</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>merge_maps(attributes, cache, &#34;upsert&#34;)                  </span><span class=w> </span><span class=c># Merge cache into attributes, updating existing keys</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>set(severity_text, attributes[&#34;level&#34;])                  </span><span class=w> </span><span class=c># Set severity_text from the &#34;level&#34; attribute</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>set(severity_number, 1) where severity_text == &#34;TRACE&#34;   </span><span class=w> </span><span class=c># Map severity_text to severity_number</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>set(severity_number, 5) where severity_text == &#34;DEBUG&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>set(severity_number, 9) where severity_text == &#34;INFO&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>set(severity_number, 13) where severity_text == &#34;WARN&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>set(severity_number, 17) where severity_text == &#34;ERROR&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>set(severity_number, 21) where severity_text == &#34;FATAL&#34;</span></span></span></code></pre></div><p><code>merge_maps</code> é–¢æ•°ã¯ã€2ã¤ã®ãƒãƒƒãƒ—ï¼ˆè¾æ›¸ï¼‰ã‚’1ã¤ã«çµåˆã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ã“ã®å ´åˆã€<code>cache</code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆãƒ­ã‚°æœ¬æ–‡ã‹ã‚‰ãƒ‘ãƒ¼ã‚¹ã•ã‚ŒãŸJSONãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€ï¼‰ã‚’ <code>attributes</code> ãƒãƒƒãƒ—ã«ãƒãƒ¼ã‚¸ã—ã¾ã™ã€‚</p><ul><li><strong>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</strong>:<ul><li><code>attributes</code>: ãƒ‡ãƒ¼ã‚¿ãŒãƒãƒ¼ã‚¸ã•ã‚Œã‚‹ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒãƒƒãƒ—</li><li><code>cache</code>: ãƒ‘ãƒ¼ã‚¹ã•ã‚ŒãŸJSONãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€ã‚½ãƒ¼ã‚¹ãƒãƒƒãƒ—</li><li><code>"upsert"</code>: ã“ã®ãƒ¢ãƒ¼ãƒ‰ã¯ã€<code>attributes</code> ãƒãƒƒãƒ—ã«ã™ã§ã«ã‚­ãƒ¼ãŒå­˜åœ¨ã™ã‚‹å ´åˆã€ãã®å€¤ãŒ <code>cache</code> ã®å€¤ã§æ›´æ–°ã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚ã‚­ãƒ¼ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ã€æŒ¿å…¥ã•ã‚Œã¾ã™ã€‚</li></ul></li></ul><p>ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ã€ãƒ­ã‚°æœ¬æ–‡ã‹ã‚‰ã®ã™ã¹ã¦ã®é–¢é€£ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆä¾‹ï¼š<code>level</code>ã€<code>message</code> ãªã©ï¼‰ãŒ <code>attributes</code> ãƒãƒƒãƒ—ã«è¿½åŠ ã•ã‚Œã€ã•ã‚‰ãªã‚‹å‡¦ç†ã‚„ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§åˆ©ç”¨å¯èƒ½ã«ãªã‚‹ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã€éå¸¸ã«é‡è¦ã§ã™ã€‚</p><p><strong>ä¸»è¦ãªå¤‰æ›ã®æ¦‚è¦</strong>:</p><ul><li><strong>Parse JSON</strong>: ãƒ­ã‚°æœ¬æ–‡ã‹ã‚‰æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã—ã¾ã™ã€‚</li><li><strong>Flatten JSON</strong>: ãƒã‚¹ãƒˆã•ã‚ŒãŸJSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ•ãƒ©ãƒƒãƒˆãªæ§‹é€ ã«å¤‰æ›ã—ã¾ã™ã€‚</li><li><strong>Merge Attributes</strong>: æŠ½å‡ºã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ã‚°å±æ€§ã«çµ±åˆã—ã¾ã™ã€‚</li><li><strong>Map Severity Text</strong>: ãƒ­ã‚°ã® level å±æ€§ã‹ã‚‰ severity_text ã‚’å‰²ã‚Šå½“ã¦ã¾ã™ã€‚</li><li><strong>Assign Severity Numbers</strong>: é‡å¤§åº¦ãƒ¬ãƒ™ãƒ«ã‚’æ¨™æº–åŒ–ã•ã‚ŒãŸæ•°å€¤ã«å¤‰æ›ã—ã¾ã™ã€‚</li></ul><details open class="box cstyle notices important"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-bolt"></i>
é‡è¦</summary><div class=box-content><p><code>resource</code> ç”¨ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ–ãƒ­ãƒƒã‚¯ã¨ <code>log</code> ç”¨ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ–ãƒ­ãƒƒã‚¯ã®2ã¤ã‚’å«ã‚€ <strong>å˜ä¸€ã®</strong> <code>transform</code> ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ãŒå¿…è¦ã§ã™ã€‚</p></div></details><p>ã“ã®è¨­å®šã«ã‚ˆã‚Šã€ãƒ­ã‚°ã®é‡å¤§åº¦ãŒæ­£ã—ãæŠ½å‡ºã€æ¨™æº–åŒ–ã•ã‚Œã€åŠ¹ç‡çš„ãªå‡¦ç†ã®ãŸã‚ã«æ§‹é€ åŒ–ã•ã‚Œã¾ã™ã€‚</p><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>ã™ã¹ã¦ã®JSONãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®å±æ€§ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ã“ã®æ–¹æ³•ã¯ã€<strong>OTTLã®ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒãƒƒã‚°</strong>ã®ã¿ã«ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚æœ¬ç•ªç’°å¢ƒã§ã¯é«˜ã„ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ãŒç™ºç”Ÿã—ã¾ã™ã€‚</p></div></details><p><strong><code>logs</code> ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ›´æ–°ã™ã‚‹</strong>: <code>logs:</code> ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã« <code>transform/logs:</code> ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’è¿½åŠ ã—ã€è¨­å®šãŒæ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã‚ˆã†ã«ã—ã¾ã™</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>logs</span><span class=p>:</span><span class=w>                         </span><span class=c># Logs pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>otlp                     </span><span class=w> </span><span class=c># OTLP receiver</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w>                 </span><span class=c># Processors for logs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>memory_limiter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>resource/add_mode</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>transform/logs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>batch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>debug                    </span><span class=w> </span><span class=c># Debug exporter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>file/logs</span></span></span></code></pre></div></div></details><p><a href=https://otelbin.io/ rel=external><strong>https://otelbin.io</strong></a> ã‚’ä½¿ç”¨ã—ã¦ Agent ã®è¨­å®šã‚’æ¤œè¨¼ã—ã¾ã™ã€‚å‚è€ƒã¨ã—ã¦ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã® <code>logs:</code> ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™</p><pre class="mermaid align-center">%%{init:{&#34;fontFamily&#34;:&#34;monospace&#34;}}%%
graph LR
    %% Nodes
      REC1(&amp;nbsp;&amp;nbsp;otlp&amp;nbsp;&amp;nbsp;&lt;br&gt;fa:fa-download):::receiver
      PRO1(memory_limiter&lt;br&gt;fa:fa-microchip):::processor
      PRO3(resource&lt;br&gt;fa:fa-microchip&lt;br&gt;add_mode):::processor
      PRO4(transform&lt;br&gt;fa:fa-microchip&lt;br&gt;logs):::processor
      PRO5(batch&lt;br&gt;fa:fa-microchip):::processor
      EXP1(file&lt;br&gt;fa:fa-upload&lt;br&gt;logs):::exporter
      EXP2(&amp;ensp;&amp;ensp;debug&amp;ensp;&amp;ensp;&lt;br&gt;fa:fa-upload):::exporter
    %% Links
    subID1:::sub-logs
    subgraph &#34; &#34;
      subgraph subID1[**Logs**]
      direction LR
      REC1 --&gt; PRO1
      PRO1 --&gt; PRO3
      PRO3 --&gt; PRO4
      PRO4 --&gt; PRO5
      PRO5 --&gt; EXP2
      PRO5 --&gt; EXP1
      end
    end
classDef receiver,exporter fill:#8b5cf6,stroke:#333,stroke-width:1px,color:#fff;
classDef processor fill:#6366f1,stroke:#333,stroke-width:1px,color:#fff;
classDef con-receive,con-export fill:#45c175,stroke:#333,stroke-width:1px,color:#fff;
classDef sub-logs stroke:#34d399,stroke-width:1px, color:#34d399,stroke-dasharray: 3 3;</pre><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><article class=default><header class=headline></header><h1 id=52-setup-environment>5.2 Setup Environment</h1><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p><strong>Gateway ã‚’èµ·å‹•ã™ã‚‹</strong>: <strong>Gateway terminal</strong> ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-b6993d9fb8c2e2cedd88333fa3bf7324><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-702d638dd5734aa523899f924b2c0bfd aria-expanded=true data-tab-item=R-tab-dc146ad677dc5dd9c26a2a6537f98eb7 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-b6993d9fb8c2e2cedd88333fa3bf7324","R-tab-dc146ad677dc5dd9c26a2a6537f98eb7")'>
<span class=tab-nav-text>Start the Gateway</span></button></div><div class=tab-content-container><div id=R-tab-id-702d638dd5734aa523899f924b2c0bfd data-tab-item=R-tab-dc146ad677dc5dd9c26a2a6537f98eb7 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>gateway.yaml</span></span></code></pre></div></div></div></div></div><p><strong>Agent ã‚’èµ·å‹•ã™ã‚‹</strong>: <strong>Agent terminal</strong> ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-2f57e7318bffe889b71aba849332f0bc><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-d875eb67d7fc87286828caff00f1a9c9 aria-expanded=true data-tab-item=R-tab-e2d8debf4ffe3bb6331201655f536d9d class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-2f57e7318bffe889b71aba849332f0bc","R-tab-e2d8debf4ffe3bb6331201655f536d9d")'>
<span class=tab-nav-text>Start the Agent</span></button></div><div class=tab-content-container><div id=R-tab-id-d875eb67d7fc87286828caff00f1a9c9 data-tab-item=R-tab-e2d8debf4ffe3bb6331201655f536d9d class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>agent.yaml</span></span></code></pre></div></div></div></div></div><p><strong>Load Generator ã‚’èµ·å‹•ã™ã‚‹</strong>: <strong>Loadgen terminal</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ <strong>JSON ã‚’æœ‰åŠ¹</strong>ã«ã—ãŸ Load Generator ã‚’èµ·å‹•ã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-76487cefad8555fbb450e6fd79697c57><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-b72ef751b00081fc5c6a0f180d33da46 aria-expanded=true data-tab-item=R-tab-f39d270d077420f218253d70fb4d013a class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-76487cefad8555fbb450e6fd79697c57","R-tab-f39d270d077420f218253d70fb4d013a")'>
<span class=tab-nav-text>Log Generator</span></button></div><div class=tab-content-container><div id=R-tab-id-b72ef751b00081fc5c6a0f180d33da46 data-tab-item=R-tab-f39d270d077420f218253d70fb4d013a class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../loadgen -logs -json -count <span class=m>5</span></span></span></code></pre></div></div></div></div></div><p><code>loadgen</code> ã¯ JSON å½¢å¼ã§ 5 è¡Œã®ãƒ­ã‚°ã‚’ <code>./quotes.log</code> ã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><article class=default><header class=headline></header><h1 id=53-test-transform-processor>5.3 Test Transform Processor</h1><p>ã“ã®ãƒ†ã‚¹ãƒˆã§ã¯ã€<strong>Agent</strong> ã«ã‚ˆã£ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹å‰ã«ã€<code>com.splunk/source</code> ã¨ <code>os.type</code> ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒãƒ­ã‚°ãƒªã‚½ãƒ¼ã‚¹å±æ€§ã‹ã‚‰ <strong>å‰Šé™¤</strong> ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ã•ã‚‰ã«ã€ã“ã®ãƒ†ã‚¹ãƒˆã§ã¯ä»¥ä¸‹ã‚’ç¢ºèªã—ã¾ã™</p><ol><li>é‡å¤§åº¦æƒ…å ±ã‚’æŠ½å‡ºã™ã‚‹ãŸã‚ã«ãƒ­ã‚°æœ¬æ–‡ãŒãƒ‘ãƒ¼ã‚¹ã•ã‚Œã¦ã„ã‚‹ã“ã¨<ul><li><code>SeverityText</code> ã¨ <code>SeverityNumber</code> ãŒ <code>LogRecord</code> ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨</li></ul></li><li>ãƒ­ã‚°æœ¬æ–‡ã® JSON ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãƒ­ã‚° <code>attributes</code> ã«æ˜‡æ ¼ã—ã¦ã„ã‚‹ã“ã¨</li></ol><p>ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå‰ã«é©åˆ‡ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€é‡å¤§åº¦ãƒãƒƒãƒ”ãƒ³ã‚°ã€ãŠã‚ˆã³æ§‹é€ åŒ–ãƒ­ã‚°ã®ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆãŒè¡Œã‚ã‚Œã‚‹ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p><strong>ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ã‚’ç¢ºèªã™ã‚‹</strong>: <strong>Agent</strong> ã¨ <strong>Gateway</strong> ã®ä¸¡æ–¹ã§ã€<code>com.splunk/source</code> ã¨ <code>os.type</code> ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-8c55a55d0f25545a60d841bffadfe659><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-24cb229a4c11981cf98083588b0007fd aria-expanded=true data-tab-item=R-tab-e35301d59bcd0f79d44c5c0a86f077c6 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-8c55a55d0f25545a60d841bffadfe659","R-tab-e35301d59bcd0f79d44c5c0a86f077c6")'>
<span class=tab-nav-text>Gateway Debug Output</span>
</button>
<button aria-controls=R-tab-id-b02f2369a663f7b3785c550cc47bc249 aria-expanded=false data-tab-item=R-tab-42538fea3c4f3a8e2d3b752dbdb349e9 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-8c55a55d0f25545a60d841bffadfe659","R-tab-42538fea3c4f3a8e2d3b752dbdb349e9")'>
<span class=tab-nav-text>Agent Debug Output</span></button></div><div class=tab-content-container><div id=R-tab-id-24cb229a4c11981cf98083588b0007fd data-tab-item=R-tab-e35301d59bcd0f79d44c5c0a86f077c6 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Resource attributes:
</span></span><span class=line><span class=cl>   -&gt; com.splunk.sourcetype: Str(quotes)
</span></span><span class=line><span class=cl>   -&gt; host.name: Str(workshop-instance)
</span></span><span class=line><span class=cl>   -&gt; otelcol.service.mode: Str(agent)</span></span></code></pre></div></div></div><div id=R-tab-id-b02f2369a663f7b3785c550cc47bc249 data-tab-item=R-tab-42538fea3c4f3a8e2d3b752dbdb349e9 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Resource attributes:
</span></span><span class=line><span class=cl>   -&gt; com.splunk.source: Str(./quotes.log)
</span></span><span class=line><span class=cl>   -&gt; com.splunk.sourcetype: Str(quotes)
</span></span><span class=line><span class=cl>   -&gt; host.name: Str(workshop-instance)
</span></span><span class=line><span class=cl>   -&gt; os.type: Str(linux)
</span></span><span class=line><span class=cl>   -&gt; otelcol.service.mode: Str(agent)</span></span></code></pre></div></div></div></div></div><p><strong>Agent</strong> ã¨ <strong>Gateway</strong> ã®ä¸¡æ–¹ã§ã€<code>LogRecord</code> ã® <code>SeverityText</code> ã¨ <code>SeverityNumber</code> ãŒãƒ­ã‚°æœ¬æ–‡ã®é‡å¤§åº¦ <code>level</code> ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ã¾ãŸã€æœ¬æ–‡ã® JSON ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ãƒ­ã‚° <code>Attributes</code> ã¨ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-b39b949d5e92a3a1cc4e79ab229fe6eb><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-c9becb11e8e3cb315602183f67338fe9 aria-expanded=true data-tab-item=R-tab-e35301d59bcd0f79d44c5c0a86f077c6 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-b39b949d5e92a3a1cc4e79ab229fe6eb","R-tab-e35301d59bcd0f79d44c5c0a86f077c6")'>
<span class=tab-nav-text>Gateway Debug Output</span>
</button>
<button aria-controls=R-tab-id-8c378906c717b52200375acc864a62c3 aria-expanded=false data-tab-item=R-tab-ead80b063f3a982e1fec2398ed5eb0e3 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-b39b949d5e92a3a1cc4e79ab229fe6eb","R-tab-ead80b063f3a982e1fec2398ed5eb0e3")'>
<span class=tab-nav-text>Agemt Debug Output</span></button></div><div class=tab-content-container><div id=R-tab-id-c9becb11e8e3cb315602183f67338fe9 data-tab-item=R-tab-e35301d59bcd0f79d44c5c0a86f077c6 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>&lt;snip&gt;
</span></span><span class=line><span class=cl>SeverityText: WARN
</span></span><span class=line><span class=cl>SeverityNumber: Warn(13)
</span></span><span class=line><span class=cl>Body: Str({&#34;level&#34;:&#34;WARN&#34;,&#34;message&#34;:&#34;Your focus determines your reality.&#34;,&#34;movie&#34;:&#34;SW&#34;,&#34;timestamp&#34;:&#34;2025-03-07 11:17:26&#34;})
</span></span><span class=line><span class=cl>Attributes:
</span></span><span class=line><span class=cl>     -&gt; log.file.path: Str(quotes.log)
</span></span><span class=line><span class=cl>     -&gt; level: Str(WARN)
</span></span><span class=line><span class=cl>     -&gt; message: Str(Your focus determines your reality.)
</span></span><span class=line><span class=cl>     -&gt; movie: Str(SW)
</span></span><span class=line><span class=cl>     -&gt; timestamp: Str(2025-03-07 11:17:26)
</span></span><span class=line><span class=cl>&lt;/snip&gt;</span></span></code></pre></div></div></div><div id=R-tab-id-8c378906c717b52200375acc864a62c3 data-tab-item=R-tab-ead80b063f3a982e1fec2398ed5eb0e3 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>&lt;snip&gt;
</span></span><span class=line><span class=cl>SeverityText:
</span></span><span class=line><span class=cl>SeverityNumber: Unspecified(0)
</span></span><span class=line><span class=cl>Body: Str({&#34;level&#34;:&#34;WARN&#34;,&#34;message&#34;:&#34;Your focus determines your reality.&#34;,&#34;movie&#34;:&#34;SW&#34;,&#34;timestamp&#34;:&#34;2025-03-07 11:17:26&#34;})
</span></span><span class=line><span class=cl>Attributes:
</span></span><span class=line><span class=cl>     -&gt; log.file.path: Str(quotes.log)
</span></span><span class=line><span class=cl>&lt;/snip&gt;</span></span></code></pre></div></div></div></div></div><p><strong>ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›ã‚’ç¢ºèªã™ã‚‹</strong>: æ–°ã—ã„ <code>gateway-logs.out</code> ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ‡ãƒ¼ã‚¿ãŒå¤‰æ›ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-85c62faa9d2a9718129ceb01a6387555><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-386f8793f8d1de242753d875a5027d32 aria-expanded=true data-tab-item=R-tab-58659ac8bbb7a3ec80b7df1029812298 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-85c62faa9d2a9718129ceb01a6387555","R-tab-58659ac8bbb7a3ec80b7df1029812298")'>
<span class=tab-nav-text>jq Query</span>
</button>
<button aria-controls=R-tab-id-647311f55e394dae7d60ac43b78a179a aria-expanded=false data-tab-item=R-tab-4c50e65a8a1f9aa989870396b5c0a12b class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-85c62faa9d2a9718129ceb01a6387555","R-tab-4c50e65a8a1f9aa989870396b5c0a12b")'>
<span class=tab-nav-text>Example Output</span></button></div><div class=tab-content-container><div id=R-tab-id-386f8793f8d1de242753d875a5027d32 data-tab-item=R-tab-58659ac8bbb7a3ec80b7df1029812298 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>jq <span class=s1>&#39;[.resourceLogs[].scopeLogs[].logRecords[] | {severityText, severityNumber, body: .body.stringValue}]&#39;</span> gateway-logs.out</span></span></code></pre></div></div></div><div id=R-tab-id-647311f55e394dae7d60ac43b78a179a data-tab-item=R-tab-4c50e65a8a1f9aa989870396b5c0a12b class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;severityText&#34;</span><span class=p>:</span> <span class=s2>&#34;DEBUG&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;severityNumber&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;body&#34;</span><span class=p>:</span> <span class=s2>&#34;{\&#34;level\&#34;:\&#34;DEBUG\&#34;,\&#34;message\&#34;:\&#34;All we have to decide is what to do with the time that is given us.\&#34;,\&#34;movie\&#34;:\&#34;LOTR\&#34;,\&#34;timestamp\&#34;:\&#34;2025-03-07 11:56:29\&#34;}&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;severityText&#34;</span><span class=p>:</span> <span class=s2>&#34;WARN&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;severityNumber&#34;</span><span class=p>:</span> <span class=mi>13</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;body&#34;</span><span class=p>:</span> <span class=s2>&#34;{\&#34;level\&#34;:\&#34;WARN\&#34;,\&#34;message\&#34;:\&#34;The Force will be with you. Always.\&#34;,\&#34;movie\&#34;:\&#34;SW\&#34;,\&#34;timestamp\&#34;:\&#34;2025-03-07 11:56:29\&#34;}&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;severityText&#34;</span><span class=p>:</span> <span class=s2>&#34;ERROR&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;severityNumber&#34;</span><span class=p>:</span> <span class=mi>17</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;body&#34;</span><span class=p>:</span> <span class=s2>&#34;{\&#34;level\&#34;:\&#34;ERROR\&#34;,\&#34;message\&#34;:\&#34;One does not simply walk into Mordor.\&#34;,\&#34;movie\&#34;:\&#34;LOTR\&#34;,\&#34;timestamp\&#34;:\&#34;2025-03-07 11:56:29\&#34;}&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;severityText&#34;</span><span class=p>:</span> <span class=s2>&#34;DEBUG&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;severityNumber&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;body&#34;</span><span class=p>:</span> <span class=s2>&#34;{\&#34;level\&#34;:\&#34;DEBUG\&#34;,\&#34;message\&#34;:\&#34;Do or do not, there is no try.\&#34;,\&#34;movie\&#34;:\&#34;SW\&#34;,\&#34;timestamp\&#34;:\&#34;2025-03-07 11:56:29\&#34;}&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;severityText&#34;</span><span class=p>:</span> <span class=s2>&#34;ERROR&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;severityNumber&#34;</span><span class=p>:</span> <span class=mi>17</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;body&#34;</span><span class=p>:</span> <span class=s2>&#34;{\&#34;level\&#34;:\&#34;ERROR\&#34;,\&#34;message\&#34;:\&#34;There is some good in this world, and it&#39;s worth fighting for.\&#34;,\&#34;movie\&#34;:\&#34;LOTR\&#34;,\&#34;timestamp\&#34;:\&#34;2025-03-07 11:56:29\&#34;}&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div></div></div></div></details><details open class="box cstyle notices important"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-bolt"></i>
é‡è¦</summary><div class=box-content><p>ãã‚Œãã‚Œã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ <code>Ctrl-C</code> ã‚’æŠ¼ã—ã¦ã€<strong>Agent</strong> ã¨ <strong>Gateway</strong> ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢ã—ã¦ãã ã•ã„ã€‚</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article></section></div></main></div><script src=/observability-workshop/js/js-yaml/js-yaml.min.js?1769686751 defer></script><script src=/observability-workshop/js/d3/d3-color.min.js?1769686751 defer></script><script src=/observability-workshop/js/d3/d3-dispatch.min.js?1769686751 defer></script><script src=/observability-workshop/js/d3/d3-drag.min.js?1769686751 defer></script><script src=/observability-workshop/js/d3/d3-ease.min.js?1769686751 defer></script><script src=/observability-workshop/js/d3/d3-interpolate.min.js?1769686751 defer></script><script src=/observability-workshop/js/d3/d3-selection.min.js?1769686751 defer></script><script src=/observability-workshop/js/d3/d3-timer.min.js?1769686751 defer></script><script src=/observability-workshop/js/d3/d3-transition.min.js?1769686751 defer></script><script src=/observability-workshop/js/d3/d3-zoom.min.js?1769686751 defer></script><script src=/observability-workshop/js/mermaid/mermaid.min.js?1769686751 defer></script><script>window.relearn.themeUseMermaid=JSON.parse("{}")</script><script src=/observability-workshop/js/clipboard/clipboard.min.js?1769686751 defer></script><script src=/observability-workshop/js/perfect-scrollbar/perfect-scrollbar.min.js?1769686751 defer></script><script src=/observability-workshop/js/theme.min.js?1769686751 defer></script></body></html>