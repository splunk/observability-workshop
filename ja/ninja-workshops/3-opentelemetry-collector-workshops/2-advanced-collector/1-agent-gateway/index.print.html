<!doctype html><html id=R-html lang=ja dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 9.0.3+9bc97fdf9eaf3af61af9bcc11db2e010de83af95"><meta name=description content="ã‚ˆã†ã“ãï¼ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€Agent ã¨ Gateway ã®ä¸¡æ–¹ã‚’å«ã‚€å®Œå…¨ã«æ©Ÿèƒ½ã™ã‚‹ OpenTelemetry ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰å§‹ã‚ã¾ã™ã€‚
ã¾ãšã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç°¡å˜ã«ç¢ºèªã—ã¦ã€å…¨ä½“çš„ãªæ§‹é€ ã«æ…£ã‚Œã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åˆ¶å¾¡ã™ã‚‹é‡è¦ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚
Tip ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’é€šã˜ã¦ã€è¤‡æ•°ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æ•´ç†ã—ã‚„ã™ãã™ã‚‹ãŸã‚ã«ã€å„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«å›ºæœ‰ã®åå‰ã¾ãŸã¯è‰²ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ¼”ç¿’ä¸­ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ç°¡å˜ã«è­˜åˆ¥ã—ã¦åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã‚Œã‚‰ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ Agentã€Gatewayã€Loadgenã€Test ã¨å‘¼ã³ã¾ã™ã€‚
Exercise æœ€åˆã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½œæˆã—ã€Agent ã¨åå‰ã‚’ä»˜ã‘ã¾ã™ã€‚æœ€åˆã®æ¼”ç¿’ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª [WORKSHOP]/1-agent-gateway ã«ç§»å‹•ã—ã€å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
cd 1-agent-gateway ls -l ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚è¡¨ç¤ºã•ã‚Œãªã„å ´åˆã¯ã€å‰ææ¡ä»¶ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ setup-workshop.sh ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å†å®Ÿè¡Œã—ã¦ãã ã•ã„
â€‹ Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml Agent è¨­å®šã®ç†è§£ ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ä½¿ç”¨ã™ã‚‹ agent.yaml ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸»è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ­ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«é‡è¦ãªè¿½åŠ ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="1. Agent è¨­å®šã®ç¢ºèª :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="ã‚ˆã†ã“ãï¼ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€Agent ã¨ Gateway ã®ä¸¡æ–¹ã‚’å«ã‚€å®Œå…¨ã«æ©Ÿèƒ½ã™ã‚‹ OpenTelemetry ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰å§‹ã‚ã¾ã™ã€‚
ã¾ãšã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç°¡å˜ã«ç¢ºèªã—ã¦ã€å…¨ä½“çš„ãªæ§‹é€ ã«æ…£ã‚Œã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åˆ¶å¾¡ã™ã‚‹é‡è¦ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚
Tip ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’é€šã˜ã¦ã€è¤‡æ•°ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æ•´ç†ã—ã‚„ã™ãã™ã‚‹ãŸã‚ã«ã€å„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«å›ºæœ‰ã®åå‰ã¾ãŸã¯è‰²ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ¼”ç¿’ä¸­ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ç°¡å˜ã«è­˜åˆ¥ã—ã¦åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã‚Œã‚‰ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ Agentã€Gatewayã€Loadgenã€Test ã¨å‘¼ã³ã¾ã™ã€‚
Exercise æœ€åˆã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½œæˆã—ã€Agent ã¨åå‰ã‚’ä»˜ã‘ã¾ã™ã€‚æœ€åˆã®æ¼”ç¿’ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª [WORKSHOP]/1-agent-gateway ã«ç§»å‹•ã—ã€å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
cd 1-agent-gateway ls -l ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚è¡¨ç¤ºã•ã‚Œãªã„å ´åˆã¯ã€å‰ææ¡ä»¶ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ setup-workshop.sh ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å†å®Ÿè¡Œã—ã¦ãã ã•ã„
â€‹ Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml Agent è¨­å®šã®ç†è§£ ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ä½¿ç”¨ã™ã‚‹ agent.yaml ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸»è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ­ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«é‡è¦ãªè¿½åŠ ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚"><meta property="og:url" content="https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/1-agent-gateway/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="1. Agent è¨­å®šã®ç¢ºèª :: Splunk Observability Cloud Workshops"><meta property="og:description" content="ã‚ˆã†ã“ãï¼ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€Agent ã¨ Gateway ã®ä¸¡æ–¹ã‚’å«ã‚€å®Œå…¨ã«æ©Ÿèƒ½ã™ã‚‹ OpenTelemetry ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰å§‹ã‚ã¾ã™ã€‚
ã¾ãšã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç°¡å˜ã«ç¢ºèªã—ã¦ã€å…¨ä½“çš„ãªæ§‹é€ ã«æ…£ã‚Œã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åˆ¶å¾¡ã™ã‚‹é‡è¦ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚
Tip ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’é€šã˜ã¦ã€è¤‡æ•°ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æ•´ç†ã—ã‚„ã™ãã™ã‚‹ãŸã‚ã«ã€å„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«å›ºæœ‰ã®åå‰ã¾ãŸã¯è‰²ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ¼”ç¿’ä¸­ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ç°¡å˜ã«è­˜åˆ¥ã—ã¦åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã‚Œã‚‰ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ Agentã€Gatewayã€Loadgenã€Test ã¨å‘¼ã³ã¾ã™ã€‚
Exercise æœ€åˆã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½œæˆã—ã€Agent ã¨åå‰ã‚’ä»˜ã‘ã¾ã™ã€‚æœ€åˆã®æ¼”ç¿’ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª [WORKSHOP]/1-agent-gateway ã«ç§»å‹•ã—ã€å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
cd 1-agent-gateway ls -l ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚è¡¨ç¤ºã•ã‚Œãªã„å ´åˆã¯ã€å‰ææ¡ä»¶ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ setup-workshop.sh ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å†å®Ÿè¡Œã—ã¦ãã ã•ã„
â€‹ Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml Agent è¨­å®šã®ç†è§£ ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ä½¿ç”¨ã™ã‚‹ agent.yaml ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸»è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ­ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«é‡è¦ãªè¿½åŠ ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚"><meta property="og:locale" content="ja"><meta property="og:type" content="website"><meta itemprop=name content="1. Agent è¨­å®šã®ç¢ºèª :: Splunk Observability Cloud Workshops"><meta itemprop=description content="ã‚ˆã†ã“ãï¼ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€Agent ã¨ Gateway ã®ä¸¡æ–¹ã‚’å«ã‚€å®Œå…¨ã«æ©Ÿèƒ½ã™ã‚‹ OpenTelemetry ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰å§‹ã‚ã¾ã™ã€‚
ã¾ãšã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç°¡å˜ã«ç¢ºèªã—ã¦ã€å…¨ä½“çš„ãªæ§‹é€ ã«æ…£ã‚Œã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åˆ¶å¾¡ã™ã‚‹é‡è¦ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚
Tip ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’é€šã˜ã¦ã€è¤‡æ•°ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æ•´ç†ã—ã‚„ã™ãã™ã‚‹ãŸã‚ã«ã€å„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«å›ºæœ‰ã®åå‰ã¾ãŸã¯è‰²ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ¼”ç¿’ä¸­ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ç°¡å˜ã«è­˜åˆ¥ã—ã¦åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã‚Œã‚‰ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ Agentã€Gatewayã€Loadgenã€Test ã¨å‘¼ã³ã¾ã™ã€‚
Exercise æœ€åˆã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½œæˆã—ã€Agent ã¨åå‰ã‚’ä»˜ã‘ã¾ã™ã€‚æœ€åˆã®æ¼”ç¿’ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª [WORKSHOP]/1-agent-gateway ã«ç§»å‹•ã—ã€å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™
cd 1-agent-gateway ls -l ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚è¡¨ç¤ºã•ã‚Œãªã„å ´åˆã¯ã€å‰ææ¡ä»¶ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ setup-workshop.sh ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å†å®Ÿè¡Œã—ã¦ãã ã•ã„
â€‹ Directory Structure . â”œâ”€â”€ agent.yaml â””â”€â”€ gateway.yaml Agent è¨­å®šã®ç†è§£ ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ä½¿ç”¨ã™ã‚‹ agent.yaml ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸»è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ­ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«é‡è¦ãªè¿½åŠ ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚"><meta itemprop=dateModified content="2026-01-23T16:19:26+09:00"><meta itemprop=wordCount content="194"><title>1. Agent è¨­å®šã®ç¢ºèª :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/en/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/1-agent-gateway/index.html rel=alternate hreflang=x-default><link href=https://splunk.github.io/observability-workshop/en/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/1-agent-gateway/index.html rel=alternate hreflang=en><link href=https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/1-agent-gateway/index.html rel=alternate hreflang=ja><link href=https://splunk.github.io/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/1-agent-gateway/index.html rel=canonical type=text/html title="1. Agent è¨­å®šã®ç¢ºèª :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/images/favicon.ico?1770160991 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/css/auto-complete/auto-complete.min.css?1770160991 rel=stylesheet><script src=/observability-workshop/js/auto-complete/auto-complete.min.js?1770160991 defer></script><script src=/observability-workshop/js/search-lunr.min.js?1770160991 defer></script><script src=/observability-workshop/js/search.min.js?1770160991 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/searchindex.ja.js?1770160991"</script><script src=/observability-workshop/js/lunr/lunr.min.js?1770160991 defer></script><script src=/observability-workshop/js/lunr/lunr.stemmer.support.min.js?1770160991 defer></script><script src=/observability-workshop/js/lunr/lunr.multi.min.js?1770160991 defer></script><script src=/observability-workshop/js/lunr/tinyseg.js?1770160991 defer></script><script src=/observability-workshop/js/lunr/lunr.ja.min.js?1770160991 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["ja"]</script><link href=/observability-workshop/fonts/fontawesome/css/all.min.css?1770160991 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/fonts/fontawesome/css/all.min.css?1770160991 rel=stylesheet></noscript><link href=/observability-workshop/css/perfect-scrollbar/perfect-scrollbar.min.css?1770160991 rel=stylesheet><link href=/observability-workshop/css/theme.min.css?1770160991 rel=stylesheet><link href=/observability-workshop/css/format-print.min.css?1770160991 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/1-agent-gateway/index.html",window.relearn.relBasePath="../../../../..",window.relearn.relBaseUri="../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop",window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.T_Copy_to_clipboard=`ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼`,window.T_Copied_to_clipboard=`ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!`,window.T_Link_copied_to_clipboard=`ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!`,window.T_Reset_view=`ãƒ“ãƒ¥ãƒ¼ã®ãƒªã‚»ãƒƒãƒˆ`,window.T_View_reset=`ãƒªã‚»ãƒƒãƒˆã‚’è¦‹ã‚‹`,window.T_No_results_found=`"{0}" ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`,window.T_N_results_found=`"{0}" ã§ {1} ä»¶ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`,window.T_Browser_unsupported_feature=`ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã“ã®æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantprefix="my-custom-",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant")??"";(!e||!e.startsWith(window.relearn.customvariantprefix)&&!window.relearn.themevariants.includes(e)||e.startsWith(window.relearn.customvariantprefix)&&!window.localStorage.getItem(window.relearn.absBaseUri+"/variantstylesheet-"+e))&&(e=window.relearn.themevariants[0],window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({appplicationName:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",recorder:"splunk",features:{video:!0}})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-origin=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/1-agent-gateway/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar class=default-animation><div class="topbar-wrapper default-animation"><div class="topbar-sidebar-divider default-animation"></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar default-animation" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleNav() type=button title="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></span></div><div class="topbar-button topbar-button-toc default-animation" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title="ç›®æ¬¡ (CTRL+ALT+t)"><i class="fa-fw fas fa-table-list"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><ul><li><a href=#agent-è¨­å®šã®ç†è§£>Agent è¨­å®šã®ç†è§£</a></li></ul></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/index.html><span itemprop=name>Splunk4Ninjas Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/index.html><span itemprop=name>OpenTelemetry Collector ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/index.html><span itemprop=name>Advanced OpenTelemetry Collector</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>1. Agent Configuration</span><meta itemprop=position content="5"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print default-animation" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/1-agent-gateway/index.print.html title="ç« å…¨ä½“ã‚’å°åˆ·ã™ã‚‹ (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span></div><div class="topbar-button topbar-button-prev default-animation" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/prerequisites/index.html title="å‰ææ¡ä»¶ (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span></div><div class="topbar-button topbar-button-next default-animation" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/3-opentelemetry-collector-workshops/2-advanced-collector/1-agent-gateway/1-1-gateway/index.html title="1.1 Gateway è¨­å®šã®ç¢ºèª (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span></div><div class="topbar-button topbar-button-more default-animation" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title=æ›´ã«><i class="fa-fw fas fa-ellipsis-v"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable ninja-workshops" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=1-agent-è¨­å®šã®ç¢ºèª>1. Agent è¨­å®šã®ç¢ºèª</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>ã‚ˆã†ã“ãï¼ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€<strong>Agent</strong> ã¨ <strong>Gateway</strong> ã®ä¸¡æ–¹ã‚’å«ã‚€å®Œå…¨ã«æ©Ÿèƒ½ã™ã‚‹ OpenTelemetry ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰å§‹ã‚ã¾ã™ã€‚</p><p>ã¾ãšã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç°¡å˜ã«ç¢ºèªã—ã¦ã€å…¨ä½“çš„ãªæ§‹é€ ã«æ…£ã‚Œã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åˆ¶å¾¡ã™ã‚‹é‡è¦ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚</p><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’é€šã˜ã¦ã€è¤‡æ•°ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æ•´ç†ã—ã‚„ã™ãã™ã‚‹ãŸã‚ã«ã€å„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«å›ºæœ‰ã®åå‰ã¾ãŸã¯è‰²ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ¼”ç¿’ä¸­ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ç°¡å˜ã«è­˜åˆ¥ã—ã¦åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><p>ã“ã‚Œã‚‰ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ <strong>Agent</strong>ã€<strong>Gateway</strong>ã€<strong>Loadgen</strong>ã€<strong>Test</strong> ã¨å‘¼ã³ã¾ã™ã€‚</p></div></details><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ol><li><p>æœ€åˆã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½œæˆã—ã€<strong>Agent</strong> ã¨åå‰ã‚’ä»˜ã‘ã¾ã™ã€‚æœ€åˆã®æ¼”ç¿’ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª <code>[WORKSHOP]/1-agent-gateway</code> ã«ç§»å‹•ã—ã€å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> 1-agent-gateway
</span></span><span class=line><span class=cl>ls -l</span></span></code></pre></div></li><li><p>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚è¡¨ç¤ºã•ã‚Œãªã„å ´åˆã¯ã€<strong>å‰ææ¡ä»¶</strong> ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ <code>setup-workshop.sh</code> ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å†å®Ÿè¡Œã—ã¦ãã ã•ã„</p><div class=tab-panel data-tab-group=R-tabs-77b0bfbbf3d8afe43b0214dc4823ca24><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-3e083f4ebafcdf028373cd7d10e9599e aria-expanded=true data-tab-item=R-tab-3ea4b283eb322e1c6373d63f91d032be class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-77b0bfbbf3d8afe43b0214dc4823ca24","R-tab-3ea4b283eb322e1c6373d63f91d032be")'>
<span class=tab-nav-text>Directory Structure</span></button></div><div class=tab-content-container><div id=R-tab-id-3e083f4ebafcdf028373cd7d10e9599e data-tab-item=R-tab-3ea4b283eb322e1c6373d63f91d032be class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>â”œâ”€â”€ agent.yaml
</span></span><span class=line><span class=cl>â””â”€â”€ gateway.yaml</span></span></code></pre></div></div></div></div></div></li></ol></div></details><h3 id=agent-è¨­å®šã®ç†è§£>Agent è¨­å®šã®ç†è§£<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title=ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><p>ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ä½¿ç”¨ã™ã‚‹ <code>agent.yaml</code> ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸»è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ­ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«é‡è¦ãªè¿½åŠ ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚</p><h4 id=receiver>Receiver<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title=ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4><p><code>receivers</code> ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€<strong>Agent</strong> ãŒãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šè¾¼ã‚€æ–¹æ³•ã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã§ã¯ã€3ç¨®é¡ã® Receiver ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™</p><ul><li><p><strong>Host Metrics Receiver</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>hostmetrics</span><span class=p>:</span><span class=w>                         </span><span class=c># Host Metrics Receiver</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>collection_interval</span><span class=p>:</span><span class=w> </span><span class=l>3600s        </span><span class=w> </span><span class=c># Collection Interval (1hr)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>scrapers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>cpu</span><span class=p>:</span><span class=w>                             </span><span class=c># CPU Scraper</span></span></span></code></pre></div><p>ãƒ­ãƒ¼ã‚«ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰1æ™‚é–“ã”ã¨ã« CPU ä½¿ç”¨ç‡ã‚’åé›†ã—ã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ç”¨ã—ã¦ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã—ã¾ã™ã€‚</p></li><li><p><strong>OTLP Receiverï¼ˆHTTP ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼‰</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>otlp</span><span class=p>:</span><span class=w>                                </span><span class=c># OTLP Receiver</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>protocols</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>                            </span><span class=c># Configure HTTP protocol</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0.0.0.0:4318&#34;</span><span class=w>       </span><span class=c># Endpoint to bind to</span></span></span></code></pre></div><p>Agent ãŒãƒãƒ¼ãƒˆ <code>4318</code> ã§ HTTP çµŒç”±ã§ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ­ã‚°ã‚’å—ä¿¡ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ä»Šå¾Œã®æ¼”ç¿’ã§ Collector ã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</p></li><li><p><strong>FileLog Receiver</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>filelog/quotes</span><span class=p>:</span><span class=w>                      </span><span class=c># Receiver Type/Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>include</span><span class=p>:</span><span class=w> </span><span class=l>./quotes.log             </span><span class=w> </span><span class=c># The file to read log data from</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>include_file_path</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>            </span><span class=c># Include file path in the log data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>include_file_name</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>           </span><span class=c># Exclude file name from the log data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>resource</span><span class=p>:</span><span class=w>                          </span><span class=c># Add custom resource attributes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>com.splunk.source</span><span class=p>:</span><span class=w> </span><span class=l>./quotes.log </span><span class=w> </span><span class=c># Source of the log data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>com.splunk.sourcetype</span><span class=p>:</span><span class=w> </span><span class=l>quotes   </span><span class=w> </span><span class=c># Source type of the log data</span></span></span></code></pre></div><p>Agent ãŒãƒ­ãƒ¼ã‚«ãƒ«ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ<code>quotes.log</code>ï¼‰ã‚’ tail ã—ã€<code>source</code> ã‚„ <code>sourceType</code> ãªã©ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§å¼·åŒ–ã•ã‚ŒãŸæ§‹é€ åŒ–ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã«å¤‰æ›ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</p></li></ul><h4 id=exporter>Exporter<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title=ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4><ul><li><p><strong>Debug Exporter</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>  </span><span class=nt>debug</span><span class=p>:</span><span class=w>                               </span><span class=c># Exporter Type</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>verbosity</span><span class=p>:</span><span class=w> </span><span class=l>detailed               </span><span class=w> </span><span class=c># Enabled detailed debug output</span></span></span></code></pre></div></li><li><p><strong>OTLPHTTP Exporter</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>  </span><span class=nt>otlphttp</span><span class=p>:</span><span class=w>                            </span><span class=c># Exporter Type</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://localhost:5318&#34;</span><span class=w>  </span><span class=c># Gateway OTLP endpoint</span></span></span></code></pre></div><p><code>debug</code> Exporter ã¯ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ä¸­ã®å¯è¦–æ€§ã¨ãƒ‡ãƒãƒƒã‚°ã®ãŸã‚ã«ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«é€ä¿¡ã—ã€<code>otlphttp</code> Exporter ã¯ã™ã¹ã¦ã®ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã® <strong>Gateway</strong> ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«è»¢é€ã—ã¾ã™ã€‚</p><p><strong>ã“ã®ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæˆ¦ç•¥ã«ã‚ˆã‚Šã€ç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç¢ºèªã—ãªãŒã‚‰ã€ã•ã‚‰ãªã‚‹å‡¦ç†ã¨ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã®ãŸã‚ã«ãƒ€ã‚¦ãƒ³ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«é€ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</strong></p></li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><section><h1 class=a11y-only>1. Agent Configurationã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=11-gateway-è¨­å®šã®ç¢ºèª>1.1 Gateway è¨­å®šã®ç¢ºèª</h1><p><strong>OpenTelemetry Gateway</strong> ã¯ã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å—ä¿¡ã€å‡¦ç†ã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã®ãŸã‚ã®ä¸­å¤®ãƒãƒ–ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã‚½ãƒ¼ã‚¹ï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã‚µãƒ¼ãƒ“ã‚¹ãªã©ï¼‰ã¨ Splunk Observability Cloud ã®ã‚ˆã†ãªã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®é–“ã«ä½ç½®ã—ã¾ã™ã€‚</p><p>ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’é›†ä¸­åŒ–ã™ã‚‹ã“ã¨ã§ã€Gateway ã¯ãƒ‡ãƒ¼ã‚¿ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆã€å¤‰æ›ã€ãŠã‚ˆã³1ã¤ä»¥ä¸Šã®å®›å…ˆã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãªã©ã®é«˜åº¦ãªæ©Ÿèƒ½ã‚’å®Ÿç¾ã—ã¾ã™ã€‚å€‹ã€…ã®ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼å‡¦ç†ã‚’ã‚ªãƒ•ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã§è² æ‹…ã‚’è»½æ¸›ã—ã€åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§ä¸€è²«ã—ãŸæ¨™æº–åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºä¿ã—ã¾ã™ã€‚</p><p>ã“ã‚Œã«ã‚ˆã‚Šã€ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®ç®¡ç†ã€ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã€åˆ†æãŒå®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚ç‰¹ã«è¤‡é›‘ãªãƒãƒ«ãƒã‚µãƒ¼ãƒ“ã‚¹ç’°å¢ƒã§ã¯åŠ¹æœçš„ã§ã™ã€‚</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p>2ã¤ç›®ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ãã‹ä½œæˆã—ã€<strong>Gateway</strong> ã¨åå‰ã‚’ä»˜ã‘ã¾ã™ã€‚æœ€åˆã®æ¼”ç¿’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª <code>[WORKSHOP]/1-agent-gateway</code> ã«ç§»å‹•ã—ã€<code>gateway.yaml</code> ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ç¢ºèªã—ã¾ã™ã€‚</p><p>ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€<strong>Gateway</strong> ãƒ¢ãƒ¼ãƒ‰ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚ŒãŸ OpenTelemetry Collector ã®ã‚³ã‚¢æ§‹é€ ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚</p></div></details><h3 id=gateway-è¨­å®šã®ç†è§£>Gateway è¨­å®šã®ç†è§£<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title=ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><p>ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ <strong>Gateway</strong> ãƒ¢ãƒ¼ãƒ‰ã® OpenTelemetry Collector ãŒã©ã®ã‚ˆã†ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ã‚’å®šç¾©ã™ã‚‹ <code>gateway.yaml</code> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚ã“ã® <strong>Gateway</strong> ã¯ã€<strong>Agent</strong> ã‹ã‚‰ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã‚’å—ä¿¡ã—ã€å‡¦ç†ã—ã¦ã‹ã‚‰æ¤œæŸ»ã¾ãŸã¯è»¢é€ã®ãŸã‚ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å½¹å‰²ã‚’æ‹…ã„ã¾ã™ã€‚</p><ul><li><p><strong>OTLP Receiverï¼ˆã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒˆï¼‰</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>otlp</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocols</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0.0.0.0:5318&#34;</span></span></span></code></pre></div><p>ãƒãƒ¼ãƒˆ <code>5318</code> ã¯ <strong>Agent</strong> è¨­å®šã® <code>otlphttp</code> Exporter ã¨ä¸€è‡´ã—ã¦ãŠã‚Šã€<strong>Agent</strong> ãŒé€ä¿¡ã™ã‚‹ã™ã¹ã¦ã®ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒ <strong>Gateway</strong> ã§å—ã‘å…¥ã‚Œã‚‰ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚</p></li></ul><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
ãƒ¡ãƒ¢</summary><div class=box-content><p>ã“ã®ãƒãƒ¼ãƒˆã®åˆ†é›¢ã«ã‚ˆã‚Šã€ç«¶åˆã‚’å›é¿ã—ã€Agent ã¨ Gateway ã®å½¹å‰²é–“ã®è²¬ä»»ã‚’æ˜ç¢ºã«ä¿ã¡ã¾ã™ã€‚</p></div></details><ul><li><p><strong>File Exporter</strong></p><p><strong>Gateway</strong> ã¯3ã¤ã® File Exporter ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã® Exporter ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>exporters</span><span class=p>:</span><span class=w>                        </span><span class=c># List of exporters</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>debug</span><span class=p>:</span><span class=w>                          </span><span class=c># Debug exporter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>verbosity</span><span class=p>:</span><span class=w> </span><span class=l>detailed          </span><span class=w> </span><span class=c># Enable detailed debug output</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file/traces</span><span class=p>:</span><span class=w>                    </span><span class=c># Exporter Type/Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;./gateway-traces.out&#34;</span><span class=w>  </span><span class=c># Path for OTLP JSON output for traces</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>append</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>                 </span><span class=c># Overwrite the file each time</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file/metrics</span><span class=p>:</span><span class=w>                   </span><span class=c># Exporter Type/Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;./gateway-metrics.out&#34;</span><span class=w> </span><span class=c># Path for OTLP JSON output for metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>append</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>                 </span><span class=c># Overwrite the file each time</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file/logs</span><span class=p>:</span><span class=w>                      </span><span class=c># Exporter Type/Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;./gateway-logs.out&#34;</span><span class=w>    </span><span class=c># Path for OTLP JSON output for logs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>append</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>                 </span><span class=c># Overwrite the file each time</span></span></span></code></pre></div><p>å„ Exporter ã¯ã€ç‰¹å®šã®ã‚·ã‚°ãƒŠãƒ«ã‚¿ã‚¤ãƒ—ã‚’å¯¾å¿œã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚</p><p>ã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ Gateway ãŒèµ·å‹•ã™ã‚‹ã¨ä½œæˆã•ã‚Œã€Agent ãŒãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã™ã‚‹ã¨å®Ÿéš›ã®ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãŒæ›¸ãè¾¼ã¾ã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–ã—ã¦ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’é€šéã™ã‚‹ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ã®æµã‚Œã‚’è¦³å¯Ÿã§ãã¾ã™ã€‚</p></li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article><article class=default><header class=headline></header><h1 id=12-è¨­å®šã®æ¤œè¨¼ã¨ãƒ†ã‚¹ãƒˆ>1.2 è¨­å®šã®æ¤œè¨¼ã¨ãƒ†ã‚¹ãƒˆ</h1><p>æ¬¡ã«ã€<strong>Gateway</strong> ã¨ <strong>Agent</strong> ã‚’èµ·å‹•ã—ã¾ã™ã€‚<strong>Agent</strong> ã¯èµ·å‹•æ™‚ã«è‡ªå‹•çš„ã« <strong>Host Metrics</strong> ã‚’é€ä¿¡ã™ã‚‹ã‚ˆã†è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ãŒ <strong>Agent</strong> ã‹ã‚‰ <strong>Gateway</strong> ã«æ­£ã—ããƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><p><strong>Gateway</strong>: <strong>Gateway ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ <strong>Gateway</strong> ã‚’èµ·å‹•ã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-aed08ddffd8426840d622f85073dad0d><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-b69f67a966bcf912e4067d6b5a1630b4 aria-expanded=true data-tab-item=R-tab-dc146ad677dc5dd9c26a2a6537f98eb7 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-aed08ddffd8426840d622f85073dad0d","R-tab-dc146ad677dc5dd9c26a2a6537f98eb7")'>
<span class=tab-nav-text>Start the Gateway</span></button></div><div class=tab-content-container><div id=R-tab-id-b69f67a966bcf912e4067d6b5a1630b4 data-tab-item=R-tab-dc146ad677dc5dd9c26a2a6537f98eb7 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>gateway.yaml</span></span></code></pre></div></div></div></div></div><p>ã™ã¹ã¦ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã€Collector ãŒèµ·å‹•ã—ã€å‡ºåŠ›ã« <code>Everything is ready. Begin running and processing data.</code> ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ã«ãªã‚Šã¾ã™</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>2025-06-09T09:22:11.944+0100    info    service@v0.126.0/service.go:289 Everything is ready. Begin running and processing data. {&#34;resource&#34;: {}}</span></span></code></pre></div><p><strong>Gateway</strong> ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨ã€ãƒãƒ¼ãƒˆ <code>5318</code> ã§å—ä¿¡ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªãƒƒã‚¹ãƒ³ã—ã€å—ä¿¡ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™</p><ul><li><code>gateway-traces.out</code></li><li><code>gateway-metrics.out</code></li><li><code>gateway-logs.out</code></li></ul><p><strong>Agent ã®èµ·å‹•</strong>: <strong>Agent ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã€Agent è¨­å®šã‚’ä½¿ç”¨ã—ã¦ Agent ã‚’èµ·å‹•ã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-7ae3e5e02791845294926630221628a5><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-b236063e5d29e7f6f37019f6be9fe4cb aria-expanded=true data-tab-item=R-tab-e2d8debf4ffe3bb6331201655f536d9d class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-7ae3e5e02791845294926630221628a5","R-tab-e2d8debf4ffe3bb6331201655f536d9d")'>
<span class=tab-nav-text>Start the Agent</span></button></div><div class=tab-content-container><div id=R-tab-id-b236063e5d29e7f6f37019f6be9fe4cb data-tab-item=R-tab-e2d8debf4ffe3bb6331201655f536d9d class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>../otelcol --config<span class=o>=</span>agent.yaml</span></span></code></pre></div></div></div></div></div><p><strong>CPU ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç¢ºèª</strong>:</p><ol><li><strong>Agent</strong> ãŒèµ·å‹•ã™ã‚‹ã¨ã€ã™ãã« <strong>CPU</strong> ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®é€ä¿¡ã‚’é–‹å§‹ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</li><li><strong>Agent</strong> ã¨ <strong>Gateway</strong> ã®ä¸¡æ–¹ãŒãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ã«ã“ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚å‡ºåŠ›ã¯ä»¥ä¸‹ã®ã‚¹ãƒ‹ãƒšãƒƒãƒˆã®ã‚ˆã†ã«ãªã‚Šã¾ã™</li></ol><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>&lt;snip&gt;
</span></span><span class=line><span class=cl>NumberDataPoints #31
</span></span><span class=line><span class=cl>Data point attributes:
</span></span><span class=line><span class=cl>     -&gt; cpu: Str(cpu3)
</span></span><span class=line><span class=cl>     -&gt; state: Str(wait)
</span></span><span class=line><span class=cl>StartTimestamp: 2025-07-07 16:49:42 +0000 UTC
</span></span><span class=line><span class=cl>Timestamp: 2025-07-09 09:36:21.190226459 +0000 UTC
</span></span><span class=line><span class=cl>Value: 77.380000
</span></span><span class=line><span class=cl>        {&#34;resource&#34;: {}, &#34;otelcol.component.id&#34;: &#34;debug&#34;, &#34;otelcol.component.kind&#34;: &#34;exporter&#34;, &#34;otelcol.signal&#34;: &#34;metrics&#34;}</span></span></code></pre></div><p>ã“ã®æ®µéšã§ã€<strong>Agent</strong> ã¯1æ™‚é–“ã”ã¨ã¾ãŸã¯å†èµ·å‹•ã”ã¨ã« <strong>CPU</strong> ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’åé›†ã—ã€Gateway ã«é€ä¿¡ã—ç¶šã‘ã¾ã™ã€‚<strong>Gateway</strong> ã¯ã“ã‚Œã‚‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’å‡¦ç†ã—ã€<code>gateway-metrics.out</code> ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ã®ä¸€éƒ¨ã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ä¿å­˜ã—ã¾ã™ã€‚</p><p><strong>Gateway ã«ãƒ‡ãƒ¼ã‚¿ãŒåˆ°ç€ã—ãŸã“ã¨ã®ç¢ºèª</strong>: CPU ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆç‰¹ã« <code>cpu0</code>ï¼‰ãŒ Gateway ã«æ­£å¸¸ã«åˆ°é”ã—ãŸã“ã¨ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã€<code>jq</code> ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ <code>gateway-metrics.out</code> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œæŸ»ã—ã¾ã™ã€‚</p><p>ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€<code>system.cpu.time</code> ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¦æŠ½å‡ºã—ã€<code>cpu0</code> ã«ç„¦ç‚¹ã‚’å½“ã¦ã¾ã™ã€‚ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®çŠ¶æ…‹ï¼ˆä¾‹ï¼š<code>user</code>ã€<code>system</code>ã€<code>idle</code>ã€<code>interrupt</code>ï¼‰ã¨å¯¾å¿œã™ã‚‹å€¤ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</p><p>3ã¤ç›®ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ãã‹ä½œæˆã—ã€<strong>Tests</strong> ã¨åå‰ã‚’ä»˜ã‘ã¾ã™ã€‚<strong>Tests ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</strong> ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ <code>system.cpu.time</code> ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç¢ºèªã—ã¾ã™</p><div class=tab-panel data-tab-group=R-tabs-2ac1d281f14be03544a75c39b2098bca><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-22caedb652b2e23a209a4b8c36f880c3 aria-expanded=true data-tab-item=R-tab-fe622e84764bc6f08467fa0eea9b5ec6 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-2ac1d281f14be03544a75c39b2098bca","R-tab-fe622e84764bc6f08467fa0eea9b5ec6")'>
<span class=tab-nav-text>Check CPU Metrics</span>
</button>
<button aria-controls=R-tab-id-b7bee2849b2f03fc83b6ba91adfec07c aria-expanded=false data-tab-item=R-tab-4c50e65a8a1f9aa989870396b5c0a12b class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-2ac1d281f14be03544a75c39b2098bca","R-tab-4c50e65a8a1f9aa989870396b5c0a12b")'>
<span class=tab-nav-text>Example Output</span></button></div><div class=tab-content-container><div id=R-tab-id-22caedb652b2e23a209a4b8c36f880c3 data-tab-item=R-tab-fe622e84764bc6f08467fa0eea9b5ec6 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>jq <span class=s1>&#39;.resourceMetrics[].scopeMetrics[].metrics[] | select(.name == &#34;system.cpu.time&#34;) | .sum.dataPoints[] | select(.attributes[0].value.stringValue == &#34;cpu0&#34;) | {cpu: .attributes[0].value.stringValue, state: .attributes[1].value.stringValue, value: .asDouble}&#39;</span> gateway-metrics.out</span></span></code></pre></div></div></div><div id=R-tab-id-b7bee2849b2f03fc83b6ba91adfec07c data-tab-item=R-tab-4c50e65a8a1f9aa989870396b5c0a12b class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;cpu&#34;</span><span class=p>:</span> <span class=s2>&#34;cpu0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;state&#34;</span><span class=p>:</span> <span class=s2>&#34;user&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;value&#34;</span><span class=p>:</span> <span class=mf>123407.02</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;cpu&#34;</span><span class=p>:</span> <span class=s2>&#34;cpu0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;state&#34;</span><span class=p>:</span> <span class=s2>&#34;system&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;value&#34;</span><span class=p>:</span> <span class=mf>64866.6</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;cpu&#34;</span><span class=p>:</span> <span class=s2>&#34;cpu0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;state&#34;</span><span class=p>:</span> <span class=s2>&#34;idle&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;value&#34;</span><span class=p>:</span> <span class=mf>216427.87</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;cpu&#34;</span><span class=p>:</span> <span class=s2>&#34;cpu0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;state&#34;</span><span class=p>:</span> <span class=s2>&#34;interrupt&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;value&#34;</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div></div><details open class="box cstyle notices important"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-bolt"></i>
é‡è¦</summary><div class=box-content><p><strong>Agent</strong> ã¨ <strong>Gateway</strong> ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã€ãã‚Œãã‚Œã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ <code>Ctrl-C</code> ã‚’æŠ¼ã—ã¦åœæ­¢ã—ã¦ãã ã•ã„ã€‚</p></div></details></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/23</span></span></footer></article></section></div></main></div><script src=/observability-workshop/js/perfect-scrollbar/perfect-scrollbar.min.js?1770160991 defer></script><script src=/observability-workshop/js/theme.min.js?1770160991 defer></script><div id=toast-container role=status aria-live=polite aria-atomic=false></div></body></html>