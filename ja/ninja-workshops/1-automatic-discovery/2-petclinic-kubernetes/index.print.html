<!doctype html><html lang=ja dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 8.2.0+9cac649a184a2967957ef9bbececf9402192846c"><meta name=description content="Kubernetes ã§å®Ÿè¡Œã•ã‚Œã‚‹ Java ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å‘ã‘ã®è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãŠã‚ˆã³è¨­å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’ä½“é¨“ã—ã€ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®å¯è¦–æ€§ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‹•ä½œã‚’æœ€å¤§é™ã«æ´»ç”¨ã—ã¾ã—ã‚‡ã†ã€‚"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Kubernetes ä¸Šã® Spring PetClinic SpringBoot ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Kubernetes ã§å®Ÿè¡Œã•ã‚Œã‚‹ Java ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å‘ã‘ã®è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãŠã‚ˆã³è¨­å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’ä½“é¨“ã—ã€ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®å¯è¦–æ€§ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‹•ä½œã‚’æœ€å¤§é™ã«æ´»ç”¨ã—ã¾ã—ã‚‡ã†ã€‚"><meta property="og:url" content="https://splunk.github.io/observability-workshop/ja/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Kubernetes ä¸Šã® Spring PetClinic SpringBoot ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Kubernetes ã§å®Ÿè¡Œã•ã‚Œã‚‹ Java ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å‘ã‘ã®è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãŠã‚ˆã³è¨­å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’ä½“é¨“ã—ã€ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®å¯è¦–æ€§ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‹•ä½œã‚’æœ€å¤§é™ã«æ´»ç”¨ã—ã¾ã—ã‚‡ã†ã€‚"><meta property="og:locale" content="ja"><meta property="og:type" content="website"><meta itemprop=name content="Kubernetes ä¸Šã® Spring PetClinic SpringBoot ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Kubernetes ã§å®Ÿè¡Œã•ã‚Œã‚‹ Java ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å‘ã‘ã®è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãŠã‚ˆã³è¨­å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’ä½“é¨“ã—ã€ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®å¯è¦–æ€§ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‹•ä½œã‚’æœ€å¤§é™ã«æ´»ç”¨ã—ã¾ã—ã‚‡ã†ã€‚"><meta itemprop=dateModified content="2025-12-05T11:52:17+09:00"><meta itemprop=wordCount content="61"><title>Kubernetes ä¸Šã® Spring PetClinic SpringBoot ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/index.html rel=alternate hreflang=x-default><link href=https://splunk.github.io/observability-workshop/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/index.html rel=alternate hreflang=en><link href=https://splunk.github.io/observability-workshop/ja/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/index.html rel=alternate hreflang=ja><link href=https://splunk.github.io/observability-workshop/ja/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/index.html rel=canonical type=text/html title="Kubernetes ä¸Šã® Spring PetClinic SpringBoot ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/images/favicon.ico?1769686751 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/css/auto-complete/auto-complete.min.css?1769686751 rel=stylesheet><script src=/observability-workshop/js/auto-complete/auto-complete.min.js?1769686751 defer></script><script src=/observability-workshop/js/search-lunr.min.js?1769686751 defer></script><script src=/observability-workshop/js/search.min.js?1769686751 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/searchindex.ja.js?1769686751"</script><script src=/observability-workshop/js/lunr/lunr.min.js?1769686751 defer></script><script src=/observability-workshop/js/lunr/lunr.stemmer.support.min.js?1769686751 defer></script><script src=/observability-workshop/js/lunr/lunr.multi.min.js?1769686751 defer></script><script src=/observability-workshop/js/lunr/tinyseg.js?1769686751 defer></script><script src=/observability-workshop/js/lunr/lunr.ja.min.js?1769686751 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["ja"]</script><link href=/observability-workshop/fonts/fontawesome/css/fontawesome-all.min.css?1769686751 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/fonts/fontawesome/css/fontawesome-all.min.css?1769686751 rel=stylesheet></noscript><link href=/observability-workshop/css/perfect-scrollbar/perfect-scrollbar.min.css?1769686751 rel=stylesheet><link href=/observability-workshop/css/theme.min.css?1769686751 rel=stylesheet><link href=/observability-workshop/css/format-print.min.css?1769686751 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/ja/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/index.html",window.relearn.relBasePath="../../../..",window.relearn.relBaseUri="../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼`,window.T_Copied_to_clipboard=`ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼!`,window.T_Copy_link_to_clipboard=`ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼`,window.T_Link_copied_to_clipboard=`ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!`,window.T_Reset_view=`ãƒ“ãƒ¥ãƒ¼ã®ãƒªã‚»ãƒƒãƒˆ`,window.T_View_reset=`ãƒªã‚»ãƒƒãƒˆã‚’è¦‹ã‚‹`,window.T_No_results_found=`"{0}" ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`,window.T_N_results_found=`"{0}" ã§ {1} ä»¶ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({appplicationName:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",recorder:"splunk",features:{video:!0}})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-url=/observability-workshop/ja/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleNav() type=button title="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></span></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title="ç›®æ¬¡ (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/index.html><span itemprop=name>Splunk4Ninjas Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/ja/ninja-workshops/1-automatic-discovery/index.html><span itemprop=name>è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>PetClinic Kubernetes ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/index.print.html title="ç« å…¨ä½“ã‚’å°åˆ·ã™ã‚‹ (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/1-automatic-discovery/1-petclinic-monolith/5-log-observer/index.html title="4. Log Observer (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/ja/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/1-architecture/index.html title="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title=æ›´ã«><i class="fa-fw fas fa-ellipsis-v"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable ninja-workshops" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=kubernetes-ä¸Šã®-spring-petclinic-springboot-ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹>Kubernetes ä¸Šã® Spring PetClinic SpringBoot ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>90 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Pieter Hagen</span></span><p>ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã®ç›®çš„ã¯ã€Java å‘ã‘ã® Splunk <strong>è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãŠã‚ˆã³è¨­å®š</strong>æ©Ÿèƒ½ã‚’ç´¹ä»‹ã™ã‚‹ã“ã¨ã§ã™ã€‚</p><p>ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã®ã‚·ãƒŠãƒªã‚ªã¯ã€Kubernetes ã«ã‚·ãƒ³ãƒ—ãƒ«ãªï¼ˆ<strong>è¨ˆè£…ã•ã‚Œã¦ã„ãªã„</strong>ï¼‰Java ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã§ä½œæˆã•ã‚Œã¾ã™ã€‚</p><p>æ—¢å­˜ã® Java ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå‘ã‘ã«è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼æ©Ÿèƒ½ä»˜ãã® Splunk OpenTelemetry Collector ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ç°¡å˜ãªæ‰‹é †ã«å¾“ã†ã“ã¨ã§ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã€ãƒ­ã‚°ã‚’ <strong>Splunk Observability Cloud</strong> ã«é€ä¿¡ã™ã‚‹ã“ã¨ãŒã„ã‹ã«ç°¡å˜ã‹ã‚’ç¢ºèªã§ãã¾ã™ã€‚</p><details open class="box cstyle notices splunk"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-circle-info"></i>
å‰ææ¡ä»¶</summary><div class=box-content><ul><li>ãƒãƒ¼ãƒˆ <strong>2222</strong> ã¸ã®ã‚¢ã‚¦ãƒˆãƒã‚¦ãƒ³ãƒ‰ SSH ã‚¢ã‚¯ã‚»ã‚¹</li><li>ãƒãƒ¼ãƒˆ <strong>81</strong> ã¸ã®ã‚¢ã‚¦ãƒˆãƒã‚¦ãƒ³ãƒ‰ HTTP ã‚¢ã‚¯ã‚»ã‚¹</li><li>Linux ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã®åŸºæœ¬çš„ãªçŸ¥è­˜</li></ul></div></details><p>ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚«ãƒãƒ¼ã—ã¾ã™ï¼š</p><ul><li>Splunk Infrastructure Monitoring (<strong>IM</strong>)</li><li>Splunk automatic discovery and configuration for Java (<strong>APM</strong>)<ul><li>Database Query Performance</li><li>AlwaysOn Profiling</li></ul></li><li>Splunk Log Observer (<strong>LO</strong>)</li><li>Splunk Real User Monitoring (<strong>RUM</strong>)</li></ul><p><em>Splunk Synthetics ã¯å°‘ã—å¯‚ã—ãã†ã§ã™ãŒã€ä»–ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ã‚«ãƒãƒ¼ã—ã¦ã„ã¾ã™</em> <i class="fa-fw fas fa-heart"></i></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2025/12/05</span></span></footer></article><section><h1 class=a11y-only>PetClinic Kubernetes ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<p>Spring PetClinic Java ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã§æ§‹æˆã•ã‚Œã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¨å¯¾è©±ã™ã‚‹ãŸã‚ã® Web ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã™ã‚‹ Spring Boot ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€MySQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨å¯¾è©±ã™ã‚‹ãŸã‚ã® RESTful API ã‚’æä¾›ã™ã‚‹ Spring Boot ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚</p><p>ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’çµ‚ãˆã‚‹ã“ã‚ã«ã¯ã€Kubernetes ã§å®Ÿè¡Œã•ã‚Œã‚‹ Java ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å‘ã‘ã®<strong>è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãŠã‚ˆã³è¨­å®š</strong>ã‚’æœ‰åŠ¹ã«ã™ã‚‹æ–¹æ³•ã‚’ã‚ˆã‚Šæ·±ãç†è§£ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><p>ä»¥ä¸‹ã®å›³ã¯ã€Splunk OpenTelemetry Operator ã¨è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãŠã‚ˆã³è¨­å®šã‚’æœ‰åŠ¹ã«ã—ãŸçŠ¶æ…‹ã§ Kubernetes ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹ Spring PetClinic Java ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’è©³ã—ãç¤ºã—ã¦ã„ã¾ã™ã€‚</p><p><a href=#R-image-6707f4b54bebcf7da05b6ab7f20cf8a6 class=lightbox-link><img alt="Splunk Otel Architecture" class="lazy lightbox figure-image" loading=lazy src=../images/auto-instrumentation-java-diagram.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6707f4b54bebcf7da05b6ab7f20cf8a6><img alt="Splunk Otel Architecture" class="lazy lightbox lightbox-image" loading=lazy src=../images/auto-instrumentation-java-diagram.png></a></p><hr><p><strong>Josh Voravong</strong> ãŒä½œæˆã—ãŸ<a href=https://github.com/signalfx/splunk-otel-collector-chart/blob/main/examples/enable-operator-and-auto-instrumentation/spring-petclinic-java.md rel=external><strong>ã‚µãƒ³ãƒ—ãƒ«</strong></a>ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2025/12/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®æº–å‚™>ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®æº–å‚™</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ãŒã€ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ä½¿ç”¨ã™ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’æä¾›ã—ã¾ã™ã€‚</p><p>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«åˆã‚ã¦ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãª Splunk ãƒ­ã‚´ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¸ã®æ¥ç¶šã«å•é¡ŒãŒã‚ã‚‹å ´åˆã¯ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ ssh -p 2222 splunk@&lt;IP-ADDRESS&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—
</span></span><span class=line><span class=cl>â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•    â•šâ–ˆâ–ˆâ•—
</span></span><span class=line><span class=cl>â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•      â•šâ–ˆâ–ˆâ•—
</span></span><span class=line><span class=cl>â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•—      â–ˆâ–ˆâ•”â•
</span></span><span class=line><span class=cl>â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•
</span></span><span class=line><span class=cl>â•šâ•â•â•â•â•â•â•â•šâ•â•     â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â•â•šâ•â•  â•šâ•â•    â•šâ•â•
</span></span><span class=line><span class=cl>Last login: Mon Feb  5 11:04:54 2024 from [Redacted]
</span></span><span class=line><span class=cl>splunk@show-no-config-i-0d1b29d967cb2e6ff ~ $</span></span></code></pre></div><p>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã€ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã«å¿…è¦ãªç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã€ç’°å¢ƒå¤‰æ•°ãŒå­˜åœ¨ã—ã€å®Ÿéš›ã®æœ‰åŠ¹ãªå€¤ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š</p><div class=tab-panel data-tab-group=R-tabs-d60a9effde32389b168234949c5e7a4e><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-424d042ee1d0179c307b910ce77194f9 aria-expanded=true data-tab-item=R-tab-f907e651164789346ae0a1e257c462d8 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-d60a9effde32389b168234949c5e7a4e","R-tab-f907e651164789346ae0a1e257c462d8")'>
<span class=tab-nav-text>Script</span>
</button>
<button aria-controls=R-tab-id-114a35898a64d01616c192952edcb177 aria-expanded=false data-tab-item=R-tab-4c50e65a8a1f9aa989870396b5c0a12b class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-d60a9effde32389b168234949c5e7a4e","R-tab-4c50e65a8a1f9aa989870396b5c0a12b")'>
<span class=tab-nav-text>Example Output</span></button></div><div class=tab-content-container><div id=R-tab-id-424d042ee1d0179c307b910ce77194f9 data-tab-item=R-tab-f907e651164789346ae0a1e257c462d8 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>. ~/workshop/petclinic/scripts/check_env.sh</span></span></code></pre></div></div></div><div id=R-tab-id-114a35898a64d01616c192952edcb177 data-tab-item=R-tab-4c50e65a8a1f9aa989870396b5c0a12b class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>ACCESS_TOKEN</span> <span class=o>=</span> &lt;redacted&gt;
</span></span><span class=line><span class=cl><span class=nv>REALM</span> <span class=o>=</span> &lt;e.g. eu0, us1, us2, jp0, au0 etc.&gt;
</span></span><span class=line><span class=cl><span class=nv>RUM_TOKEN</span> <span class=o>=</span> &lt;redacted&gt;
</span></span><span class=line><span class=cl><span class=nv>HEC_TOKEN</span> <span class=o>=</span> &lt;redacted&gt;
</span></span><span class=line><span class=cl><span class=nv>HEC_URL</span> <span class=o>=</span> https://&lt;...&gt;/services/collector/event
</span></span><span class=line><span class=cl><span class=nv>INSTANCE</span> <span class=o>=</span> &lt;instance_name&gt;</span></span></code></pre></div></div></div></div></div><p><code>INSTANCE</code> ç’°å¢ƒå¤‰æ•°ã®å€¤ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚å¾Œã§ <strong>Splunk Observability Cloud</strong> ã§ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹éš›ã«ä½¿ç”¨ã—ã¾ã™ã€‚</p><p>ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ã¯ã€ä¸Šè¨˜ã®ç’°å¢ƒå¤‰æ•°ãŒ<strong>ã™ã¹ã¦</strong>å¿…è¦ã§ã™ã€‚å€¤ãŒä¸è¶³ã—ã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚‹å ´åˆã¯ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã«é€£çµ¡ã—ã¦ãã ã•ã„ã€‚</p><details open class="box cstyle notices splunk"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-circle-info"></i>
æ—¢å­˜ã® OpenTelemetry Collector ã®å‰Šé™¤</summary><div class=box-content><p>ã“ã® EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã—ã¦ä»¥å‰ã« Splunk Observability ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’å®Œäº†ã—ã¦ã„ã‚‹å ´åˆã¯ã€
æ—¢å­˜ã® Splunk OpenTelemetry Collector ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã‚Œã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§è¡Œãˆã¾ã™ï¼š</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm delete splunk-otel-collector</span></span></code></pre></div></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2025/12/05</span></span></footer></article><section><h1 class=a11y-only>2. æº–å‚™ã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=splunk-opentelemetry-collector-ã®ãƒ‡ãƒ—ãƒ­ã‚¤>Splunk OpenTelemetry Collector ã®ãƒ‡ãƒ—ãƒ­ã‚¤</h1><p>ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ã‚·ã‚°ãƒŠãƒ«ï¼ˆ<strong>ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒˆãƒ¬ãƒ¼ã‚¹</strong>ã€<strong>ãƒ­ã‚°</strong>ï¼‰ã‚’ <strong>Splunk Observability Cloud</strong> ã«é€ä¿¡ã™ã‚‹ã«ã¯ã€Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã« Splunk OpenTelemetry Collector ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><p>ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ã¯ã€Splunk OpenTelemetry Collector Helm Chart ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã¾ãšã€Helm chart ãƒªãƒã‚¸ãƒˆãƒªã‚’ Helm ã«è¿½åŠ ã—ã€<code>helm repo update</code> ã‚’å®Ÿè¡Œã—ã¦æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ï¼š</p><div class=tab-panel data-tab-group=R-tabs-e18209966923ad1d03056a09032366da><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-611fab9a66a5e7c33b3fbb5173a8a13d aria-expanded=true data-tab-item=R-tab-62904166d08e5d1c0cd759a707578288 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-e18209966923ad1d03056a09032366da","R-tab-62904166d08e5d1c0cd759a707578288")'>
<span class=tab-nav-text>Install Helm Chart</span>
</button>
<button aria-controls=R-tab-id-d7390c9d481177eb0381af5f83dab9e7 aria-expanded=false data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-e18209966923ad1d03056a09032366da","R-tab-29c2c02a361c9d7028472e5d92cd4a54")'>
<span class=tab-nav-text>Output</span></button></div><div class=tab-content-container><div id=R-tab-id-611fab9a66a5e7c33b3fbb5173a8a13d data-tab-item=R-tab-62904166d08e5d1c0cd759a707578288 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart <span class=o>&amp;&amp;</span> helm repo update</span></span></code></pre></div></div></div><div id=R-tab-id-d7390c9d481177eb0381af5f83dab9e7 data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Using ACCESS_TOKEN={REDACTED}
</span></span><span class=line><span class=cl>Using REALM=eu0
</span></span><span class=line><span class=cl>&#34;splunk-otel-collector-chart&#34; has been added to your repositories
</span></span><span class=line><span class=cl>Using ACCESS_TOKEN={REDACTED}
</span></span><span class=line><span class=cl>Using REALM=eu0
</span></span><span class=line><span class=cl>Hang tight while we grab the latest from your chart repositories...
</span></span><span class=line><span class=cl>...Successfully got an update from the &#34;splunk-otel-collector-chart&#34; chart repository
</span></span><span class=line><span class=cl>Update Complete. âˆHappy Helming!âˆ</span></span></code></pre></div></div></div></div></div><p><strong>Splunk Observability Cloud</strong> ã§ã¯ã€Kubernetes ä¸Šã§ã® OpenTelemetry Collector ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’æ¡ˆå†…ã™ã‚‹ UI ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ãŒã€æ™‚é–“ã®éƒ½åˆä¸Šã€ä»¥ä¸‹ã® Helm install ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãŠã‚ˆã³è¨­å®šã¨ã‚³ãƒ¼ãƒ‰ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ç”¨ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã®è¿½åŠ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚</p><ul><li><code>--set="operator.enabled=true"</code> - è‡ªå‹•ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãŠã‚ˆã³è¨­å®šã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã® OpenTelemetry ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</li><li><code>--set="splunkObservability.profilingEnabled=true"</code> - ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼çµŒç”±ã§ã‚³ãƒ¼ãƒ‰ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚</li></ul><p>Collector ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã‚’ç·¨é›†<strong>ã—ãªã„ã§ãã ã•ã„</strong>ï¼š</p><div class=tab-panel data-tab-group=R-tabs-04cd63034d1750e539776af0d3d3b072><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-f5dbfb8399cb879f867758b2ba44cbd2 aria-expanded=true data-tab-item=R-tab-5ade205167430c5bf55768631515900b class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-04cd63034d1750e539776af0d3d3b072","R-tab-5ade205167430c5bf55768631515900b")'>
<span class=tab-nav-text>Helm Install</span>
</button>
<button aria-controls=R-tab-id-b319eedadd702aef2f9bcecf73e5d92b aria-expanded=false data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-04cd63034d1750e539776af0d3d3b072","R-tab-29c2c02a361c9d7028472e5d92cd4a54")'>
<span class=tab-nav-text>Output</span></button></div><div class=tab-content-container><div id=R-tab-id-f5dbfb8399cb879f867758b2ba44cbd2 data-tab-item=R-tab-5ade205167430c5bf55768631515900b class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm install splunk-otel-collector --version 0.136.0 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;operatorcrds.install=true&#34;</span>, <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;operator.enabled=true&#34;</span>, <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.realm=</span><span class=nv>$REALM</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.accessToken=</span><span class=nv>$ACCESS_TOKEN</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;clusterName=</span><span class=nv>$INSTANCE</span><span class=s2>-k3s-cluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.profilingEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;agent.service.enabled=true&#34;</span>  <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;environment=</span><span class=nv>$INSTANCE</span><span class=s2>-workshop&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkPlatform.endpoint=</span><span class=nv>$HEC_URL</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkPlatform.token=</span><span class=nv>$HEC_TOKEN</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkPlatform.index=splunk4rookies-workshop&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>splunk-otel-collector-chart/splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>-f ~/workshop/k3s/otel-collector.yaml</span></span></code></pre></div></div></div><div id=R-tab-id-b319eedadd702aef2f9bcecf73e5d92b data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>LAST DEPLOYED: Fri Apr 19 09:39:54 2024
</span></span><span class=line><span class=cl>NAMESPACE: default
</span></span><span class=line><span class=cl>STATUS: deployed
</span></span><span class=line><span class=cl>REVISION: 1
</span></span><span class=line><span class=cl>NOTES:
</span></span><span class=line><span class=cl>Splunk OpenTelemetry Collector is installed and configured to send data to Splunk Platform endpoint &#34;https://http-inputs-o11y-workshop-eu0.splunkcloud.com:443/services/collector/event&#34;.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Splunk OpenTelemetry Collector is installed and configured to send data to Splunk Observability realm eu0.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[INFO] You&#39;ve enabled the operator&#39;s auto-instrumentation feature (operator.enabled=true)! The operator can automatically instrument Kubernetes hosted applications.
</span></span><span class=line><span class=cl>  - Status: Instrumentation language maturity varies. See `operator.instrumentation.spec` and documentation for utilized instrumentation details.
</span></span><span class=line><span class=cl>  - Splunk Support: We offer full support for Splunk distributions and best-effort support for native OpenTelemetry distributions of auto-instrumentation libraries.</span></span></code></pre></div></div></div></div></div><p>ç¶šè¡Œã™ã‚‹å‰ã«ã€Pod ãŒ <strong>Running</strong> ã¨ã—ã¦å ±å‘Šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼ˆé€šå¸¸ç´„30ç§’ã‹ã‹ã‚Šã¾ã™ï¼‰ã€‚</p><div class=tab-panel data-tab-group=R-tabs-70ce500da86aded4379d955227568dde><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-c8dfda08ea336be2044e63c5882611a0 aria-expanded=true data-tab-item=R-tab-380f56daf2c41382fed5e183e4f1fbe1 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-70ce500da86aded4379d955227568dde","R-tab-380f56daf2c41382fed5e183e4f1fbe1")'>
<span class=tab-nav-text>kubectl get pods</span>
</button>
<button aria-controls=R-tab-id-bfaf6b0ef5b2e6140188893f50fc580e aria-expanded=false data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-70ce500da86aded4379d955227568dde","R-tab-29c2c02a361c9d7028472e5d92cd4a54")'>
<span class=tab-nav-text>Output</span></button></div><div class=tab-content-container><div id=R-tab-id-c8dfda08ea336be2044e63c5882611a0 data-tab-item=R-tab-380f56daf2c41382fed5e183e4f1fbe1 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods <span class=p>|</span> grep splunk-otel</span></span></code></pre></div></div></div><div id=R-tab-id-bfaf6b0ef5b2e6140188893f50fc580e data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>splunk-otel-collector-k8s-cluster-receiver-6bd5567d95-5f8cj     1/1     Running   0          10m
</span></span><span class=line><span class=cl>splunk-otel-collector-agent-tspd2                               1/1     Running   0          10m
</span></span><span class=line><span class=cl>splunk-otel-collector-operator-69d476cb7-j7zwd                  2/2     Running   0          10m</span></span></code></pre></div></div></div></div></div><p>Splunk OpenTelemetry Collector ã‹ã‚‰ã‚¨ãƒ©ãƒ¼ãŒå ±å‘Šã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼ˆ<code>ctrl + c</code> ã§çµ‚äº†ï¼‰ã€‚ã¾ãŸã¯ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®<strong>ç´ æ™´ã‚‰ã—ã„</strong> <code>k9s</code> ã‚¿ãƒ¼ãƒŸãƒŠãƒ« UI ã‚’ä½¿ç”¨ã™ã‚‹ã¨ãƒœãƒ¼ãƒŠã‚¹ãƒã‚¤ãƒ³ãƒˆã§ã™ï¼</p><div class=tab-panel data-tab-group=R-tabs-d54d89f4f45e7b27c540b9bb332abbc0><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-7d666698d04a11e8133f094232d034bc aria-expanded=true data-tab-item=R-tab-66b92e950fb2f856e1fdec23c736e201 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-d54d89f4f45e7b27c540b9bb332abbc0","R-tab-66b92e950fb2f856e1fdec23c736e201")'>
<span class=tab-nav-text>kubectl logs</span>
</button>
<button aria-controls=R-tab-id-331474d91c8e92e614b56b278ac78c67 aria-expanded=false data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-d54d89f4f45e7b27c540b9bb332abbc0","R-tab-29c2c02a361c9d7028472e5d92cd4a54")'>
<span class=tab-nav-text>Output</span></button></div><div class=tab-content-container><div id=R-tab-id-7d666698d04a11e8133f094232d034bc data-tab-item=R-tab-66b92e950fb2f856e1fdec23c736e201 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl logs -l <span class=nv>app</span><span class=o>=</span>splunk-otel-collector -f --container otel-collector</span></span></code></pre></div></div></div><div id=R-tab-id-331474d91c8e92e614b56b278ac78c67 data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>2021-03-21T16:11:10.900Z        INFO    service/service.go:364  Starting receivers...
</span></span><span class=line><span class=cl>2021-03-21T16:11:10.900Z        INFO    builder/receivers_builder.go:70 Receiver is starting... {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;prometheus&#34;, &#34;component_name&#34;: &#34;prometheus&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    builder/receivers_builder.go:75 Receiver started.       {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;prometheus&#34;, &#34;component_name&#34;: &#34;prometheus&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    builder/receivers_builder.go:70 Receiver is starting... {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;k8s_cluster&#34;, &#34;component_name&#34;: &#34;k8s_cluster&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    k8sclusterreceiver@v0.21.0/watcher.go:195       Configured Kubernetes MetadataExporter  {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;k8s_cluster&#34;, &#34;component_name&#34;: &#34;k8s_cluster&#34;, &#34;exporter_name&#34;: &#34;signalfx&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    builder/receivers_builder.go:75 Receiver started.       {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;k8s_cluster&#34;, &#34;component_name&#34;: &#34;k8s_cluster&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    healthcheck/handler.go:128      Health Check state change       {&#34;component_kind&#34;: &#34;extension&#34;, &#34;component_type&#34;: &#34;health_check&#34;, &#34;component_name&#34;: &#34;health_check&#34;, &#34;status&#34;: &#34;ready&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    service/service.go:267  Everything is ready. Begin running and processing data.
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    k8sclusterreceiver@v0.21.0/receiver.go:59       Starting shared informers and wait for initial cache sync.      {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;k8s_cluster&#34;, &#34;component_name&#34;: &#34;k8s_cluster&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.281Z        INFO    k8sclusterreceiver@v0.21.0/receiver.go:75       Completed syncing shared informer caches.       {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;k8s_cluster&#34;, &#34;component_name&#34;: &#34;k8s_cluster&#34;}</span></span></code></pre></div></div></div></div></div><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
å¤±æ•—ã—ãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®å‰Šé™¤</summary><div class=box-content><p>OpenTelemetry Collector ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’å‰Šé™¤ã—ã¦ã‚„ã‚Šç›´ã™ã“ã¨ãŒã§ãã¾ã™ï¼š</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm delete splunk-otel-collector</span></span></code></pre></div></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2025/12/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=petclinic-ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤>PetClinic ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤</h1><p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æœ€åˆã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã§ã¯ã€ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ç”¨ã—ã¦ã€è¦³æ¸¬ã‚’é–‹å§‹ã—ãŸã„ Kubernetes ã§å®Ÿè¡Œã•ã‚Œã‚‹é€šå¸¸ã® Java ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã„ã†åŸºæœ¬ã‚·ãƒŠãƒªã‚ªã‚’ä½œæˆã—ã¾ã™ã€‚ãã‚Œã§ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã—ã‚‡ã†ï¼š</p><div class=tab-panel data-tab-group=R-tabs-fe9058e303b92b6ef85cb2957dd79a62><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-24440ab3aed369bee6ac761c3c88854b aria-expanded=true data-tab-item=R-tab-8666ad26e93cd530823e6e5a5c706f5a class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-fe9058e303b92b6ef85cb2957dd79a62","R-tab-8666ad26e93cd530823e6e5a5c706f5a")'>
<span class=tab-nav-text>kubectl apply</span>
</button>
<button aria-controls=R-tab-id-d9ec0a8295958127ffcbe152364b8b44 aria-expanded=false data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-fe9058e303b92b6ef85cb2957dd79a62","R-tab-29c2c02a361c9d7028472e5d92cd4a54")'>
<span class=tab-nav-text>Output</span></button></div><div class=tab-content-container><div id=R-tab-id-24440ab3aed369bee6ac761c3c88854b data-tab-item=R-tab-8666ad26e93cd530823e6e5a5c706f5a class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl apply -f ~/workshop/petclinic/deployment.yaml</span></span></code></pre></div></div></div><div id=R-tab-id-d9ec0a8295958127ffcbe152364b8b44 data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>deployment.apps/config-server created
</span></span><span class=line><span class=cl>service/config-server created
</span></span><span class=line><span class=cl>deployment.apps/discovery-server created
</span></span><span class=line><span class=cl>service/discovery-server created
</span></span><span class=line><span class=cl>deployment.apps/api-gateway created
</span></span><span class=line><span class=cl>service/api-gateway created
</span></span><span class=line><span class=cl>service/api-gateway-external created
</span></span><span class=line><span class=cl>deployment.apps/customers-service created
</span></span><span class=line><span class=cl>service/customers-service created
</span></span><span class=line><span class=cl>deployment.apps/vets-service created
</span></span><span class=line><span class=cl>service/vets-service created
</span></span><span class=line><span class=cl>deployment.apps/visits-service created
</span></span><span class=line><span class=cl>service/visits-service created
</span></span><span class=line><span class=cl>deployment.apps/admin-server created
</span></span><span class=line><span class=cl>service/admin-server created
</span></span><span class=line><span class=cl>service/petclinic-db created
</span></span><span class=line><span class=cl>deployment.apps/petclinic-db created
</span></span><span class=line><span class=cl>configmap/petclinic-db-initdb-config created
</span></span><span class=line><span class=cl>deployment.apps/petclinic-loadgen-deployment created
</span></span><span class=line><span class=cl>configmap/scriptfile created</span></span></code></pre></div></div></div></div></div><p>ã“ã®æ™‚ç‚¹ã§ã€Pod ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’æ¤œè¨¼ã§ãã¾ã™ã€‚ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨èµ·å‹•ãŒå¿…è¦ãªãŸã‚ã€æ•°åˆ†ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</p><div class=tab-panel data-tab-group=R-tabs-dc27dbe8ff5c4cc156d1de0846ce873d><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-b2d660eddd939eeb802aa93a86fe0d42 aria-expanded=true data-tab-item=R-tab-380f56daf2c41382fed5e183e4f1fbe1 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-dc27dbe8ff5c4cc156d1de0846ce873d","R-tab-380f56daf2c41382fed5e183e4f1fbe1")'>
<span class=tab-nav-text>kubectl get pods</span>
</button>
<button aria-controls=R-tab-id-6fa9f291b637477133e0cb7c7b78d845 aria-expanded=false data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-dc27dbe8ff5c4cc156d1de0846ce873d","R-tab-29c2c02a361c9d7028472e5d92cd4a54")'>
<span class=tab-nav-text>Output</span></button></div><div class=tab-content-container><div id=R-tab-id-b2d660eddd939eeb802aa93a86fe0d42 data-tab-item=R-tab-380f56daf2c41382fed5e183e4f1fbe1 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div id=R-tab-id-6fa9f291b637477133e0cb7c7b78d845 data-tab-item=R-tab-29c2c02a361c9d7028472e5d92cd4a54 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>NAME                                                            READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>splunk-otel-collector-k8s-cluster-receiver-655dcd9b6b-dcvkb     1/1     Running   <span class=m>0</span>          114s
</span></span><span class=line><span class=cl>splunk-otel-collector-agent-dg2vj                               1/1     Running   <span class=m>0</span>          114s
</span></span><span class=line><span class=cl>splunk-otel-collector-operator-57cbb8d7b4-dk5wf                 2/2     Running   <span class=m>0</span>          114s
</span></span><span class=line><span class=cl>petclinic-db-64d998bb66-2vzpn                                   1/1     Running   <span class=m>0</span>          58s
</span></span><span class=line><span class=cl>api-gateway-d88bc765-jd5lg                                      1/1     Running   <span class=m>0</span>          58s
</span></span><span class=line><span class=cl>visits-service-7f97b6c579-bh9zj                                 1/1     Running   <span class=m>0</span>          58s
</span></span><span class=line><span class=cl>admin-server-76d8b956c5-mb2zv                                   1/1     Running   <span class=m>0</span>          58s
</span></span><span class=line><span class=cl>customers-service-847db99f79-mzlg2                              1/1     Running   <span class=m>0</span>          58s
</span></span><span class=line><span class=cl>vets-service-7bdcd7dd6d-2tcfd                                   1/1     Running   <span class=m>0</span>          58s
</span></span><span class=line><span class=cl>petclinic-loadgen-deployment-5d69d7f4dd-xxkn4                   1/1     Running   <span class=m>0</span>          58s
</span></span><span class=line><span class=cl>config-server-67f7876d48-qrsr5                                  1/1     Running   <span class=m>0</span>          58s
</span></span><span class=line><span class=cl>discovery-server-554b45cfb-bqhgt                                1/1     Running   <span class=m>0</span>          58s</span></span></code></pre></div></div></div></div></div><p><code>kubectl get pods</code> ã®å‡ºåŠ›ãŒã€ä¸Šè¨˜ã® Output ã‚¿ãƒ–ã«ç¤ºã•ã‚Œã¦ã„ã‚‹å‡ºåŠ›ã¨ä¸€è‡´ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒ <strong>Running</strong> ã¨è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼ˆã¾ãŸã¯ <code>k9s</code> ã‚’ä½¿ç”¨ã—ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¶™ç¶šçš„ã«ç›£è¦–ã§ãã¾ã™ï¼‰ã€‚</p><p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã«ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å–å¾—ã§ãã¾ã™ï¼š</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl http://ifconfig.me</span></span></code></pre></div><p><strong>http://&lt;IP_ADDRESS>:81</strong>ï¼ˆ<strong>&lt;IP_ADDRESS></strong> ã‚’ä¸Šè¨˜ã§å–å¾—ã—ãŸ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ç½®ãæ›ãˆã¦ãã ã•ã„ï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚PetClinic ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã®ãŒç¢ºèªã§ãã‚‹ã¯ãšã§ã™ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãƒãƒ¼ãƒˆ <strong>80</strong> ã¨ <strong>443</strong> ã§ã‚‚å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚‰ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€ãƒãƒ¼ãƒˆ <strong>81</strong> ã«åˆ°é”ã§ããªã„å ´åˆã¯ãã¡ã‚‰ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚</p><p><a href=#R-image-0d05f42b985b31e77f2fb92ac2bd129b class=lightbox-link><img alt="Pet shop" class="lazy lightbox figure-image" loading=lazy src=../../images/petclinic.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0d05f42b985b31e77f2fb92ac2bd129b><img alt="Pet shop" class="lazy lightbox lightbox-image" loading=lazy src=../../images/petclinic.png></a></p><p><strong>All Owners</strong> <strong>(1)</strong> ã‚¿ãƒ–ã¨ <strong>Veterinarians</strong> <strong>(2)</strong> ã‚¿ãƒ–ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€å„ãƒšãƒ¼ã‚¸ã«åå‰ã®ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p><p><a href=#R-image-a7702f315044090dba85df12d31cc352 class=lightbox-link><img alt=Owners class="lazy lightbox figure-image" loading=lazy src=../../images/petclinic-owners.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a7702f315044090dba85df12d31cc352><img alt=Owners class="lazy lightbox lightbox-image" loading=lazy src=../../images/petclinic-owners.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2025/12/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=kubernetes-ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç¢ºèª>Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç¢ºèª</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ãŸã‚‰ã€<strong>Splunk Observability Cloud</strong> ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã€Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‹ã‚‰ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒæµã‚Œã¦ãã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚</p><p>å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ <strong>Infrastructure</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€<strong>Kubernetes</strong> ã‚’é¸æŠã—ã¦ã‹ã‚‰ã€<strong>Kubernetes nodes</strong> ã‚¿ã‚¤ãƒ«ã‚’é¸æŠã—ã¾ã™ã€‚</p><p><a href=#R-image-c6eaf63c19411b1e056bfb7043d31347 class=lightbox-link><img alt=NavigatorList class="lazy lightbox figure-image" loading=lazy src=../images/navigatorlist.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c6eaf63c19411b1e056bfb7043d31347><img alt=NavigatorList class="lazy lightbox lightbox-image" loading=lazy src=../images/navigatorlist.png></a></p><p><strong>Kubernetes nodes</strong> ã®æ¦‚è¦ç”»é¢ã«å…¥ã£ãŸã‚‰ã€<strong>Time</strong> ãƒ•ã‚£ãƒ«ã‚¿ã‚’ <strong>-1h</strong> ã‹ã‚‰éå»15åˆ† <strong>(-15m)</strong> ã«å¤‰æ›´ã—ã¦æœ€æ–°ã®ãƒ‡ãƒ¼ã‚¿ã«ç„¦ç‚¹ã‚’å½“ã¦ã€æ¬¡ã« <strong>Table</strong> ã‚’é¸æŠã—ã¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’å ±å‘Šã—ã¦ã„ã‚‹ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã‚’ãƒªã‚¹ãƒˆè¡¨ç¤ºã—ã¾ã™ã€‚</p><p>æ¬¡ã«ã€<strong>Refine by:</strong> ãƒ‘ãƒãƒ«ã§ <strong>Cluster name</strong> ã‚’é¸æŠã—ã€ãƒªã‚¹ãƒˆã‹ã‚‰ã”è‡ªèº«ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’é¸æŠã—ã¾ã™ã€‚</p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>ç‰¹å®šã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’è­˜åˆ¥ã™ã‚‹ã«ã¯ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¸­ã«å®Ÿè¡Œã—ãŸã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå‡ºåŠ›ã® <code>INSTANCE</code> å€¤ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚ã“ã®ä¸€æ„ã®è­˜åˆ¥å­ã«ã‚ˆã‚Šã€ãƒªã‚¹ãƒˆå†…ã®ä»–ã®ãƒãƒ¼ãƒ‰ã®ä¸­ã‹ã‚‰ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p></div></details><p>ã“ã‚Œã«ã‚ˆã‚Šã€ã”è‡ªèº«ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ãƒãƒ¼ãƒ‰ã®ã¿ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ãƒªã‚¹ãƒˆãŒãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚</p><p><a href=#R-image-2b2cea7ebbe07e12de6f80e61e3fd25f class=lightbox-link><img alt="K8s Nodes" class="lazy lightbox figure-image" loading=lazy src=../images/k8s-nodes.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2b2cea7ebbe07e12de6f80e61e3fd25f><img alt="K8s Nodes" class="lazy lightbox lightbox-image" loading=lazy src=../images/k8s-nodes.png></a></p><p><strong>K8s node logs</strong> ãƒ“ãƒ¥ãƒ¼ã«åˆ‡ã‚Šæ›¿ãˆã¦ã€ãƒãƒ¼ãƒ‰ã‹ã‚‰ã®ãƒ­ã‚°ã‚’ç¢ºèªã—ã¾ã™ã€‚</p><p><a href=#R-image-341d02e33db56db104324c129740e3a3 class=lightbox-link><img alt=Logs class="lazy lightbox figure-image" loading=lazy src=../images/k8s-peek-at-logs.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-341d02e33db56db104324c129740e3a3><img alt=Logs class="lazy lightbox lightbox-image" loading=lazy src=../images/k8s-peek-at-logs.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2025/12/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=apmã®è‡ªå‹•æ¤œå‡ºã¨è¨­å®šã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—>APMã®è‡ªå‹•æ¤œå‡ºã¨è¨­å®šã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10åˆ†</span>
</span>&nbsp;<p>ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€Kubernetes ä¸Šã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ Java ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã—ã¦<strong>è‡ªå‹•æ¤œå‡ºã¨è¨­å®š</strong>ã‚’æœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€OpenTelemetry Collector ãŒ Pod ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¤œç´¢ã—ã€Java ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã« Splunk OpenTelemetry Java ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§è¨ˆè£…ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ Java ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ãƒˆãƒ¬ãƒ¼ã‚¹ã€ã‚¹ãƒ‘ãƒ³ã€ãŠã‚ˆã³ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
è‡ªå‹•æ¤œå‡ºã¨è¨­å®š</summary><div class=box-content><p>è‡ªå‹•æ¤œå‡ºã¨è¨­å®šã¯ã€<strong>ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã‚„å†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’å¿…è¦ã¨ã›ãš</strong>ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰<strong>ãƒˆãƒ¬ãƒ¼ã‚¹ã€ã‚¹ãƒ‘ãƒ³ã€ãŠã‚ˆã³ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°</strong>ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚</p><p>ã“ã‚Œã¯ APM ã‚’å§‹ã‚ã‚‹ãŸã‚ã®å„ªã‚ŒãŸæ–¹æ³•ã§ã™ãŒã€æ‰‹å‹•è¨ˆè£… ã®<strong>ä»£æ›¿ã§ã¯ã‚ã‚Šã¾ã›ã‚“</strong>ã€‚æ‰‹å‹•è¨ˆè£…ã§ã¯ã€ã‚«ã‚¹ã‚¿ãƒ ã‚¹ãƒ‘ãƒ³ã€ã‚¿ã‚°ã€ãƒ­ã‚°ã‚’ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«è¿½åŠ ã§ãã€ãƒˆãƒ¬ãƒ¼ã‚¹ã«ã‚ˆã‚Šå¤šãã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨è©³ç´°ã‚’æä¾›ã§ãã¾ã™ã€‚</p></div></details><p>Java ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å ´åˆã€OpenTelemetry Collector ã¯<code>instrumentation.opentelemetry.io/inject-java</code>ã¨ã„ã†ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¤œç´¢ã—ã¾ã™ã€‚</p><p>ã“ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®å€¤ã¯<code>true</code>ã«è¨­å®šã™ã‚‹ã‹ã€OpenTelemetry Collector ã®<code>namespace/daemonset</code>ï¼ˆä¾‹ï¼š<code>default/splunk-otel-collector</code>ï¼‰ã«è¨­å®šã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€åå‰ç©ºé–“ã‚’ã¾ãŸã„ã§å‹•ä½œã™ã‚‹ã“ã¨ãŒã§ãã€ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ã¯ã“ã‚Œã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
deployment.yamlã®ä½¿ç”¨</summary><div class=box-content><p>Pod ãŒè‡ªå‹•çš„ã«ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’é€ä¿¡ã™ã‚‹ã‚ˆã†ã«ã—ãŸã„å ´åˆã¯ã€ä»¥ä¸‹ã«ç¤ºã™ã‚ˆã†ã«<code>deployment.yaml</code>ã«ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€åˆæœŸãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ™‚ã«è¨ˆè£…ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚æ™‚é–“ã‚’ç¯€ç´„ã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã® Pod ã«å¯¾ã—ã¦ã“ã‚Œã‚’å®Ÿæ–½æ¸ˆã¿ã§ã™ï¼š</p><ul><li><strong>admin-server</strong></li><li><strong>config-server</strong></li><li><strong>discovery-server</strong></li></ul><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>admin-server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app.kubernetes.io/part-of</span><span class=p>:</span><span class=w> </span><span class=l>spring-petclinic</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>admin-server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>admin-server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>instrumentation.opentelemetry.io/inject-java</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;default/splunk-otel-collector&#34;</span></span></span></code></pre></div></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><section><h1 class=a11y-only>4. è‡ªå‹•æ¤œå‡ºã¨è¨­å®šã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®ãƒ‘ãƒƒãƒé©ç”¨>ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®ãƒ‘ãƒƒãƒé©ç”¨</h1><p><strong>è‡ªå‹•æ¤œå‡ºã¨è¨­å®š</strong>ã‚’æ§‹æˆã™ã‚‹ã«ã¯ã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã«è¨ˆè£…ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒãƒã‚’é©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒ‘ãƒƒãƒãŒé©ç”¨ã•ã‚Œã‚‹ã¨ã€OpenTelemetry CollectorãŒè‡ªå‹•æ¤œå‡ºã¨è¨­å®šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ³¨å…¥ã—ã€PodãŒå†èµ·å‹•ã•ã‚Œã¦ãƒˆãƒ¬ãƒ¼ã‚¹ã¨ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã®é€ä¿¡ãŒé–‹å§‹ã•ã‚Œã¾ã™ã€‚ã¾ãšã€ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦<code>api-gateway</code>ã«<code>splunk-otel-java</code>ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ï¼š</p><div class=tab-panel data-tab-group=R-tabs-d141ab41ca52c511fee6ad231f42dabe><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-80de863fc092c39bbac548d680c12aba aria-expanded=true data-tab-item=R-tab-147de2e4d489d131e220c244ab59800a class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-d141ab41ca52c511fee6ad231f42dabe","R-tab-147de2e4d489d131e220c244ab59800a")'>
<span class=tab-nav-text>Describe api-gateway</span>
</button>
<button aria-controls=R-tab-id-40ec2d0c2f56af42ba77027345709a9c aria-expanded=false data-tab-item=R-tab-397382ef4cd20471e3d9c9fecb6c01a7 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-d141ab41ca52c511fee6ad231f42dabe","R-tab-397382ef4cd20471e3d9c9fecb6c01a7")'>
<span class=tab-nav-text>Describe Output</span></button></div><div class=tab-content-container><div id=R-tab-id-80de863fc092c39bbac548d680c12aba data-tab-item=R-tab-147de2e4d489d131e220c244ab59800a class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl describe pods api-gateway <span class=p>|</span> grep Image:</span></span></code></pre></div></div></div><div id=R-tab-id-40ec2d0c2f56af42ba77027345709a9c data-tab-item=R-tab-397382ef4cd20471e3d9c9fecb6c01a7 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Image:         quay.io/phagen/spring-petclinic-api-gateway:0.0.2</span></span></code></pre></div></div></div></div></div><p>æ¬¡ã«ã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã«ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¦ã€ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã®Javaè‡ªå‹•æ¤œå‡ºã¨è¨­å®šã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€ã™ã¹ã¦ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã«ãƒ‘ãƒƒãƒã‚’é©ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€OpenTelemetry OperatorãŒ<code>splunk-otel-java</code>ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’Podã«æ³¨å…¥ã—ã¾ã™ï¼š</p><div class=tab-panel data-tab-group=R-tabs-4a423244b319129d25f76b4b1d1a61a4><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-57024702788fbe49f701579d10da1435 aria-expanded=true data-tab-item=R-tab-095a030c413da2306699957e31df046b class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-4a423244b319129d25f76b4b1d1a61a4","R-tab-095a030c413da2306699957e31df046b")'>
<span class=tab-nav-text>Patch all PetClinic services</span>
</button>
<button aria-controls=R-tab-id-ade20da36b383b21cc138713e0ceddc5 aria-expanded=false data-tab-item=R-tab-c7f3c9adf1663130bcb611eae74c77dc class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-4a423244b319129d25f76b4b1d1a61a4","R-tab-c7f3c9adf1663130bcb611eae74c77dc")'>
<span class=tab-nav-text>Patch Output</span></button></div><div class=tab-content-container><div id=R-tab-id-57024702788fbe49f701579d10da1435 data-tab-item=R-tab-095a030c413da2306699957e31df046b class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get deployments -l app.kubernetes.io/part-of<span class=o>=</span>spring-petclinic -o name <span class=p>|</span> xargs -I % kubectl patch % -p <span class=s2>&#34;{\&#34;spec\&#34;: {\&#34;template\&#34;:{\&#34;metadata\&#34;:{\&#34;annotations\&#34;:{\&#34;instrumentation.opentelemetry.io/inject-java\&#34;:\&#34;default/splunk-otel-collector\&#34;}}}}}&#34;</span></span></span></code></pre></div></div></div><div id=R-tab-id-ade20da36b383b21cc138713e0ceddc5 data-tab-item=R-tab-c7f3c9adf1663130bcb611eae74c77dc class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>deployment.apps/config-server patched (no change)
</span></span><span class=line><span class=cl>deployment.apps/admin-server patched (no change)
</span></span><span class=line><span class=cl>deployment.apps/customers-service patched
</span></span><span class=line><span class=cl>deployment.apps/visits-service patched
</span></span><span class=line><span class=cl>deployment.apps/discovery-server patched (no change)
</span></span><span class=line><span class=cl>deployment.apps/vets-service patched
</span></span><span class=line><span class=cl>deployment.apps/api-gateway patched</span></span></code></pre></div></div></div></div></div><p><strong>config-server</strong>ã€<strong>discovery-server</strong>ã€<strong>admin-server</strong>ã«ã¤ã„ã¦ã¯ã€ã™ã§ã«ãƒ‘ãƒƒãƒãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹ãŸã‚å¤‰æ›´ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p><p><code>api-gateway</code> Podã®ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å†åº¦ç¢ºèªã™ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š</p><div class=tab-panel data-tab-group=R-tabs-e4ab96207165aff6ff60c645c369ca90><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-c03bf0b4aa074a40409e76a7b146d089 aria-expanded=true data-tab-item=R-tab-147de2e4d489d131e220c244ab59800a class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-e4ab96207165aff6ff60c645c369ca90","R-tab-147de2e4d489d131e220c244ab59800a")'>
<span class=tab-nav-text>Describe api-gateway</span>
</button>
<button aria-controls=R-tab-id-3a6c151ab2e1688a5ae4d2e63f676674 aria-expanded=false data-tab-item=R-tab-397382ef4cd20471e3d9c9fecb6c01a7 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-e4ab96207165aff6ff60c645c369ca90","R-tab-397382ef4cd20471e3d9c9fecb6c01a7")'>
<span class=tab-nav-text>Describe Output</span></button></div><div class=tab-content-container><div id=R-tab-id-c03bf0b4aa074a40409e76a7b146d089 data-tab-item=R-tab-147de2e4d489d131e220c244ab59800a class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl describe pods api-gateway <span class=p>|</span> grep Image:</span></span></code></pre></div></div></div><div id=R-tab-id-3a6c151ab2e1688a5ae4d2e63f676674 data-tab-item=R-tab-397382ef4cd20471e3d9c9fecb6c01a7 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Image:         ghcr.io/signalfx/splunk-otel-java/splunk-otel-java:v1.30.0
</span></span><span class=line><span class=cl>Image:         quay.io/phagen/spring-petclinic-api-gateway:0.0.2</span></span></code></pre></div></div></div></div></div><p><code>api-gateway</code>ã«æ–°ã—ã„ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒè¿½åŠ ã•ã‚Œã€<code>ghcr.io</code>ã‹ã‚‰<code>splunk-otel-java</code>ãŒãƒ—ãƒ«ã•ã‚Œã¾ã™ï¼ˆæ³¨ï¼š2ã¤ã®<code>api-gateway</code>ã‚³ãƒ³ãƒ†ãƒŠãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´åˆã€å…ƒã®ã‚³ãƒ³ãƒ†ãƒŠãŒã¾ã çµ‚äº†å‡¦ç†ä¸­ã®å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€æ•°ç§’å¾…ã£ã¦ãã ã•ã„ï¼‰ã€‚</p><p><strong>Splunk Observability Cloud</strong>ã®Kubernetes Navigatorã«æˆ»ã‚Šã¾ã™ã€‚æ•°åˆ†å¾Œã€PodãŒã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã«ã‚ˆã£ã¦å†èµ·å‹•ã•ã‚Œã€è‡ªå‹•æ¤œå‡ºã¨è¨­å®šã‚³ãƒ³ãƒ†ãƒŠãŒè¿½åŠ ã•ã‚Œã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã®ã‚ˆã†ãªè¡¨ç¤ºã«ãªã‚Šã¾ã™ï¼š</p><p><a href=#R-image-9491f6cbdacf0332b72e46d15ec024f7 class=lightbox-link><img alt=restart class="lazy lightbox figure-image" loading=lazy src=../../images/k8s-navigator-restarted-pods.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9491f6cbdacf0332b72e46d15ec024f7><img alt=restart class="lazy lightbox lightbox-image" loading=lazy src=../../images/k8s-navigator-restarted-pods.png></a></p><p>Kubernetes Navigatorã§PodãŒç·‘è‰²ã«ãªã‚‹ã¾ã§å¾…ã£ã¦ã‹ã‚‰ã€æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«é€²ã‚“ã§ãã ã•ã„ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=splunk-apmã§ã®ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤º>Splunk APMã§ã®ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤º</h1><p>å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§<strong>APM</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€æ–°ã—ãè¨ˆè£…ã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ã®ãƒˆãƒ¬ãƒ¼ã‚¹ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ã¾ã™ã€‚</p><p>ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒœãƒƒã‚¯ã‚¹ã§<strong>Environment</strong>ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ <strong>(1)</strong> ã‚’ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®åå‰ã«å¤‰æ›´ã—ã¾ã™ã€‚</p><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
ãƒ¡ãƒ¢</summary><div class=box-content><p>ã“ã‚Œã¯**<code>&lt;INSTANCE>-workshop</code><strong>ã«ãªã‚Šã¾ã™ã€‚ã“ã“ã§</strong><code>INSTANCE</code>**ã¯ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å€¤ã§ã™ã€‚ã“ã‚Œã®ã¿ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p></div></details><p><a href=#R-image-9deb28c49afe4c7fc3a418299767dfd2 class=lightbox-link><img alt=apm class="lazy lightbox figure-image" loading=lazy src=../../images/zero-config-first-services-overview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9deb28c49afe4c7fc3a418299767dfd2><img alt=apm class="lazy lightbox lightbox-image" loading=lazy src=../../images/zero-config-first-services-overview.png></a></p><p><strong>Service Map</strong> <strong>(2)</strong> ãƒšã‚¤ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æº–å‚™ã‚’ã—ã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=apm-features>APM Features</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>å‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§è¦‹ã¦ããŸã‚ˆã†ã«ã€ã‚µãƒ¼ãƒ“ã‚¹ã§<strong>è‡ªå‹•æ¤œå‡ºã¨è¨­å®š</strong>ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€ãƒˆãƒ¬ãƒ¼ã‚¹ãŒ<strong>Splunk Observability Cloud</strong>ã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚</p><p>ã“ã‚Œã‚‰ã®ãƒˆãƒ¬ãƒ¼ã‚¹ã«ã‚ˆã‚Šã€Splunkã¯è‡ªå‹•çš„ã«<strong>Service Maps</strong>ã¨<strong>RED Metrics</strong>ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ã€ã‚µãƒ¼ãƒ“ã‚¹ã®å‹•ä½œã¨ã‚µãƒ¼ãƒ“ã‚¹é–“ã®ç›¸äº’ä½œç”¨ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®æœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã™ã€‚</p><p>æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ãƒˆãƒ¬ãƒ¼ã‚¹è‡ªä½“ã¨ã€ã‚³ãƒ¼ãƒ‰ã«è§¦ã‚Œã‚‹ã“ã¨ãªãã‚µãƒ¼ãƒ“ã‚¹ã®å‹•ä½œã‚’ç†è§£ã™ã‚‹ã®ã«å½¹ç«‹ã¤æƒ…å ±ã‚’è©³ã—ãè¦‹ã¦ã„ãã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><section><h1 class=a11y-only>5. APM Featuresã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=apm-service-map>APM Service Map</h1><p><a href=#R-image-d1072264340b18af867e53e97099f9de class=lightbox-link><img alt="apm map" class="lazy lightbox figure-image" loading=lazy src=../../images/zero-config-first-services-map.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d1072264340b18af867e53e97099f9de><img alt="apm map" class="lazy lightbox lightbox-image" loading=lazy src=../../images/zero-config-first-services-map.png></a></p><p>ä¸Šè¨˜ã®ãƒãƒƒãƒ—ã¯ã€ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹é–“ã®ã™ã¹ã¦ã®ç›¸äº’ä½œç”¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚PetClinic Microserviceã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•ã—ã¦å®Œå…¨ã«åŒæœŸã™ã‚‹ã¾ã§æ•°åˆ†ã‹ã‹ã‚‹ãŸã‚ã€ãƒãƒƒãƒ—ã¯ã¾ã ä¸­é–“çŠ¶æ…‹ã«ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚æ™‚é–“ãƒ•ã‚£ãƒ«ã‚¿ã‚’**-2m<strong>ã¨å…¥åŠ›ã—ã¦ã‚«ã‚¹ã‚¿ãƒ æ™‚é–“ã®</strong>2åˆ†<strong>ã«æ¸›ã‚‰ã™ã¨å½¹ç«‹ã¡ã¾ã™ã€‚ç”»é¢å³ä¸Šã®</strong>Refresh<strong>ãƒœã‚¿ãƒ³</strong>(1)**ã‚’ã‚¯ãƒªãƒƒã‚¯ã§ãã¾ã™ã€‚èµ¤ã„å††ã§ç¤ºã•ã‚Œã‚‹åˆæœŸèµ·å‹•é–¢é€£ã®ã‚¨ãƒ©ãƒ¼ã¯æœ€çµ‚çš„ã«æ¶ˆãˆã¾ã™ã€‚</p><p>æ¬¡ã«ã€å„ã‚µãƒ¼ãƒ“ã‚¹ã§åˆ©ç”¨å¯èƒ½ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’èª¿ã¹ã‚‹ãŸã‚ã«ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ã‚¨ãƒ©ãƒ¼ã€æœŸé–“ï¼ˆREDï¼‰ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p><p>ã“ã®æ¼”ç¿’ã§ã¯ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒé«˜ã„ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚„ã‚¨ãƒ©ãƒ¼ã‚’ç¤ºã—ã¦ã„ã‚‹å ´åˆã«ä½¿ç”¨ã™ã‚‹ä¸€èˆ¬çš„ãªã‚·ãƒŠãƒªã‚ªã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p><p>ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ã§<strong>customers-service</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€<strong>Services</strong>ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒœãƒƒã‚¯ã‚¹**(1)<strong>ã§<code>customers-service</code>ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚æ¬¡ã«ã€ã‚µãƒ¼ãƒ“ã‚¹åã«éš£æ¥ã™ã‚‹Operationsãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³</strong>(2)**ã‹ã‚‰<code>GET /owners</code>ã‚’é¸æŠã—ã¾ã™ã€‚</p><p>ã“ã‚Œã«ã‚ˆã‚Šã€ä»¥ä¸‹ã«ç¤ºã™ã‚ˆã†ã«<code>GET /owners</code>ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã•ã‚ŒãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š</p><p><a href=#R-image-fcf9fe2af4196187311d2b9ee6bc3728 class=lightbox-link><img alt="select a trace" class="lazy lightbox figure-image" loading=lazy src=../../images/select-workflow.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fcf9fe2af4196187311d2b9ee6bc3728><img alt="select a trace" class="lazy lightbox lightbox-image" loading=lazy src=../../images/select-workflow.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=apm-trace>APM Trace</h1><p>ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’é¸æŠã™ã‚‹ã«ã¯ã€<code>Service Requests & Errors</code>ãƒãƒ£ãƒ¼ãƒˆ**(1)**ã®ç·šã‚’é¸æŠã—ã¾ã™ã€‚é–¢é€£ã™ã‚‹ãƒˆãƒ¬ãƒ¼ã‚¹ã®é¸æŠè‚¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p><p>é–¢é€£ã™ã‚‹ãƒˆãƒ¬ãƒ¼ã‚¹ã®ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€é’ã„**(2)** Trace ID Linkã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚é¸æŠã™ã‚‹ãƒˆãƒ¬ãƒ¼ã‚¹ãŒServicesã‚«ãƒ©ãƒ ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹3ã¤ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨åŒã˜ã‚‚ã®ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p><p><a href=#R-image-3bb49251a6fada2a0ea9b504076a54c5 class=lightbox-link><img alt=workflow-trace-pick class="lazy lightbox figure-image" loading=lazy src=../../images/selecting-a-trace.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3bb49251a6fada2a0ea9b504076a54c5><img alt=workflow-trace-pick class="lazy lightbox lightbox-image" loading=lazy src=../../images/selecting-a-trace.png></a></p><p>ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ãƒ“ãƒ¥ãƒ¼ã§é¸æŠã•ã‚ŒãŸãƒˆãƒ¬ãƒ¼ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š</p><p>ã“ã“ã«ã¯ã„ãã¤ã‹ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ï¼š</p><ul><li>Waterfall Pane <strong>(1)</strong>ï¼šãƒˆãƒ¬ãƒ¼ã‚¹ã¨ã‚¹ãƒ‘ãƒ³ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹ã™ã¹ã¦ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒˆã•ã‚ŒãŸé–¢æ•°ãŒã€ãã®æœŸé–“è¡¨ç¤ºã¨é †åº/é–¢ä¿‚ã¨ã¨ã‚‚ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</li><li>Trace Info Pane <strong>(2)</strong>ï¼šé¸æŠã•ã‚ŒãŸã‚¹ãƒ‘ãƒ³æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆWaterfall Paneå†…ã§ã‚¹ãƒ‘ãƒ³ã®å‘¨ã‚Šã«ãƒœãƒƒã‚¯ã‚¹ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã‚Œã¦ã„ã¾ã™ï¼‰ã€‚</li><li>Span Pane <strong>(3)</strong>ï¼šé¸æŠã•ã‚ŒãŸã‚¹ãƒ‘ãƒ³ã§é€ä¿¡ã•ã‚ŒãŸã™ã¹ã¦ã®ã‚¿ã‚°ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã™ã¹ã¦ã‚’ç¢ºèªã§ãã¾ã™ã€‚</li><li>Process Paneï¼šã‚¹ãƒ‘ãƒ³ã‚’ä½œæˆã—ãŸãƒ—ãƒ­ã‚»ã‚¹ã«é–¢é€£ã™ã‚‹ã‚¿ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã«å«ã¾ã‚Œã¦ã„ãªã„ãŸã‚ã€ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ç¢ºèªã—ã¦ãã ã•ã„ï¼‰ã€‚</li><li>Trace Propertiesï¼šãƒšã‚¤ãƒ³ã®å³ä¸Šã«ã‚ã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯æŠ˜ã‚ŠãŸãŸã¾ã‚Œã¦ã„ã¾ã™ã€‚</li></ul><p><a href=#R-image-9203871fe40c093deee4eb853aadd07b class=lightbox-link><img alt=waterfall class="lazy lightbox figure-image" loading=lazy src=../../images/waterfall-view.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9203871fe40c093deee4eb853aadd07b><img alt=waterfall class="lazy lightbox lightbox-image" loading=lazy src=../../images/waterfall-view.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=apm-span>APM Span</h1><p>ã‚¹ãƒ‘ãƒ³ã‚’èª¿ã¹ã‚‹éš›ã€ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ã®ä¸Šã§<strong>è‡ªå‹•æ¤œå‡ºã¨è¨­å®š</strong>ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€<strong>ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãªã—</strong>ã§å¾—ã‚‰ã‚Œã‚‹ã„ãã¤ã‹ã®æ¨™æº–æ©Ÿèƒ½ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ï¼š</p><p>ã¾ãšã€Waterfall Paneã§ã€ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã«ç¤ºã™ã‚ˆã†ã«<code>customers-service:SELECT petclinic</code>ã¾ãŸã¯é¡ä¼¼ã®ã‚¹ãƒ‘ãƒ³ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š</p><p><a href=#R-image-efea3868886c56b7ae24557f7ad57bc9 class=lightbox-link><img alt=DB-query class="lazy lightbox figure-image" loading=lazy src=../../images/db-query.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-efea3868886c56b7ae24557f7ad57bc9><img alt=DB-query class="lazy lightbox lightbox-image" loading=lazy src=../../images/db-query.png></a></p><ul><li>åŸºæœ¬çš„ãªãƒ¬ã‚¤ãƒ†ãƒ³ã‚·æƒ…å ±ã¯ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒˆã•ã‚ŒãŸé–¢æ•°ã¾ãŸã¯å‘¼ã³å‡ºã—ã®ãƒãƒ¼ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€17.8ãƒŸãƒªç§’ã‹ã‹ã‚Šã¾ã—ãŸã€‚</li><li>ã„ãã¤ã‹ã®é¡ä¼¼ã—ãŸã‚¹ãƒ‘ãƒ³**(1)**ã¯ã€ã‚¹ãƒ‘ãƒ³ãŒè¤‡æ•°å›ç¹°ã‚Šè¿”ã•ã‚Œã‚‹å ´åˆã«ã®ã¿è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã®å ´åˆã€ä¾‹ã§ã¯10å›ã®ç¹°ã‚Šè¿”ã—ãŒã‚ã‚Šã¾ã™ã€‚<code>10x</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã™ã¹ã¦ã®ã‚¹ãƒ‘ãƒ³ãŒé †ç•ªã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</li><li><strong>Inferred Services</strong>ï¼šã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒˆã•ã‚Œã¦ã„ãªã„å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¸ã®å‘¼ã³å‡ºã—ã¯ã€ã‚°ãƒ¬ãƒ¼ã®ã€Œæ¨æ¸¬ã•ã‚ŒãŸã€ã‚¹ãƒ‘ãƒ³ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã®ä¾‹ã®Inferred Serviceã¾ãŸã¯ã‚¹ãƒ‘ãƒ³ã¯ã€ä¸Šè¨˜ã«ç¤ºã™ã‚ˆã†ã«Mysqlãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ <code>mysql:petclinic SELECT petclinic</code> **(2)**ã¸ã®å‘¼ã³å‡ºã—ã§ã™ã€‚</li><li><strong>Span Tags</strong>ï¼šTag Paneã«ã¯ã€è‡ªå‹•æ¤œå‡ºã¨è¨­å®šã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸæ¨™æº–ã‚¿ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã®å ´åˆã€ã‚¹ãƒ‘ãƒ³ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ãŸã‚ã€<code>db.statement</code>ã‚¿ã‚°**(3)**ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ã‚¿ã‚°ã¯ã€ã“ã®ã‚¹ãƒ‘ãƒ³ä¸­ã«å®Ÿè¡Œã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å‘¼ã³å‡ºã—ã§ä½¿ç”¨ã•ã‚Œã‚‹DBã‚¯ã‚¨ãƒªã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ä¿æŒã—ã¾ã™ã€‚ã“ã‚Œã¯DB-Query Performanceæ©Ÿèƒ½ã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚DB-Query Performanceã«ã¤ã„ã¦ã¯æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§è¦‹ã¦ã„ãã¾ã™ã€‚</li><li><strong>Always-on Profiling</strong>ï¼šã‚·ã‚¹ãƒ†ãƒ ãŒã‚¹ãƒ‘ãƒ³ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ä¸­ã«ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹ã‚ˆã†ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹<strong>å ´åˆ</strong>ã€ã‚¹ãƒ‘ãƒ³ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã§ã‚­ãƒ£ãƒ—ãƒãƒ£ã•ã‚ŒãŸã‚³ãƒ¼ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã®æ•°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€<code>customer-service:GET /owners</code>ã‚¹ãƒ‘ãƒ³ã«å¯¾ã—ã¦18å€‹ã®ã‚³ãƒ¼ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚<strong>(4)</strong></li></ul><p>æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=service-centric-view>Service Centric View</h1><p>Splunk APMã¯ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«1ã¤ã®é›†ä¸­ãƒ“ãƒ¥ãƒ¼ã§ã‚µãƒ¼ãƒ“ã‚¹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æ·±ã„ç†è§£ã‚’æä¾›ã™ã‚‹<strong>Service Centric Views</strong>ã‚’æä¾›ã—ã¾ã™ã€‚ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ãŸã£ã¦ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¯ã‚µãƒ¼ãƒ“ã‚¹ã®åŸºç›¤ã¨ãªã‚‹ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã‹ã‚‰ã®ã‚¨ãƒ©ãƒ¼ã‚„ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’è¿…é€Ÿã«ç‰¹å®šã—ã€æ–°ã—ã„ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹ã‚’ç‰¹å®šã—ã€ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ä¾å­˜é–¢ä¿‚ã®å¥å…¨æ€§ã‚’å¯è¦–åŒ–ã§ãã¾ã™ã€‚</p><p><code>api-gateway</code>ã®ã“ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯ã€å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰<strong>APM</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ãƒªã‚¹ãƒˆã®<code>api-gateway</code>ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Service Centric Viewãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š</p><p><a href=#R-image-447b85f112e9af891c9aad46825565f2 class=lightbox-link><img alt=service_maps class="lazy lightbox figure-image" loading=lazy src=../../images/service-view.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-447b85f112e9af891c9aad46825565f2><img alt=service_maps class="lazy lightbox lightbox-image" loading=lazy src=../../images/service-view.png></a></p><p>ã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒˆã•ã‚ŒãŸå„ã‚µãƒ¼ãƒ“ã‚¹ã§åˆ©ç”¨å¯èƒ½ãªã“ã®ãƒ“ãƒ¥ãƒ¼ã¯ã€<strong>Service metrics</strong>ã€<strong>Error breakdown</strong>ã€<strong>Runtime metrics (Java)</strong>ã€<strong>Infrastructure metrics</strong>ã®æ¦‚è¦ã‚’æä¾›ã—ã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=always-on-profiling--db-query-performance>Always-On Profiling & DB Query Performance</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<p>å‰ã®ç« ã§è¦‹ã¦ããŸã‚ˆã†ã«ã€APMã‚’ä½¿ç”¨ã—ã¦ã€ã‚³ãƒ¼ãƒ‰ã«è§¦ã‚Œã‚‹ã“ã¨ãªãã€ã•ã¾ã–ã¾ãªã‚µãƒ¼ãƒ“ã‚¹é–“ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒˆãƒ¬ãƒ¼ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã€å•é¡Œã‚’ã‚ˆã‚Šè¿…é€Ÿã«ç‰¹å®šã§ãã¾ã™ã€‚</p><p>ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ã«åŠ ãˆã¦ã€<strong>automatic discovery and configuration</strong>ã¯ã€å•é¡Œã‚’ã•ã‚‰ã«è¿…é€Ÿã«ç™ºè¦‹ã™ã‚‹ã®ã«å½¹ç«‹ã¤è¿½åŠ æ©Ÿèƒ½ã‚’æœ€åˆã‹ã‚‰æä¾›ã—ã¾ã™ã€‚ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ãã®ã†ã¡ã®2ã¤ã‚’è¦‹ã¦ã„ãã¾ã™ï¼š</p><ul><li><strong>Always-on Profiling and Java Metrics</strong></li><li><strong>Database Query Performance</strong></li></ul><p><strong>Always-on Profiling</strong>ã¾ãŸã¯<strong>Database Query Performance</strong>ã«ã¤ã„ã¦ã•ã‚‰ã«æ·±ãå­¦ã³ãŸã„å ´åˆã¯ã€<a href=/en/scenarios/debug_problems/><strong>Debug Problems in Microservices</strong></a>ã¨ã„ã†åˆ¥ã®Ninja WorkshopãŒã‚ã‚Šã¾ã™ã®ã§ã€ãã¡ã‚‰ã‚’ã”è¦§ãã ã•ã„ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><section><h1 class=a11y-only>6. Advanced Featuresã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=always-on-profiling--metrics>Always-On Profiling & Metrics</h1><p>å…ˆã»ã©Helmãƒãƒ£ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦Splunk Distribution of the OpenTelemetry Collectorã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸéš›ã€<strong>AlwaysOn Profiling</strong>ã¨<strong>Metrics</strong>ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€OpenTelemetry Javaã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®CPUã¨ãƒ¡ãƒ¢ãƒªã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã‚’è‡ªå‹•çš„ã«ç”Ÿæˆã—ã€Splunk Observability Cloudã«é€ä¿¡ã—ã¾ã™ã€‚</p><p>PetClinicã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã™ã‚‹ã¨ã€collectorã¯è‡ªå‹•çš„ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¤œå‡ºã—ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã¨ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã®ãŸã‚ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒˆã—ã¾ã™ã€‚ã“ã‚Œã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã€æ¬¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒˆã—ã¦ã„ã‚‹Javaã‚³ãƒ³ãƒ†ãƒŠã®1ã¤ã®èµ·å‹•ãƒ­ã‚°ã‚’èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼š</p><p>ãƒ­ã‚°ã«ã¯ã€Javaã®è‡ªå‹•æ¤œå‡ºã¨è¨­å®šã«ã‚ˆã£ã¦å–å¾—ã•ã‚ŒãŸãƒ•ãƒ©ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š</p><p><div class=tab-panel data-tab-group=R-tabs-5bf590c52d14bac1ac96d2d9d6e3642a><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-aee095dfd15b87e97948274a64a51fa4 aria-expanded=true data-tab-item=R-tab-c3d2921cc9f4b101462512ad1f1676da class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-5bf590c52d14bac1ac96d2d9d6e3642a","R-tab-c3d2921cc9f4b101462512ad1f1676da")'>
<span class=tab-nav-text>Run the script</span>
</button>
<button aria-controls=R-tab-id-f33ab10835cc8db05eda97231961bf2b aria-expanded=false data-tab-item=R-tab-587b796170a9abac4701cd8aa1bb38cb class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-5bf590c52d14bac1ac96d2d9d6e3642a","R-tab-587b796170a9abac4701cd8aa1bb38cb")'>
<span class=tab-nav-text>Example output</span></button></div><div class=tab-content-container><div id=R-tab-id-aee095dfd15b87e97948274a64a51fa4 data-tab-item=R-tab-c3d2921cc9f4b101462512ad1f1676da class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0><code class=language-logs data-lang=logs>.  ~/workshop/petclinic/scripts/get_logs.sh</code></pre></div></div></div><div id=R-tab-id-f33ab10835cc8db05eda97231961bf2b data-tab-item=R-tab-587b796170a9abac4701cd8aa1bb38cb class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>2024/02/15 09:42:00 Problem with dial: dial tcp 10.43.104.25:8761: connect: connection refused. Sleeping 1s
</span></span><span class=line><span class=cl>2024/02/15 09:42:01 Problem with dial: dial tcp 10.43.104.25:8761: connect: connection refused. Sleeping 1s
</span></span><span class=line><span class=cl>2024/02/15 09:42:02 Connected to tcp://discovery-server:8761
</span></span><span class=line><span class=cl>Picked up JAVA_TOOL_OPTIONS:  -javaagent:/otel-auto-instrumentation-java/javaagent.jar
</span></span><span class=line><span class=cl>Picked up _JAVA_OPTIONS: -Dspring.profiles.active=docker,mysql -Dsplunk.profiler.call.stack.interval=150
</span></span><span class=line><span class=cl>OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:03:056 +0000] [main] INFO io.opentelemetry.javaagent.tooling.VersionLogger - opentelemetry-javaagent - version: splunk-1.30.1-otel-1.32.1
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:03:768 +0000] [main] INFO com.splunk.javaagent.shaded.io.micrometer.core.instrument.push.PushMeterRegistry - publishing metrics for SignalFxMeterRegistry every 30s
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:478 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger - -----------------------
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:478 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger - Profiler configuration:
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:480 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -                  splunk.profiler.enabled : true
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:505 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -                splunk.profiler.directory : /tmp
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:505 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -       splunk.profiler.recording.duration : 20s
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:506 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -               splunk.profiler.keep-files : false
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:510 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -            splunk.profiler.logs-endpoint : http://10.13.2.38:4317
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:513 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -              otel.exporter.otlp.endpoint : http://10.13.2.38:4317
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:513 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -           splunk.profiler.memory.enabled : true
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:515 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -             splunk.profiler.tlab.enabled : true
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:516 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -        splunk.profiler.memory.event.rate : 150/s
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:516 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -      splunk.profiler.call.stack.interval : PT0.15S
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:517 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -  splunk.profiler.include.internal.stacks : false
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:517 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger -      splunk.profiler.tracing.stacks.only : false
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:517 +0000] [main] INFO com.splunk.opentelemetry.profiler.ConfigurationLogger - -----------------------
</span></span><span class=line><span class=cl>[otel.javaagent 2024-02-15 09:42:07:518 +0000] [main] INFO com.splunk.opentelemetry.profiler.JfrActivator - Profiler is active.</span></span></code></pre></div></div></div></div></div>ç§ãŸã¡ãŒæ³¨ç›®ã—ã¦ã„ã‚‹ã®ã¯ã€<code>com.splunk.opentelemetry.profiler.ConfigurationLogger</code>ã«ã‚ˆã£ã¦æ›¸ãè¾¼ã¾ã‚ŒãŸã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€ã¤ã¾ã‚Š<strong>Profiling Configuration</strong>ã§ã™ã€‚</p><p><code>splunk.profiler.directory</code>ãªã©ã€åˆ¶å¾¡ã§ãã‚‹ã•ã¾ã–ã¾ãªè¨­å®šã‚’ç¢ºèªã§ãã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒSplunkã«é€ä¿¡ã™ã‚‹å‰ã«ã‚³ãƒ¼ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚’æ›¸ãè¾¼ã‚€å ´æ‰€ã§ã™ã€‚ï¼ˆã“ã‚Œã¯ã€ã‚³ãƒ³ãƒ†ãƒŠã®è¨­å®šæ–¹æ³•ã«ã‚ˆã£ã¦ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ï¼‰</p><p>å¤‰æ›´ã—ãŸã„ã‚‚ã†1ã¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯<code>splunk.profiler.call.stack.interval</code>ã§ã™ã€‚ã“ã‚Œã¯ã€ã‚·ã‚¹ãƒ†ãƒ ãŒCPU Stack traceã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹é »åº¦ã§ã™ã€‚Pet Clinicã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚ˆã†ãªçŸ­ã„ã‚¹ãƒ‘ãƒ³ãŒã‚ã‚‹å ´åˆã¯ã€ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«è¨­å®šã‚’çŸ­ãã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«å€¤ã‚’å¤‰æ›´ã—ãªã‹ã£ãŸãŸã‚ã€ã‚¹ãƒ‘ãƒ³ã«å¸¸ã«CPU Call StackãŒé–¢é€£ä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹ã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚</p><p>ã“ã‚Œã‚‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®šã™ã‚‹æ–¹æ³•ã¯<a href=https://help.splunk.com/en/splunk-observability-cloud/manage-data/available-data-sources/supported-integrations-in-splunk-observability-cloud/apm-instrumentation/instrument-a-java-application/configure-the-java-agent#profiling-configuration-java rel=external>ã“ã¡ã‚‰</a>ã§ç¢ºèªã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€<code>deployment.yaml</code>ã§ã‚³ãƒ¼ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã®ã‚ˆã‚Šé«˜ã„åé›†ãƒ¬ãƒ¼ãƒˆã‚’è¨­å®šã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€JAVA_OPTIONS configã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã“ã®å€¤ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§è¡Œã„ã¾ã™ã€‚</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>JAVA_OPTIONS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;-Xdebug -Dsplunk.profiler.call.stack.interval=150&#34;</span></span></span></code></pre></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=trace-waterfallå†…ã®always-on-profiling>Trace Waterfallå†…ã®Always-On Profiling</h1><p>APM Waterfall ãƒ“ãƒ¥ãƒ¼ã§ã‚ªãƒªã‚¸ãƒŠãƒ«ã® Trace & Span <strong>(1)</strong>ï¼ˆã¾ãŸã¯é¡ä¼¼ã®ã‚‚ã®ï¼‰ã‚’é¸æŠã—ã€å³å´ã®ãƒšã‚¤ãƒ³ã‹ã‚‰**Memory Stack Traces (2)**ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼š</p><p><a href=#R-image-529db459323c8a7f1664a1115541ff23 class=lightbox-link><img alt="profiling from span" class="lazy lightbox figure-image" loading=lazy src=../../images/flamechart-in-waterfall.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-529db459323c8a7f1664a1115541ff23><img alt="profiling from span" class="lazy lightbox lightbox-image" loading=lazy src=../../images/flamechart-in-waterfall.png></a></p><p>ãƒšã‚¤ãƒ³ã« Memory Stack Trace Flame Graph **(3)**ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã‹ã€ãƒšã‚¤ãƒ³ã®å³å´ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦æ‹¡å¤§ã§ãã¾ã™ã€‚</p><p>AlwaysOn Profiling ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã€ã¤ã¾ã‚Šã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’å¸¸ã«å–å¾—ã—ã¦ã„ã¾ã™ã€‚ä½•åƒã‚‚ã®ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’èª­ã¾ãªã‘ã‚Œã°ãªã‚‰ãªã„ã“ã¨ã‚’æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„ï¼ãã‚Œã¯ç¾å®Ÿçš„ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã‚’æ”¯æ´ã™ã‚‹ãŸã‚ã«ã€AlwaysOn Profiling ã¯ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’é›†ç´„ã—ã¦è¦ç´„ã—ã€<strong>Flame Graph</strong>ã¨å‘¼ã°ã‚Œã‚‹ãƒ“ãƒ¥ãƒ¼ã§ Call Stacks ã‚’æ¢ç´¢ã™ã‚‹ä¾¿åˆ©ãªæ–¹æ³•ã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ã‚­ãƒ£ãƒ—ãƒãƒ£ã•ã‚ŒãŸã™ã¹ã¦ã®ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã®è¦ç´„ã‚’è¡¨ã—ã¾ã™ã€‚Flame Graph ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œã‚’å¼•ãèµ·ã“ã—ã¦ã„ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã®è¡Œã‚’ç™ºè¦‹ã—ã€ã‚³ãƒ¼ãƒ‰ã«åŠ ãˆãŸå¤‰æ›´ãŒæ„å›³ã—ãŸåŠ¹æœã‚’æŒã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã§ãã¾ã™ã€‚</p><p>Always-on Profiling ã‚’ã•ã‚‰ã«è©³ã—ãèª¿ã¹ã‚‹ã«ã¯ã€<strong>Memory Stack Traces</strong>ã®ä¸‹ã® Profiling Pane ã§ä¸Šã®ç”»åƒã§å‚ç…§ã•ã‚Œã¦ã„ã‚‹ Span **(3)**ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Always-on Profiling ã®ãƒ¡ã‚¤ãƒ³ç”»é¢ãŒé–‹ãã€Memory ãƒ“ãƒ¥ãƒ¼ãŒã‚ã‚‰ã‹ã˜ã‚é¸æŠã•ã‚Œã¦ã„ã¾ã™ï¼š</p><p><a href=#R-image-9c2b467242e5c413c72e3645a4c5edc1 class=lightbox-link><img alt="Profiling main" class="lazy lightbox figure-image" loading=lazy src=../../images/profiling-memory.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9c2b467242e5c413c72e3645a4c5edc1><img alt="Profiling main" class="lazy lightbox lightbox-image" loading=lazy src=../../images/profiling-memory.png></a></p><ul><li>Time ãƒ•ã‚£ãƒ«ã‚¿ã¯ã€é¸æŠã—ãŸã‚¹ãƒ‘ãƒ³ã®æ™‚é–“æ ã«è¨­å®šã•ã‚Œã¾ã™ <strong>(1)</strong></li><li>Java Memory Metric Charts **(2)**ã§ã¯ã€<code>Heap Memoryã®ãƒ¢ãƒ‹ã‚¿ãƒ¼</code>ã€<code>Memory Allocation Rate</code>ã‚„<code>Garbage Collecting</code> Metrics ãªã©ã®<code>Application Activity</code>ã‚’ç¢ºèªã§ãã¾ã™ã€‚</li><li>ã‚¹ãƒ‘ãƒ³ **(3)**ã«é–¢é€£ã™ã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¨ Stack Traces ã®ã¿ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹/è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å¿…è¦ã«å¿œã˜ã¦ Java ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’ãƒ•ã‚£ãƒ«ã‚¿ã§é™¤å¤–ã§ãã¾ã™ã€‚</li><li>è­˜åˆ¥ã•ã‚ŒãŸ Java Function calls **(4)**ã«ã‚ˆã‚Šã€ãã®é–¢æ•°ã‹ã‚‰å‘¼ã³å‡ºã•ã‚ŒãŸãƒ¡ã‚½ãƒƒãƒ‰ã«ãƒ‰ãƒªãƒ«ãƒ€ã‚¦ãƒ³ã§ãã¾ã™ã€‚</li><li>ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã«åŸºã¥ãéšå±¤ã®è¦–è¦šåŒ–ã‚’æŒã¤ Flame Graph <strong>(5)</strong>ã€‚</li><li>ã‚µãƒ¼ãƒ“ã‚¹ãŒè¤‡æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’èµ·å‹•ã™ã‚‹å ´åˆã«å‚™ãˆã¦ã€Service instance **(6)**ã‚’é¸æŠã™ã‚‹æ©Ÿèƒ½ã€‚</li></ul><p>ã•ã‚‰ãªã‚‹èª¿æŸ»ã®ãŸã‚ã«ã€UI ã§ã¯ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€å‘¼ã³å‡ºã•ã‚ŒãŸé–¢æ•°ã¨ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒãƒ£ãƒ¼ãƒˆã‹ã‚‰é–¢é€£ã™ã‚‹è¡Œã‚’ç¢ºèªã§ãã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ç”¨ã—ã¦ã€ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã®è¡Œã‚’è¡¨ç¤ºã§ãã¾ã™ï¼ˆã‚‚ã¡ã‚ã‚“ã€ãŠå¥½ã¿ã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ï¼‰ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=database-query-performance>Database Query Performance</h1><p>Database Query Performanceã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€Splunk APMã§ç›´æ¥ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªãŒã‚µãƒ¼ãƒ“ã‚¹ã®å¯ç”¨æ€§ã«ä¸ãˆã‚‹å½±éŸ¿ã‚’ãƒ¢ãƒ‹ã‚¿ãƒ¼ã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒˆã™ã‚‹ã“ã¨ãªãã€é•·æ™‚é–“å®Ÿè¡Œã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªã€æœ€é©åŒ–ã•ã‚Œã¦ã„ãªã„ã‚¯ã‚¨ãƒªã€ã¾ãŸã¯é‡ã„ã‚¯ã‚¨ãƒªã‚’è¿…é€Ÿã«ç‰¹å®šã—ã€ãã‚Œã‚‰ãŒå¼•ãèµ·ã“ã—ã¦ã„ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹å•é¡Œã‚’è»½æ¸›ã§ãã¾ã™ã€‚</p><p>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§æˆ»ã‚‹ã‹ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã®APMã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ç§»å‹•ã—ã¦APMã®<strong>Service Map</strong>ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã€<strong>Service Map</strong>ã‚¿ã‚¤ãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</p><p>Dependency mapã§æ¨è«–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ <code>mysql:petclinic</code> Inferred Database serverã‚’é¸æŠã— <strong>(1)</strong>ã€æ¬¡ã«å³å´ã®ãƒšã‚¤ãƒ³ã‚’ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦<strong>Database Query Performance</strong> Pane **(2)**ã‚’è¦‹ã¤ã‘ã¾ã™ã€‚</p><p><a href=#R-image-2bfbd2f7239c618f86eb0455deffea10 class=lightbox-link><img alt="DB-query from map" class="lazy lightbox figure-image" loading=lazy src=../../images/db-query-map.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2bfbd2f7239c618f86eb0455deffea10><img alt="DB-query from map" class="lazy lightbox lightbox-image" loading=lazy src=../../images/db-query-map.png></a></p><p>ãƒãƒƒãƒ—ã§é¸æŠã—ãŸã‚µãƒ¼ãƒ“ã‚¹ãŒå®Ÿéš›ã«ï¼ˆæ¨è«–ã•ã‚ŒãŸï¼‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒãƒ¼ã§ã‚ã‚‹å ´åˆã€ã“ã®ãƒšã‚¤ãƒ³ã«ã¯æœŸé–“ã«åŸºã¥ãä¸Šä½90%ï¼ˆP90ï¼‰ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚db-queryãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ©Ÿèƒ½ã‚’ã•ã‚‰ã«è©³ã—ãèª¿ã¹ã‚‹ã«ã¯ã€ãƒšã‚¤ãƒ³ã®ä¸Šéƒ¨ã«ã‚ã‚‹<strong>Database Query Performance</strong>ã¨ã„ã†å˜èªã®ã©ã“ã‹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</p><p>ã“ã‚Œã«ã‚ˆã‚Šã€DB-query Performanceã®æ¦‚è¦ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š</p><p><a href=#R-image-c30b1a72337ba1575fd98c3e2d6a2026 class=lightbox-link><img alt="DB-query full" class="lazy lightbox figure-image" loading=lazy src=../../images/db-query-full.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c30b1a72337ba1575fd98c3e2d6a2026><img alt="DB-query full" class="lazy lightbox lightbox-image" loading=lazy src=../../images/db-query-full.png></a></p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Database Query Normalization</summary><div class=box-content><p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Splunk APMã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªã‚’ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã—ã¦ã€<code>db.statements</code>ã‹ã‚‰ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚„å€‹äººã‚’ç‰¹å®šã§ãã‚‹æƒ…å ±ï¼ˆPIIï¼‰ãªã©ã®æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã¾ãŸã¯ãƒã‚¹ã‚¯ã—ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªã®æ­£è¦åŒ–ã‚’ã‚ªãƒ•ã«ã™ã‚‹æ–¹æ³•ã¯<a href=https://help.splunk.com/en/splunk-observability-cloud/monitor-application-performance/monitor-database-query-performance/troubleshoot-database-query-performance#turn-off-database-query-normalization rel=external>ã“ã¡ã‚‰</a>ã§ç¢ºèªã§ãã¾ã™ã€‚</p></div></details><p>ã“ã®ç”»é¢ã«ã¯ã€Splunk Observability Cloudã«é€ä¿¡ã•ã‚ŒãŸTraces & Spansã«åŸºã¥ã„ã¦ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å¯¾ã—ã¦å®Ÿè¡Œã•ã‚ŒãŸã™ã¹ã¦ã®Database queries **(1)**ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚æ™‚é–“ãƒ–ãƒ­ãƒƒã‚¯é–“ã§æ¯”è¼ƒã—ãŸã‚Šã€Total Timeã€P90 Latency & Requests **(2)**ã§ã‚½ãƒ¼ãƒˆã—ãŸã‚Šã§ãã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚</p><p>ãƒªã‚¹ãƒˆå†…ã®å„Database queryã«ã¤ã„ã¦ã€æ™‚é–“ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ä¸­ã®æœ€é«˜ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã€ã‚³ãƒ¼ãƒ«ã®ç·æ•°ã€ãŠã‚ˆã³1ç§’ã‚ãŸã‚Šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•° **(3)**ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ã‚¨ãƒªã‚’æœ€é©åŒ–ã§ãã‚‹å ´æ‰€ã‚’ç‰¹å®šã§ãã¾ã™ã€‚</p><p>å³å´ã®ãƒšã‚¤ãƒ³ **(5)**ã®2ã¤ã®ãƒãƒ£ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ã€Database Callsã‚’å«ã‚€ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’é¸æŠã§ãã¾ã™ã€‚Tag Spotlightãƒšã‚¤ãƒ³ **(6)**ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚„ã‚¿ã‚°ã«åŸºã¥ã„ã¦ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ«ã«é–¢é€£ã™ã‚‹ã‚¿ã‚°ã‚’ç¢ºèªã—ã¾ã™ã€‚</p><p>ã‚¯ã‚¨ãƒªã®è©³ç´°ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆï¼š</p><p><a href=#R-image-f47b8cee12037665165ba902a319ef70 class=lightbox-link><img alt=details class="lazy lightbox figure-image" loading=lazy src=../../images/query-details.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f47b8cee12037665165ba902a319ef70><img alt=details class="lazy lightbox lightbox-image" loading=lazy src=../../images/query-details.png></a></p><p>ç‰¹å®šã®Query **(1)**ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Query Details pane **(2)**ãŒé–‹ãã€ã‚ˆã‚Šè©³ç´°ãªèª¿æŸ»ã«ä½¿ç”¨ã§ãã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=log-observer>Log Observer</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p>ã“ã®æ™‚ç‚¹ã¾ã§ã€<strong>ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã¯ä¸€åˆ‡ãªã</strong>ã€ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãŒ Splunk Observability Cloud ã«é€ä¿¡ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><p>æ¬¡ã«ã€<strong>Splunk Log Observer</strong> ã‚’ä½¿ç”¨ã—ã¦ Spring PetClinic ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€‚</p><p><strong>Splunk OpenTelemetry Collector</strong> ã¯ã€Spring PetClinic ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ­ã‚°ã‚’è‡ªå‹•çš„ã«åé›†ã—ã€OTLP ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ Splunk Observability Cloud ã«é€ä¿¡ã—ã¾ã™ã€‚ãã®éš›ã€ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã«ã¯ <code>trace_id</code>ã€<code>span_id</code>ã€ãƒˆãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ©ã‚°ãŒä»˜ä¸ã•ã‚Œã¾ã™ã€‚</p><p><strong>Splunk Log Observer</strong> ã‚’ä½¿ç”¨ã—ã¦ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã€ãƒ­ã‚°æƒ…å ±ã‚’ã‚µãƒ¼ãƒ“ã‚¹ã‚„ãƒˆãƒ¬ãƒ¼ã‚¹ã¨è‡ªå‹•çš„ã«é–¢é€£ä»˜ã‘ã¾ã™ã€‚</p><p>ã“ã®æ©Ÿèƒ½ã¯ <a href=https://help.splunk.com/en/splunk-observability-cloud/data-tools/related-content rel=external><strong>Related Content</strong></a> ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><section><h1 class=a11y-only>7. Log Observerã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹>ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹</h1><p>ãƒ­ã‚°ã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯ã€å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ <a href=#R-image-a3e08727c781f9355f9a5869b64f87d6 class=lightbox-link><img alt=Logo class="inline lazy lightbox figure-image" loading=lazy src="../images/logo-icon.png?classes=inline&height=25px" style=height:25px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a3e08727c781f9355f9a5869b64f87d6><img alt=Logo class="inline lazy lightbox lightbox-image" loading=lazy src="../images/logo-icon.png?classes=inline&height=25px"></a> <strong>Log Observer</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚Log Observer ã«å…¥ã£ãŸã‚‰ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒãƒ¼ã® <strong>Index</strong> ãŒ <strong>splunk4rookies-workshop</strong> ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚<strong>(1)</strong></p><p>æ¬¡ã«ã€<strong>Add Filter</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€<em>Fields</em> <strong>(2)</strong> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ <code>deployment.environment</code> ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ <strong>(3)</strong> ã‚’æ¤œç´¢ã—ã¾ã™ã€‚ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒªã‚¹ãƒˆã‹ã‚‰ã€ã‚ãªãŸã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠã— <strong>(4)</strong>ã€<code>=</code> (å«ã‚ã‚‹) ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ã“ã‚Œã§ã€PetClinic ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ã®ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p><p><a href=#R-image-7c81e60dc140866cd535892af19b6d8f class=lightbox-link><img alt="Log Observer sort" class="lazy lightbox figure-image" loading=lazy src=../../images/log-observer-sort.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7c81e60dc140866cd535892af19b6d8f><img alt="Log Observer sort" class="lazy lightbox lightbox-image" loading=lazy src=../../images/log-observer-sort.png></a></p><p>æ¬¡ã«ã€<code>service.name</code> ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ¤œç´¢ã—ã€å€¤ <code>customers-service</code> ã‚’é¸æŠã—ã¦ <code>=</code> (å«ã‚ã‚‹) ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ã“ã‚ŒãŒãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒãƒ¼ <strong>(1)</strong> ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚æ¬¡ã«ã€<strong>Run Search</strong> ãƒœã‚¿ãƒ³ <strong>(2)</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</p><p><a href=#R-image-1a982ec1e5401c454dbf88780a7485e8 class=lightbox-link><img alt="Log Observer run" class="lazy lightbox figure-image" loading=lazy src=../../images/log-observer-run.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1a982ec1e5401c454dbf88780a7485e8><img alt="Log Observer run" class="lazy lightbox lightbox-image" loading=lazy src=../../images/log-observer-run.png></a></p><p>ã“ã‚Œã«ã‚ˆã‚Šãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªãŒãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã•ã‚Œã€<code>customers-service</code> ã‹ã‚‰ã®ã‚¨ãƒ³ãƒˆãƒªã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«çµã‚Šè¾¼ã¾ã‚Œã¾ã™ã€‚</p><p><a href=#R-image-deda50c1c4fa1a54c1c9dbac7cd0256a class=lightbox-link><img alt="Log Observer" class="lazy lightbox figure-image" loading=lazy src=../../images/log-observer-trace-info.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-deda50c1c4fa1a54c1c9dbac7cd0256a><img alt="Log Observer" class="lazy lightbox lightbox-image" loading=lazy src=../../images/log-observer-trace-info.png></a></p><p><em>&ldquo;Saving pet&rdquo;</em> ã§å§‹ã¾ã‚‹ã‚¨ãƒ³ãƒˆãƒª <strong>(1)</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ã‚µã‚¤ãƒ‰ãƒšãƒ¼ãƒ³ãŒé–‹ãã€é–¢é€£ã™ã‚‹ãƒˆãƒ¬ãƒ¼ã‚¹IDã‚„ã‚¹ãƒ‘ãƒ³ID <strong>(2)</strong> ã‚’å«ã‚€è©³ç´°æƒ…å ±ã‚’ç¢ºèªã§ãã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=related-content>Related Content</h1><p>ä¸‹éƒ¨ã®ãƒšã‚¤ãƒ³ã«ã¯ã€é–¢é€£ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã§ã¯ã€APM ãŒã“ã®ãƒ­ã‚°è¡Œã«é–¢é€£ã™ã‚‹ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’è¦‹ã¤ã‘ãŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ <strong>(1)</strong>:</p><p><a href=#R-image-7b83f5d32acced0295de39551491dea1 class=lightbox-link><img alt=RC class="lazy lightbox figure-image" loading=lazy src=../../images/log-apm-rc.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7b83f5d32acced0295de39551491dea1><img alt=RC class="lazy lightbox lightbox-image" loading=lazy src=../../images/log-apm-rc.png></a></p><p><strong>Trace for 960432ac9f16b98be84618778905af50</strong> <strong>(2)</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã“ã®ãƒ­ã‚°è¡ŒãŒç”Ÿæˆã•ã‚ŒãŸç‰¹å®šã®ãƒˆãƒ¬ãƒ¼ã‚¹ã® APM ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ã«ç§»å‹•ã—ã¾ã™:</p><p><a href=#R-image-137d276b7a1a3dedcc69e077db60e014 class=lightbox-link><img alt="waterfall logs" class="lazy lightbox figure-image" loading=lazy src=../../images/waterfall-with-logs.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-137d276b7a1a3dedcc69e077db60e014><img alt="waterfall logs" class="lazy lightbox lightbox-image" loading=lazy src=../../images/waterfall-with-logs.png></a></p><p>ãƒ­ã‚°ã«é–¢ã™ã‚‹ <strong>Related Content</strong> ãƒšãƒ¼ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ <strong>(1)</strong>ã€‚ã“ã‚Œã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€Log Observer ã«æˆ»ã‚Šã€ã“ã®ãƒˆãƒ¬ãƒ¼ã‚¹ã®ä¸€éƒ¨ã§ã‚ã‚‹ã™ã¹ã¦ã®ãƒ­ã‚°è¡ŒãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=real-user-monitoring>Real User Monitoring</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã« Real User Monitoring (RUM) ã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã«ã¯ã€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã« Open Telemetry Javascript <a href=https://github.com/signalfx/splunk-otel-js-web rel=external><strong>https://github.com/signalfx/splunk-otel-js-web</strong></a> ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p><p>Spring PetClinic ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã™ã¹ã¦ã®ãƒ“ãƒ¥ãƒ¼ã§å†åˆ©ç”¨ã•ã‚Œã‚‹å˜ä¸€ã® <a href=https://github.com/spring-petclinic/spring-petclinic-microservices/blob/main/spring-petclinic-api-gateway/src/main/resources/static/index.html rel=external><strong>index</strong></a> HTML ãƒšãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€Splunk RUM ã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æŒ¿å…¥ã™ã‚‹ã®ã«æœ€é©ãªå ´æ‰€ã§ã™ã€‚ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ã§è‡ªå‹•çš„ã«èª­ã¿è¾¼ã¾ã‚Œã‚‹ãŸã‚ã§ã™ã€‚</p><p><code>api-gateway</code> ã‚µãƒ¼ãƒ“ã‚¹ã¯ã™ã§ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¦ãŠã‚Šã€RUM ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’ Splunk Observability Cloud ã«é€ä¿¡ã—ã¦ã„ã¾ã™ã€‚æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ã¾ã™ã€‚</p><p>ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’ç¢ºèªã—ãŸã„å ´åˆã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒšãƒ¼ã‚¸ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦ <strong>View Page Source</strong> ã‚’é¸æŠã™ã‚‹ã“ã¨ã§ã€ãƒšãƒ¼ã‚¸ã‚½ãƒ¼ã‚¹ã‚’è¡¨ç¤ºã§ãã¾ã™ã€‚</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;/env.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js&#34;</span> <span class=na>crossorigin</span><span class=o>=</span><span class=s>&#34;anonymous&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js&#34;</span> <span class=na>crossorigin</span><span class=o>=</span><span class=s>&#34;anonymous&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>realm</span> <span class=o>=</span> <span class=nx>env</span><span class=p>.</span><span class=nx>RUM_REALM</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Realm:&#39;</span><span class=p>,</span> <span class=nx>realm</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>auth</span> <span class=o>=</span> <span class=nx>env</span><span class=p>.</span><span class=nx>RUM_AUTH</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>appName</span> <span class=o>=</span> <span class=nx>env</span><span class=p>.</span><span class=nx>RUM_APP_NAME</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>environmentName</span> <span class=o>=</span> <span class=nx>env</span><span class=p>.</span><span class=nx>RUM_ENVIRONMENT</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>realm</span> <span class=o>&amp;&amp;</span> <span class=nx>auth</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>SplunkRum</span><span class=p>.</span><span class=nx>init</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>realm</span><span class=o>:</span> <span class=nx>realm</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>rumAccessToken</span><span class=o>:</span> <span class=nx>auth</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>applicationName</span><span class=o>:</span> <span class=nx>appName</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>deploymentEnvironment</span><span class=o>:</span> <span class=nx>environmentName</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>version</span><span class=o>:</span> <span class=s1>&#39;1.0.0&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nx>SplunkSessionRecorder</span><span class=p>.</span><span class=nx>init</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>applicationName</span><span class=o>:</span> <span class=nx>appName</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>realm</span><span class=o>:</span> <span class=nx>realm</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>rumAccessToken</span><span class=o>:</span> <span class=nx>auth</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=nx>recorder</span><span class=o>:</span> <span class=s2>&#34;splunk&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=nx>features</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>video</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>Provider</span> <span class=o>=</span> <span class=nx>SplunkRum</span><span class=p>.</span><span class=nx>provider</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>tracer</span><span class=o>=</span><span class=nx>Provider</span><span class=p>.</span><span class=nx>getTracer</span><span class=p>(</span><span class=s1>&#39;appModuleLoader&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Realm or auth is empty, provide default values or skip initialization
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Realm or auth is empty. Skipping Splunk Rum initialization.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=c>&lt;!-- Section added for  RUM --&gt;</span></span></span></code></pre></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><section><h1 class=a11y-only>8. Real User Monitoringã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=select-the-rum-view-for-the-petclinic-app>Select the RUM view for the Petclinic App</h1><p>å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ <strong>RUM</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€RUM ã®ç°¡å˜ãªæ¦‚è¦ãƒ„ã‚¢ãƒ¼ã‚’å§‹ã‚ã¾ã—ã‚‡ã†ã€‚æ¬¡ã«ã€<strong>Environment</strong> ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ <strong>(1)</strong> ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒœãƒƒã‚¯ã‚¹ã‹ã‚‰å¤‰æ›´ã—ã€ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®åå‰ <strong><code>&lt;INSTANCE>-workshop</code></strong> <strong>(1)</strong> ã‚’é¸æŠã—ã¾ã™ (ã“ã“ã§ <strong><code>INSTANCE</code></strong> ã¯ã€ä»¥å‰ã«å®Ÿè¡Œã—ãŸã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å€¤ã§ã™)ã€‚ã“ã‚Œã®ã¿ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p><p>æ¬¡ã«ã€<strong>App</strong> <strong>(2)</strong> ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚¢ãƒ—ãƒªã®åå‰ã«å¤‰æ›´ã—ã¾ã™ã€‚ã“ã‚Œã¯ <strong><code>&lt;INSTANCE>-store</code></strong> ã«ãªã‚Šã¾ã™ã€‚</p><p><a href=#R-image-0aac1dde6e58eeea0a6fef631dd1f7b4 class=lightbox-link><img alt="rum select" class="lazy lightbox figure-image" loading=lazy src=../../images/rum-env-select.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0aac1dde6e58eeea0a6fef631dd1f7b4><img alt="rum select" class="lazy lightbox lightbox-image" loading=lazy src=../../images/rum-env-select.png></a></p><p><strong>Environment</strong> ã¨ <strong>App</strong> ã‚’é¸æŠã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã® RUM ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¤ºã™æ¦‚è¦ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚(Summary Dashboard ãŒå˜ä¸€è¡Œã®æ•°å€¤ã ã‘ã®å ´åˆã¯ã€ç¸®å°è¡¨ç¤ºã«ãªã£ã¦ã„ã¾ã™ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åã®å‰ã«ã‚ã‚‹ <strong>> (1)</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å±•é–‹ã§ãã¾ã™)ã€‚JavaScript ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™:</p><p><a href=#R-image-1d19376326dcc8a1ee2ca16182d45fcf class=lightbox-link><img alt="rum overview" class="lazy lightbox figure-image" loading=lazy src=../../images/rum-overview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1d19376326dcc8a1ee2ca16182d45fcf><img alt="rum overview" class="lazy lightbox lightbox-image" loading=lazy src=../../images/rum-overview.png></a></p><p>ç¶šã‘ã‚‹ã«ã¯ã€é’ã„ãƒªãƒ³ã‚¯ (ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—å) ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€UX Metricsã€Front-end Healthã€Back-end Healthã€Custom Events ã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®å†…è¨³ãŒè¡¨ç¤ºã•ã‚Œã€éå»ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ 1 æ™‚é–“) ã¨æ¯”è¼ƒã•ã‚Œã‚‹æ–°ã—ã„ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ“ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p><p><a href=#R-image-957eb4c98abad106e94b38c08498d2b8 class=lightbox-link><img alt="rum  main" class="lazy lightbox figure-image" loading=lazy src=../../images/rum-main.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-957eb4c98abad106e94b38c08498d2b8><img alt="rum  main" class="lazy lightbox lightbox-image" loading=lazy src=../../images/rum-main.png></a>
é€šå¸¸ã€æœ€åˆã®ãƒãƒ£ãƒ¼ãƒˆã«ã¯ 1 ã¤ã®ç·šã®ã¿ãŒã‚ã‚Šã¾ã™ã€‚Petclinic ã‚·ãƒ§ãƒƒãƒ—ã«é–¢é€£ã™ã‚‹ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚
ã“ã®ä¾‹ã§ã¯ http://198.19.249.202:81 ã§ã™:</p><p>ã“ã‚Œã«ã‚ˆã‚Šã€Tag Spotlight ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=rum-trace-waterfall-view--linking-to-apm>RUM trace Waterfall view & linking to APM</h1><p>TAG Spotlight ãƒ“ãƒ¥ãƒ¼ã§ã¯ã€RUM ãƒ‡ãƒ¼ã‚¿ã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸã™ã¹ã¦ã®ã‚¿ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã‚¿ã‚°ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚’è­˜åˆ¥ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ã‚­ãƒ¼ãƒãƒªãƒ¥ãƒ¼ãƒšã‚¢ã§ã™ã€‚ã“ã®å ´åˆã€ã‚¿ã‚°ã¯ OpenTelemetry ã‚¤ãƒ³ã‚¹ãƒˆãƒ«ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦è‡ªå‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚ã‚¿ã‚°ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã€ãƒãƒ£ãƒ¼ãƒˆã‚„ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚Tag Spotlight ãƒ“ãƒ¥ãƒ¼ã§ã¯ã€å‹•ä½œã®å‚¾å‘ã‚’æ¤œå‡ºã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ãƒ‰ãƒªãƒ«ãƒ€ã‚¦ãƒ³ã§ãã¾ã™ã€‚</p><p><a href=#R-image-b400094db433207e63bb153175a2b2af class=lightbox-link><img alt="RUM TAG" class="lazy lightbox figure-image" loading=lazy src=../../images/rum-tag-spotlight.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b400094db433207e63bb153175a2b2af><img alt="RUM TAG" class="lazy lightbox lightbox-image" loading=lazy src=../../images/rum-tag-spotlight.png></a></p><p>User Sessions <strong>(1)</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã‚¿ã‚¤ãƒ ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ä¸­ã«ç™ºç”Ÿã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p><p>ã‚»ãƒƒã‚·ãƒ§ãƒ³ã® 1 ã¤ã‚’è¦‹ãŸã„ã®ã§ã€<em>Duration</em> <strong>(2)</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æœŸé–“ã§ã‚½ãƒ¼ãƒˆã—ã€é•·ã„ã‚‚ã®ã® 1 ã¤ã®ãƒªãƒ³ã‚¯ <strong>(3)</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„:</p><p><a href=#R-image-cfbb1fc879277aa4eb2e70762ea2f377 class=lightbox-link><img alt="User sessions" class="lazy lightbox figure-image" loading=lazy src=../../images/rum-user-sessions.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cfbb1fc879277aa4eb2e70762ea2f377><img alt="User sessions" class="lazy lightbox lightbox-image" loading=lazy src=../../images/rum-user-sessions.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=rum-trace-waterfall-view--linking-to-apm>RUM trace Waterfall view & linking to APM</h1><p>RUM ãƒˆãƒ¬ãƒ¼ã‚¹ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ã‚’è¦‹ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ petclinic ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ãã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒã‚¤ã‚¹ä¸Šã§ä½•ãŒèµ·ã“ã£ãŸã‹ã‚’ç¤ºã—ã¾ã™ã€‚</p><p>ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã€å³å´ã® <strong>#!/owners/details</strong> ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ <strong>(1)</strong> ã‚’è¦‹ã¤ã‘ã¦ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€Vets ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å‡¦ç†ä¸­ã«ç™ºç”Ÿã—ãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã¯ã€ãƒªã‚¿ãƒ¼ãƒ³ã‚³ãƒ¼ãƒ‰ã®å‰ã«é’ã„ <strong>APM</strong> ãƒªãƒ³ã‚¯ãŒã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚1 ã¤ã‚’é¸æŠã—ã€APM ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Kubernetes ã§ãƒ›ã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹ã“ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ¼ãƒ«ã® APM æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p><p><a href=#R-image-63e0bdfc0c285959d6d8b8df4787816e class=lightbox-link><img alt="rum apm link" class="lazy lightbox figure-image" loading=lazy src=../../images/rum-trace.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-63e0bdfc0c285959d6d8b8df4787816e><img alt="rum apm link" class="lazy lightbox lightbox-image" loading=lazy src=../../images/rum-trace.png></a></p><p>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ä½•ãŒèµ·ã“ã£ãŸã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ãƒ‰ãƒªãƒ«ãƒ€ã‚¦ãƒ³ã—ãŸã„å ´åˆã¯ã€Trace ID ã® URL ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚</p><p>ã“ã‚Œã«ã‚ˆã‚Šã€RUM ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«é–¢é€£ã™ã‚‹ãƒˆãƒ¬ãƒ¼ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™:</p><p><a href=#R-image-cbb0bcce2f0dda74d25f5cb470afb270 class=lightbox-link><img alt="RUm-apm linked" class="lazy lightbox figure-image" loading=lazy src=../../images/rum-apm-waterfall.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cbb0bcce2f0dda74d25f5cb470afb270><img alt="RUm-apm linked" class="lazy lightbox lightbox-image" loading=lazy src=../../images/rum-apm-waterfall.png></a></p><p>ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã« <strong>RUM (1)</strong> é–¢é€£ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒªãƒ³ã‚¯ãŒè¿½åŠ ã•ã‚Œã¦ãŠã‚Šã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã§ä½•ãŒèµ·ã“ã£ãŸã‹ã‚’ç¢ºèªã—ãŸå¾Œã€RUM ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«æˆ»ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=workshop-wrap-up->Workshop Wrap-up ğŸ</h1><p>ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚<strong>Get the Most Out of Your Existing Kubernetes Java Applications Using Automatic Discovery and Configuration With OpenTelemetry</strong> ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’å®Œäº†ã—ã¾ã—ãŸã€‚</p><p>ä»Šæ—¥ã€æ—¢å­˜ã® Kubernetes ä¸Šã® Java ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒˆãƒ¬ãƒ¼ã‚¹ã€ã‚³ãƒ¼ãƒ‰ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã„ã‹ã«ç°¡å˜ã‹ã‚’å­¦ã³ã¾ã—ãŸã€‚</p><p><strong>Automatic Discovery and Configuration</strong> ã‚’ä½¿ç”¨ã—ã¦ã€ã‚³ãƒ¼ãƒ‰ã‚„è¨­å®šã«ä¸€åˆ‡è§¦ã‚Œã‚‹ã“ã¨ãªãã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã®å¯è¦³æ¸¬æ€§ã‚’å³åº§ã«å‘ä¸Šã•ã›ã¾ã—ãŸã€‚</p><p>ã¾ãŸã€ã‚·ãƒ³ãƒ—ãƒ«ãªè¨­å®šå¤‰æ›´ã«ã‚ˆã‚Šã€ã•ã‚‰ã«å¤šãã®å¯è¦³æ¸¬æ€§ (<strong>logging</strong> ã‚„ <strong>RUM</strong>) ã‚’ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«è¿½åŠ ã—ã¦ã€ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®å¯è¦³æ¸¬æ€§ã‚’æä¾›ã§ãã‚‹ã“ã¨ã‚‚å­¦ã³ã¾ã—ãŸã€‚</p><p><a href=#R-image-23b93be83692801b96884b3315b7d983 class=lightbox-link><img alt=Champagne class="lazy lightbox figure-image" loading=lazy src="/observability-workshop/ja/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/9-wrap-up/images/champagne.png?width=45vw" style=height:auto;width:45vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-23b93be83692801b96884b3315b7d983><img alt=Champagne class="lazy lightbox lightbox-image" loading=lazy src="/observability-workshop/ja/ninja-workshops/1-automatic-discovery/2-petclinic-kubernetes/9-wrap-up/images/champagne.png?width=45vw"></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2026/01/05</span></span></footer></article></section></div></main></div><script src=/observability-workshop/js/clipboard/clipboard.min.js?1769686751 defer></script><script src=/observability-workshop/js/perfect-scrollbar/perfect-scrollbar.min.js?1769686751 defer></script><script src=/observability-workshop/js/theme.min.js?1769686751 defer></script></body></html>