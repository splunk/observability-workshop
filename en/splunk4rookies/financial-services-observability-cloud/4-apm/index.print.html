<!doctype html><html id=R-html lang=en dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 9.0.3+9bc97fdf9eaf3af61af9bcc11db2e010de83af95"><meta name=description content="In this section, we will use APM to drill down and identify where the problem is."><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Splunk APM :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="In this section, we will use APM to drill down and identify where the problem is."><meta property="og:url" content="https://splunk.github.io/observability-workshop/en/splunk4rookies/financial-services-observability-cloud/4-apm/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Splunk APM :: Splunk Observability Cloud Workshops"><meta property="og:description" content="In this section, we will use APM to drill down and identify where the problem is."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Splunk APM :: Splunk Observability Cloud Workshops"><meta itemprop=description content="In this section, we will use APM to drill down and identify where the problem is."><meta itemprop=dateModified content="2025-05-20T14:12:01-07:00"><meta itemprop=wordCount content="89"><title>Splunk APM :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/en/splunk4rookies/financial-services-observability-cloud/4-apm/index.html rel=canonical type=text/html title="Splunk APM :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/images/favicon.ico?1770901811 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/css/auto-complete/auto-complete.min.css?1770901811 rel=stylesheet><script src=/observability-workshop/js/auto-complete/auto-complete.min.js?1770901811 defer></script><script src=/observability-workshop/js/search-lunr.min.js?1770901811 defer></script><script src=/observability-workshop/js/search.min.js?1770901811 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/searchindex.en.js?1770901811"</script><script src=/observability-workshop/js/lunr/lunr.min.js?1770901811 defer></script><script src=/observability-workshop/js/lunr/lunr.stemmer.support.min.js?1770901811 defer></script><script src=/observability-workshop/js/lunr/lunr.multi.min.js?1770901811 defer></script><script src=/observability-workshop/js/lunr/lunr.en.min.js?1770901811 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/observability-workshop/fonts/fontawesome/css/all.min.css?1770901811 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/fonts/fontawesome/css/all.min.css?1770901811 rel=stylesheet></noscript><link href=/observability-workshop/css/perfect-scrollbar/perfect-scrollbar.min.css?1770901811 rel=stylesheet><link href=/observability-workshop/css/theme.min.css?1770901811 rel=stylesheet><link href=/observability-workshop/css/format-print.min.css?1770901811 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/splunk4rookies/financial-services-observability-cloud/4-apm/index.html",window.relearn.relBasePath="../../../..",window.relearn.relBaseUri="../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop",window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.T_Copy_to_clipboard=`Copy text to clipboard`,window.T_Copied_to_clipboard=`Text copied to clipboard!`,window.T_Link_copied_to_clipboard=`Link copied to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.T_Browser_unsupported_feature=`This browser doesn't support this feature`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantprefix="my-custom-",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant")??"";(!e||!e.startsWith(window.relearn.customvariantprefix)&&!window.relearn.themevariants.includes(e)||e.startsWith(window.relearn.customvariantprefix)&&!window.localStorage.getItem(window.relearn.absBaseUri+"/variantstylesheet-"+e))&&(e=window.relearn.themevariants[0],window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({appplicationName:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",recorder:"splunk",features:{video:!0}})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-origin=/observability-workshop/en/splunk4rookies/financial-services-observability-cloud/4-apm/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar class=default-animation><div class="topbar-wrapper default-animation"><div class="topbar-sidebar-divider default-animation"></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar default-animation" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></span></div><div class="topbar-button topbar-button-toc default-animation" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-table-list"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/splunk4rookies/index.html><span itemprop=name>Splunk4Rookies Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/splunk4rookies/financial-services-observability-cloud/index.html><span itemprop=name>Financial Services Observability Cloud</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>4. Splunk APM</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print default-animation" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/en/splunk4rookies/financial-services-observability-cloud/4-apm/index.print.html title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span></div><div class="topbar-button topbar-button-prev default-animation" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/en/splunk4rookies/financial-services-observability-cloud/3-quick-tour/4-infrastructure-home/index.html title="Infrastructure Overview (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span></div><div class="topbar-button topbar-button-next default-animation" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/en/splunk4rookies/financial-services-observability-cloud/4-apm/1-apm-explore/index.html title="1. APM Explore (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span></div><div class="topbar-button topbar-button-more default-animation" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable splunk4rookies" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=splunk-apm>Splunk APM</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>20 minutes</span>
</span>&nbsp;<details open class="box cstyle notices orange"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-user"></i>
Persona</summary><div class=box-content><p>You are a <strong>back-end developer</strong> and you have been called in to help investigate an issue found by the SRE. The SRE has identified a poor user experience and has asked you to investigate the issue.</p></div></details><p>Getting to the root cause of a problem in cloud-native environments requires engineers to navigate through immense complexity within a distributed system. Oftentimes, you didnâ€™t write the code and you lack the background and context to quickly understand whatâ€™s going on when a problem occurs. That is where Splunk APM comes in.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>May 20, 2025</span></span></footer></article><section><h1 class=a11y-only>Subsections of 4. Splunk APM</h1><article class=default><header class=headline></header><h1 id=1-apm-explore>1. APM Explore</h1><p>When you click into the APM section of Splunk Observability Cloud you are greated with an overview of your APM data including top services by error rates, and R.E.D. metrics for services and workflows.</p><p>The APM Service Map displays the dependencies and connections among your instrumented and inferred services in APM. The map is dynamically generated based on your selections in the time range, environment, workflow, service, and tag filters.</p><p>You can see the services involved in any of your APM user workflows by clicking into the <strong>Service Map</strong>. When you select a service in the <strong>Service Map</strong>, the charts in the <strong>Business Workflow</strong> sidepane are updated to show metrics for the selected service. The <strong>Service Map</strong> and any indicators are syncronized with the time picker and chart data displayed.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>Click on the <strong>wire-transfer-service</strong> in the Service Map.</li></ul></div></details><p><a href=#R-image-dbd838d13f58fba3c321af75b19b7b4c class=lightbox-link><img alt="APM Explore" class="lazy lightbox figure-image" loading=lazy src=../images/apm-business-workflow.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-dbd838d13f58fba3c321af75b19b7b4c><img alt="APM Explore" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-business-workflow.png></a></p><p>Splunk APM also provides built-in <strong>Service Centric Views</strong> to help you see problems occurring in real time and quickly determine whether the problem is associated with a service, a specific endpoint, or the underlying infrastructure. Let&rsquo;s have a closer look.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>In the right hand pane, click on <strong>wire-transfer-service</strong> in blue.</li></ul></div></details><p><a href=#R-image-4ffb8b9f5cafcb2a651233123d650887 class=lightbox-link><img alt="APM Service" class="lazy lightbox figure-image" loading=lazy src=../images/apm-service.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4ffb8b9f5cafcb2a651233123d650887><img alt="APM Service" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-service.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>May 21, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=2-apm-service-view>2. APM Service View</h1><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Service View</summary><div class=box-content><p>As a service owners you can use the service view in Splunk APM to get a complete view of your service health in a single pane of glass. The service view includes a service-level indicator (SLI) for availability, dependencies, request, error, and duration (RED) metrics, runtime metrics, infrastructure metrics, Tag Spotlight, endpoints, and logs for a selected service. You can also quickly navigate to code profiling and memory profiling for your service from the service view.</p></div></details><p><a href=#R-image-af4bdf187e383591b299a4408869ec44 class=lightbox-link><img alt="Service Dashboard" class="lazy lightbox figure-image" loading=lazy src=../images/apm-service-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-af4bdf187e383591b299a4408869ec44><img alt="Service Dashboard" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-service-dashboard.png></a></p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>In the <strong>Time</strong> box change the timeframe to <strong>-1h</strong>. Note how the charts update.</li><li>These charts are very useful to quickly identify performance issues. You can use this dashboard to keep an eye on the health of your service.</li><li>Scroll down the page and expand <strong>Infrastructure Metrics</strong>. Here you will see the metrics for the Host and Pod.</li><li><strong>Runtime Metrics</strong> are not available as profiling data is not available for services written in Node.js.</li><li>Now let&rsquo;s go back to the explore view, you can hit the back button in your Browser</li></ul></div></details><p><a href=#R-image-4251aec2b81ea3bb5db6627b201cc4c7 class=lightbox-link><img alt="APM Explore" class="lazy lightbox figure-image" loading=lazy src=../images/apm-business-workflow.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4251aec2b81ea3bb5db6627b201cc4c7><img alt="APM Explore" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-business-workflow.png></a></p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><div class=tab-panel data-tab-group=R-tabs-3be13a67dcf5dbea0ac1a0a7eaeaab36><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-1018db6833f9914371e94840b24d610f aria-expanded=true data-tab-item=R-tab-a97ea56b0e00b2379736ae60869ff66a class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-3be13a67dcf5dbea0ac1a0a7eaeaab36","R-tab-a97ea56b0e00b2379736ae60869ff66a")'>
<span class=tab-nav-text>Question</span>
</button>
<button aria-controls=R-tab-id-0fcd8fa44b0ad4318ef310a369a063f9 aria-expanded=false data-tab-item=R-tab-3751695c17afed4055a7a5ad5d46f6f5 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-3be13a67dcf5dbea0ac1a0a7eaeaab36","R-tab-3751695c17afed4055a7a5ad5d46f6f5")'>
<span class=tab-nav-text>Answer</span></button></div><div class=tab-content-container><div id=R-tab-id-1018db6833f9914371e94840b24d610f data-tab-item=R-tab-a97ea56b0e00b2379736ae60869ff66a class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>In the Service Map hover over the <strong>wire-transfer-service</strong>. What can you conclude from the popup service chart?</strong></p></div></div><div id=R-tab-id-0fcd8fa44b0ad4318ef310a369a063f9 data-tab-item=R-tab-3751695c17afed4055a7a5ad5d46f6f5 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>The error percentage is very high.</strong></p></div></div></div></div></div></details><p><a href=#R-image-31ab12d26f19936ae329a0ddc31614f8 class=lightbox-link><img alt="APM Service Chart" class="lazy lightbox figure-image" loading=lazy src=../images/apm-service-popup-chart.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-31ab12d26f19936ae329a0ddc31614f8><img alt="APM Service Chart" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-service-popup-chart.png></a></p><p>We need to understand if there is a pattern to this error rate. We have a handy tool for that, <strong>Tag Spotlight</strong>.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>May 21, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=3-apm-tag-spotlight>3. APM Tag Spotlight</h1><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>To view the tags for the <strong>wire-transfer-service</strong> click on the <strong>wire-transfer-service</strong> and then click on <strong>Tag Spotlight</strong> in the right-hand side functions pane (you may need to scroll down depending upon your screen resolution).* Once in <strong>Tag Spotlight</strong> ensure the toggle <strong>Show tags with no values</strong> is off.</li></ul></div></details><p><a href=#R-image-f8ac33a32e03980b4689fd8dfe51748f class=lightbox-link><img alt="APM Tag Spotlight" class="lazy lightbox figure-image" loading=lazy src=../images/apm-tag-spotlight.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f8ac33a32e03980b4689fd8dfe51748f><img alt="APM Tag Spotlight" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-tag-spotlight.png></a></p><p>The views in <strong>Tag Spotlight</strong> are configurable for both the chart and cards. The view defaults to <strong>Requests & Errors</strong>.</p><p>It is also possible to configure which tag metrics are displayed in the cards. It is possible to select any combinations of:</p><ul><li>Requests</li><li>Errors</li><li>Root cause errors</li><li>P50 Latency</li><li>P90 Latency</li><li>P99 Latency</li></ul><p>Also ensure that the <strong>Show tags with no values</strong> toggle is unchecked.</p><p>Scroll through the cards and get familiar with the tags provided by the wire-transfer-service&rsquo;s telemetry.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><div class=tab-panel data-tab-group=R-tabs-af64385d6d14142ef58fb2ab96c81aad><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-1f93351b6ef2f99a3ee860465e37ff46 aria-expanded=true data-tab-item=R-tab-a97ea56b0e00b2379736ae60869ff66a class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-af64385d6d14142ef58fb2ab96c81aad","R-tab-a97ea56b0e00b2379736ae60869ff66a")'>
<span class=tab-nav-text>Question</span>
</button>
<button aria-controls=R-tab-id-627cefddd66368c11d794ec414d9c1c6 aria-expanded=false data-tab-item=R-tab-3751695c17afed4055a7a5ad5d46f6f5 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-af64385d6d14142ef58fb2ab96c81aad","R-tab-3751695c17afed4055a7a5ad5d46f6f5")'>
<span class=tab-nav-text>Answer</span></button></div><div class=tab-content-container><div id=R-tab-id-1f93351b6ef2f99a3ee860465e37ff46 data-tab-item=R-tab-a97ea56b0e00b2379736ae60869ff66a class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>Which card exposes the tag that identifies what the problem is?</strong></p></div></div><div id=R-tab-id-627cefddd66368c11d794ec414d9c1c6 data-tab-item=R-tab-3751695c17afed4055a7a5ad5d46f6f5 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>The <em>version</em> card. The number of requests against <code>v350.10</code> matches the number of errors i.e. 100%</strong></p></div></div></div></div></div></details><p>Now that we have identified the version of the <strong>wire-transfer-service</strong> that is causing the issue, let&rsquo;s see if we can find out more information about the error. Press the back button on your browser to get back to the Service Map.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>May 21, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=4-apm-service-breakdown>4. APM Service Breakdown</h1><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>Select the <strong>wire-transfer-service</strong> in the Service Map.</li><li>In the right-hand pane click on the <span class="btn cstyle button grey noicon"><span><span class=title>Breakdown</span></span></span>.</li><li>Select <code>tenant.level</code> in the list.</li><li>Back in the Service Map click on <strong>gold</strong> (our most valuable user tier).</li><li>Click on <span class="btn cstyle button grey noicon"><span><span class=title>Breakdown</span></span></span> and select <code>version</code>, this is the tag that exposes the service version.</li><li>Repeat this for <strong>silver</strong> and <strong>bronze</strong>.</li></ul><div class=tab-panel data-tab-group=R-tabs-a69088c2ca097d85593e11824117360d><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-5cda469c4e627ba30c71305798cdad26 aria-expanded=true data-tab-item=R-tab-a97ea56b0e00b2379736ae60869ff66a class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-a69088c2ca097d85593e11824117360d","R-tab-a97ea56b0e00b2379736ae60869ff66a")'>
<span class=tab-nav-text>Question</span>
</button>
<button aria-controls=R-tab-id-27d963c7f2b7e1a6b2ef93a875619615 aria-expanded=false data-tab-item=R-tab-3751695c17afed4055a7a5ad5d46f6f5 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-a69088c2ca097d85593e11824117360d","R-tab-3751695c17afed4055a7a5ad5d46f6f5")'>
<span class=tab-nav-text>Answer</span></button></div><div class=tab-content-container><div id=R-tab-id-5cda469c4e627ba30c71305798cdad26 data-tab-item=R-tab-a97ea56b0e00b2379736ae60869ff66a class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>What can you conclude from what you are seeing?</strong></p></div></div><div id=R-tab-id-27d963c7f2b7e1a6b2ef93a875619615 data-tab-item=R-tab-3751695c17afed4055a7a5ad5d46f6f5 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>Every <code>tenant.level</code> is being impacted by <code>v350.10</code></strong></p></div></div></div></div></div></details><p>You will now see the <strong>wire-transfer-service</strong> broken down into three services, <strong>gold</strong>, <strong>silver</strong> and <strong>bronze</strong>. Each tenant is broken down into two services, one for each version (<code>v350.10</code> and <code>v350.9</code>).</p><p><a href=#R-image-6d64f6feb4490ec14a1c5a6accb52962 class=lightbox-link><img alt="APM Service Breakdown" class="lazy lightbox figure-image" loading=lazy src=../images/apm-service-breakdown.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6d64f6feb4490ec14a1c5a6accb52962><img alt="APM Service Breakdown" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-service-breakdown.png></a></p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Span Tags</summary><div class=box-content><p>Using span tags to break down services is a very powerful feature. It allows you to see how your services are performing for different customers, different versions, different regions, etc. In this exercise, we have determined that <code>v350.10</code> of the <strong>wire-transfer-service</strong> is causing problems for all our customers.</p></div></details><p>Next, we need to drill down into a trace to see what is going on.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>May 21, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=5-apm-trace-analyzer>5. APM Trace Analyzer</h1><p>As Splunk APM provides a <strong>NoSample</strong> end-to-end visibility of every service Splunk APM captures every trace. For this workshop, the wire transfer <strong>orderId</strong> is available as a tag. This means that we can use this to search for the exact trace of the poor user experience encountered by users.</p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Trace Analyzer</summary><div class=box-content><p>Splunk Observability Cloud provides several tools for exploring application monitoring data. <strong>Trace Analyzer</strong> is suited to scenarios where you have high-cardinality, high-granularity searches and explorations to research unknown or new issues.</p></div></details><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>With the outer box of the <strong>wire-transfer-service</strong> selected, in the right-hand pane, click on <strong>Traces</strong>.</li><li>Set <strong>Time Range</strong> to <strong>Last 15 minutes</strong>.</li><li>Ensure the <strong>Sample Ratio</strong> is set to <code>1:1</code> and <strong>not</strong> <code>1:10</code>.</li></ul></div></details><p><a href=#R-image-77b832d2093e24a9b86ea6c43c9759a4 class=lightbox-link><img alt="APM Trace Analyzer" class="lazy lightbox figure-image" loading=lazy src=../images/apm-trace-analyzer.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-77b832d2093e24a9b86ea6c43c9759a4><img alt="APM Trace Analyzer" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-trace-analyzer.png></a></p><p>The <strong>Trace & error count</strong> view shows the total traces and traces with errors in a stacked bar chart. You can use your mouse to select a specific period within the available time frame.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>Click on the dropdown menu that says <strong>Trace & error count</strong>, and change it to <strong>Trace duration</strong></li></ul></div></details><p><a href=#R-image-e456912caf5db9d68b7ab80025c0b815 class=lightbox-link><img alt="APM Trace Analyzer Heat Map" class="lazy lightbox figure-image" loading=lazy src=../images/apm-trace-analyzer-heat-map.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e456912caf5db9d68b7ab80025c0b815><img alt="APM Trace Analyzer Heat Map" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-trace-analyzer-heat-map.png></a></p><p>The <strong>Trace Duration</strong> view shows a heatmap of traces by duration. The heatmap represents 3 dimensions of data:</p><ul><li>Time on the x-axis</li><li>Trace duration on the y-axis</li><li>The traces (or requests) per second are represented by the heatmap shades</li></ul><p>You can use your mouse to select an area on the heatmap, to focus on a specific time period and trace duration range.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>Switch from <strong>Trace duration</strong> back to <strong>Trace & Error count</strong>.</li><li>In the time picker select <strong>Last 1 hour</strong>.</li><li>Note, that most of our traces have errors (red) and there are only a limited amount of traces that are error-free (blue).</li><li>Make sure the <strong>Sample Ratio</strong> is set to <code>1:1</code> and <strong>not</strong> <code>1:10</code>.</li><li>Click on <strong>Add filters</strong>, type in <code>orderId</code> and select <strong>orderId</strong> from the list.</li><li>Find and select the <strong>orderId</strong> provided by your workshop leader and hit enter.
<a href=#R-image-6057869a99bdcbad5ad8d657c0600e04 class=lightbox-link><img alt="Traces by Duration" class="lazy lightbox figure-image" loading=lazy src=../images/apm-trace-by-id.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6057869a99bdcbad5ad8d657c0600e04><img alt="Traces by Duration" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-trace-by-id.png></a></li></ul></div></details><p>We have now filtered down to the exact trace where users reported a poor experience with a very long processing wait.</p><p>A secondary benefit to viewing this trace is that the trace will be accessible for up to 13 months. This will allow developers to come back to this issue at a later stage and still view this trace for example.</p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>Click on the trace in the list.</li></ul></div></details><p>Next, we will walk through the trace waterfall.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>May 21, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=6-apm-waterfall>6. APM Waterfall</h1><p>We have arrived at the <strong>Trace Waterfall</strong> from the <strong>Trace Analyzer</strong>. A trace is a collection of spans that share the same trace ID, representing a unique transaction handled by your application and its constituent services.</p><p>Each span in Splunk APM captures a single operation. Splunk APM considers a span to be an error span if the operation that the span captures results in an error.</p><p><a href=#R-image-5e4956fb0f290bb0513aa9fe382a10e4 class=lightbox-link><img alt="Trace Waterfall" class="lazy lightbox figure-image" loading=lazy src=../images/apm-trace-waterfall.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5e4956fb0f290bb0513aa9fe382a10e4><img alt="Trace Waterfall" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-trace-waterfall.png></a></p><p><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>Click on the <span class="btn cstyle button red noicon"><span><span class=title>!</span></span></span> next to any of the <code>wire-transfer-service</code> spans in the waterfall.</li></ul><div class=tab-panel data-tab-group=R-tabs-645f2c23f30cf54ae3fd3981b6df5f83><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-587c4e460839ffdc09c35a101ec92ea0 aria-expanded=true data-tab-item=R-tab-a97ea56b0e00b2379736ae60869ff66a class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-645f2c23f30cf54ae3fd3981b6df5f83","R-tab-a97ea56b0e00b2379736ae60869ff66a")'>
<span class=tab-nav-text>Question</span>
</button>
<button aria-controls=R-tab-id-3814730d64956576ffdbf1f375017b1b aria-expanded=false data-tab-item=R-tab-3751695c17afed4055a7a5ad5d46f6f5 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-645f2c23f30cf54ae3fd3981b6df5f83","R-tab-3751695c17afed4055a7a5ad5d46f6f5")'>
<span class=tab-nav-text>Answer</span></button></div><div class=tab-content-container><div id=R-tab-id-587c4e460839ffdc09c35a101ec92ea0 data-tab-item=R-tab-a97ea56b0e00b2379736ae60869ff66a class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>What is the error message and version being reported in the Span Details?</strong></p></div></div><div id=R-tab-id-3814730d64956576ffdbf1f375017b1b data-tab-item=R-tab-3751695c17afed4055a7a5ad5d46f6f5 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong><code>Invalid request</code> and <code>v350.10</code></strong>.</p></div></div></div></div></div></details>Now that we have identified the version of the <strong>wire-transfer-service</strong> that is causing the issue, let&rsquo;s see if we can find out more information about the error. This is where <strong>Related Logs</strong> come in.</p><p>Related Content relies on specific metadata that allow APM, Infrastructure Monitoring, and Log Observer to pass filters around Observability Cloud. For related logs to work, you need to have the following metadata in your logs:</p><ul><li><code>service.name</code></li><li><code>deployment.environment</code></li><li><code>host.name</code></li><li><code>trace_id</code></li><li><code>span_id</code></li></ul><details open class="box cstyle notices green"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-running"></i>
Exercise</summary><div class=box-content><ul><li>At the very bottom of the <strong>Trace Waterfall</strong> click on <strong>Logs (1)</strong>. This highlights that there are <strong>Related Logs</strong> for this trace.</li><li>Click on the <strong>Logs for trace xxx</strong> entry in the pop-up, this will open the logs for the complete trace in <strong>Log Observer</strong>.</li></ul></div></details><p><a href=#R-image-a3d91e8e9e7eef101d7779b02301e787 class=lightbox-link><img alt="Related Logs" class="lazy lightbox figure-image" loading=lazy src=../images/apm-related-logs.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a3d91e8e9e7eef101d7779b02301e787><img alt="Related Logs" class="lazy lightbox lightbox-image" loading=lazy src=../images/apm-related-logs.png></a></p><p>Next, let&rsquo;s find out more about the error in the logs.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>May 20, 2025</span></span></footer></article></section></div></main></div><script src=/observability-workshop/js/perfect-scrollbar/perfect-scrollbar.min.js?1770901811 defer></script><script src=/observability-workshop/js/theme.min.js?1770901811 defer></script><div id=toast-container role=status aria-live=polite aria-atomic=false></div></body></html>