<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 8.2.0+9cac649a184a2967957ef9bbececf9402192846c"><meta name=description content="Learn how to automate AppDynamics Smart Agent deployment using Ansible."><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Monitoring as Code with Smart Agent and Ansible :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Learn how to automate AppDynamics Smart Agent deployment using Ansible."><meta property="og:url" content="https://splunk.github.io/observability-workshop/en/ninja-workshops/15-appd-workshop/6-smartagent/4-ansible-automation/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Monitoring as Code with Smart Agent and Ansible :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Learn how to automate AppDynamics Smart Agent deployment using Ansible."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Monitoring as Code with Smart Agent and Ansible :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Learn how to automate AppDynamics Smart Agent deployment using Ansible."><meta itemprop=dateModified content="2025-11-25T17:59:38-05:00"><meta itemprop=wordCount content="229"><title>Monitoring as Code with Smart Agent and Ansible :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/en/ninja-workshops/15-appd-workshop/6-smartagent/4-ansible-automation/index.html rel=canonical type=text/html title="Monitoring as Code with Smart Agent and Ansible :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/images/favicon.ico?1765840133 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/css/auto-complete/auto-complete.min.css?1765840133 rel=stylesheet><script src=/observability-workshop/js/auto-complete/auto-complete.min.js?1765840133 defer></script><script src=/observability-workshop/js/search-lunr.min.js?1765840133 defer></script><script src=/observability-workshop/js/search.min.js?1765840133 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/searchindex.en.js?1765840133"</script><script src=/observability-workshop/js/lunr/lunr.min.js?1765840133 defer></script><script src=/observability-workshop/js/lunr/lunr.stemmer.support.min.js?1765840133 defer></script><script src=/observability-workshop/js/lunr/lunr.multi.min.js?1765840133 defer></script><script src=/observability-workshop/js/lunr/lunr.en.min.js?1765840133 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/observability-workshop/fonts/fontawesome/css/fontawesome-all.min.css?1765840133 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/fonts/fontawesome/css/fontawesome-all.min.css?1765840133 rel=stylesheet></noscript><link href=/observability-workshop/css/perfect-scrollbar/perfect-scrollbar.min.css?1765840133 rel=stylesheet><link href=/observability-workshop/css/theme.min.css?1765840133 rel=stylesheet><link href=/observability-workshop/css/format-print.min.css?1765840133 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/ninja-workshops/15-appd-workshop/6-smartagent/4-ansible-automation/index.html",window.relearn.relBasePath="../../../../..",window.relearn.relBaseUri="../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({appplicationName:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",recorder:"splunk",features:{video:!0}})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-url=/observability-workshop/en/ninja-workshops/15-appd-workshop/6-smartagent/4-ansible-automation/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></span></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#architecture-overview>Architecture Overview</a><ul><li><a href=#key-components>Key Components</a></li></ul></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#step-1-install-ansible-on-macos>Step 1: Install Ansible on macOS</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/ninja-workshops/index.html><span itemprop=name>Splunk4Ninjas Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/ninja-workshops/15-appd-workshop/index.html><span itemprop=name>Splunk4Ninjas AppDynamics</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/ninja-workshops/15-appd-workshop/6-smartagent/index.html><span itemprop=name>SmartAgent Deployment</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Ansible Automation</span><meta itemprop=position content="5"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/en/ninja-workshops/15-appd-workshop/6-smartagent/4-ansible-automation/index.print.html title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/en/ninja-workshops/15-appd-workshop/6-smartagent/3-github-actions/4-running-workflows/index.html title="Running Workflows (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/en/ninja-workshops/15-appd-workshop/6-smartagent/4-ansible-automation/2-setup/index.html title="Setup & Configuration (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable ninja-workshops" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=monitoring-as-code-with-smart-agent-and-ansible>Monitoring as Code with Smart Agent and Ansible</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<h2 id=introduction>Introduction</h2><p>This guide details how to deploy the Cisco AppDynamics Smart Agent across multiple hosts using Ansible. By leveraging automation, you can ensure your monitoring infrastructure is consistent, robust, and easily scalable.</p><h2 id=architecture-overview>Architecture Overview</h2><p>The deployment architecture leverages an Ansible Control Node to orchestrate the installation and configuration of the Smart Agent on target hosts.</p><pre class="mermaid align-center">graph TD
    CN[Ansible Control Node&lt;br/&gt;(macOS/Linux)] --&gt;|SSH| H1[Target Host 1&lt;br/&gt;(Debian/RedHat)]
    CN --&gt;|SSH| H2[Target Host 2&lt;br/&gt;(Debian/RedHat)]
    CN --&gt;|SSH| H3[Target Host N&lt;br/&gt;(Debian/RedHat)]
    
    subgraph &#34;Target Host Configuration&#34;
        SA[Smart Agent Service]
        Config[config.ini]
        Package[Installer .deb/.rpm]
    end
    
    H1 --&gt; SA
    H2 --&gt; SA
    H3 --&gt; SA</pre><h3 id=key-components>Key Components</h3><ul><li><strong>Ansible Control Node</strong>: The machine where you run the playbooks (e.g., your laptop or a jump host).</li><li><strong>Target Hosts</strong>: The servers where the Smart Agent will be installed.</li><li><strong>Inventory</strong>: A list of target hosts and their connection details.</li><li><strong>Playbook</strong>: The YAML file defining the deployment tasks.</li></ul><h2 id=prerequisites>Prerequisites</h2><p>Before beginning, ensure you have:</p><ul><li>Access to the target hosts via SSH.</li><li>Sudo privileges on the target hosts.</li><li>The Smart Agent installation packages (<code>.deb</code> or <code>.rpm</code>) downloaded.</li><li>Account details for your AppDynamics Controller (Access Key, Account Name, URL).</li></ul><h2 id=step-1-install-ansible-on-macos>Step 1: Install Ansible on macOS</h2><p>To start, we need to install Ansible on your control node.</p><ol><li><p><strong>Install Homebrew</strong> (if not already installed):</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>/bin/bash -c <span class=s2>&#34;</span><span class=k>$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class=k>)</span><span class=s2>&#34;</span></span></span></code></pre></div></li><li><p><strong>Install Ansible</strong>:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>brew install ansible</span></span></code></pre></div></li><li><p><strong>Verify the Installation</strong>:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ansible --version</span></span></code></pre></div><p>You should see output indicating the installed version of Ansible.</p></li></ol><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 25, 2025</span></span></footer></article><section><h1 class=a11y-only>Subsections of Ansible Automation</h1><article class=default><header class=headline></header><h1 id=setup--configuration>Setup & Configuration</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<h2 id=step-2-prepare-your-files-and-directory-structure>Step 2: Prepare Your Files and Directory Structure</h2><p>Create a project directory for your Ansible deployment. It should contain the following files:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>â”œâ”€â”€ appdsmartagent_64_linux_24.6.0.2143.deb  # Debian package
</span></span><span class=line><span class=cl>â”œâ”€â”€ appdsmartagent_64_linux_24.6.0.2143.rpm  # RedHat package
</span></span><span class=line><span class=cl>â”œâ”€â”€ inventory-cloud.yaml                     # Inventory file
</span></span><span class=line><span class=cl>â”œâ”€â”€ smartagent.yaml                          # Playbook
</span></span><span class=line><span class=cl>â””â”€â”€ variables.yaml                           # Variables file</span></span></code></pre></div><p>Ensure you have downloaded the correct Smart Agent packages for your target environments.</p><h2 id=step-3-understanding-the-files>Step 3: Understanding the Files</h2><h3 id=1-inventory-files-inventory-cloudyaml>1. Inventory Files (<code>inventory-cloud.yaml</code>)</h3><p>The inventory file lists the hosts where the Smart Agent will be deployed. Define your hosts and authentication details here.</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>all</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>smartagent-host-1</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_host</span><span class=p>:</span><span class=w> </span><span class=m>54.173.1.106</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_username</span><span class=p>:</span><span class=w> </span><span class=l>ec2-user</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_password</span><span class=p>:</span><span class=w> </span><span class=l>ins3965!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_become</span><span class=p>:</span><span class=w> </span><span class=kc>yes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_become_method</span><span class=p>:</span><span class=w> </span><span class=l>sudo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_become_password</span><span class=p>:</span><span class=w> </span><span class=l>ins3965!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_ssh_common_args</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;-o StrictHostKeyChecking=no&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>smartagent-host-2</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_host</span><span class=p>:</span><span class=w> </span><span class=m>192.168.86.107</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_username</span><span class=p>:</span><span class=w> </span><span class=l>aleccham</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_password</span><span class=p>:</span><span class=w> </span><span class=l>ins3965!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_become</span><span class=p>:</span><span class=w> </span><span class=kc>yes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_become_method</span><span class=p>:</span><span class=w> </span><span class=l>sudo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_become_password</span><span class=p>:</span><span class=w> </span><span class=l>ins3965!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>smartagent-host-3</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_host</span><span class=p>:</span><span class=w> </span><span class=m>54.82.95.69</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_username</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_password</span><span class=p>:</span><span class=w> </span><span class=l>ins3965!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_become</span><span class=p>:</span><span class=w> </span><span class=kc>yes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_become_method</span><span class=p>:</span><span class=w> </span><span class=l>sudo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ansible_become_password</span><span class=p>:</span><span class=w> </span><span class=l>ins3965!</span></span></span></code></pre></div><p><strong>Action</strong>: Update the <code>ansible_host</code> IPs and credentials with your actual lab environment details.</p><h3 id=2-variables-file-variablesyaml>2. Variables File (<code>variables.yaml</code>)</h3><p>This file contains the configuration details for the Smart Agent.</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>smart_agent</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>controller_url</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;CONTROLLER URL HERE, JUST THE BASE URL&#39;</span><span class=w> </span><span class=c># o11y.saas.appdynamics.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>account_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Account Name Here&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>account_access_key</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;YOUR ACCESS KEY HERE&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>fm_service_port</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;443&#39;</span><span class=w> </span><span class=c># Use 443 or 8080 depending on your environment.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ssl</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>smart_agent_package_debian</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;appdsmartagent_64_linux_24.6.0.2143.deb&#39;</span><span class=w>  </span><span class=c># or the appropriate package name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>smart_agent_package_redhat</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;appdsmartagent_64_linux_24.6.0.2143.rpm&#39;</span><span class=w>  </span><span class=c># or the appropriate package name</span></span></span></code></pre></div><p><strong>Action</strong>: Update the <code>smart_agent</code> section with your specific controller URL, account name, and access key.</p><h3 id=3-playbook-smartagentyaml>3. Playbook (<code>smartagent.yaml</code>)</h3><p>The playbook orchestrates the deployment of the Cisco AppDynamics Distribution of OpenTelemetry Collector. Here is a concise summary of its tasks:</p><ol><li><strong>Prerequisites</strong>: Installs necessary packages (<code>yum-utils</code> for RedHat, <code>curl</code>/<code>apt-transport-https</code> for Debian).</li><li><strong>Directory Setup</strong>: Ensures the <code>/opt/appdynamics/appdsmartagent</code> directory exists.</li><li><strong>Configuration</strong>:<ul><li>Checks if <code>config.ini</code> exists.</li><li>Creates a default <code>config.ini</code> using values from <code>variables.yaml</code> if missing.</li><li>Updates configuration keys (AccountAccessKey, ControllerURL, etc.) using <code>lineinfile</code> to ensure settings are correct.</li></ul></li><li><strong>Package Management</strong>:<ul><li>Determines the correct package path based on OS family (Debian/RedHat).</li><li>Fails if the package is missing locally.</li><li>Copies the package to the target host&rsquo;s <code>/tmp</code> directory.</li><li>Installs the package using <code>dpkg</code> or <code>yum</code>.</li></ul></li><li><strong>Service Management</strong>: Restarts the <code>smartagent</code> service.</li><li><strong>Cleanup</strong>: Removes the temporary package file.</li></ol><p>The playbook uses <code>when: ansible_os_family == ...</code> conditionals to handle both RedHat and Debian systems within the same workflow.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 25, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=deployment>Deployment</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<h2 id=step-4-execute-the-playbook>Step 4: Execute the Playbook</h2><p>To deploy the Smart Agent, run the following command from your project directory:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ansible-playbook -i inventory-cloud.yaml smartagent.yaml</span></span></code></pre></div><p>Replace <code>inventory-cloud.yaml</code> with the appropriate inventory file for your setup if you named it differently.</p><h3 id=verification>Verification</h3><p>After the playbook completes successfully, you can verify the deployment by logging into one of the target hosts and checking the service status:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl status smartagent</span></span></code></pre></div><p>You should see the service is active (running).</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 25, 2025</span></span></footer></article></section></div></main></div><script src=/observability-workshop/js/js-yaml/js-yaml.min.js?1765840133 defer></script><script src=/observability-workshop/js/d3/d3-color.min.js?1765840133 defer></script><script src=/observability-workshop/js/d3/d3-dispatch.min.js?1765840133 defer></script><script src=/observability-workshop/js/d3/d3-drag.min.js?1765840133 defer></script><script src=/observability-workshop/js/d3/d3-ease.min.js?1765840133 defer></script><script src=/observability-workshop/js/d3/d3-interpolate.min.js?1765840133 defer></script><script src=/observability-workshop/js/d3/d3-selection.min.js?1765840133 defer></script><script src=/observability-workshop/js/d3/d3-timer.min.js?1765840133 defer></script><script src=/observability-workshop/js/d3/d3-transition.min.js?1765840133 defer></script><script src=/observability-workshop/js/d3/d3-zoom.min.js?1765840133 defer></script><script src=/observability-workshop/js/mermaid/mermaid.min.js?1765840133 defer></script><script>window.relearn.themeUseMermaid=JSON.parse("{}")</script><script src=/observability-workshop/js/clipboard/clipboard.min.js?1765840133 defer></script><script src=/observability-workshop/js/perfect-scrollbar/perfect-scrollbar.min.js?1765840133 defer></script><script src=/observability-workshop/js/theme.min.js?1765840133 defer></script></body></html>