<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 8.2.0+9cac649a184a2967957ef9bbececf9402192846c"><meta name=description content="Use the Splunk Helm chart to install the OpenTelemetry Collector in K3s Explore your cluster in the Kubernetes Navigator 1. Installation using Helm Install the OpenTelemetry Collector using the Splunk Helm chart. First, add the Splunk Helm chart repository to Helm and update:
â€‹ Helm Repo Add Helm Repo Add Output helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart && helm repo update Using ACCESS_TOKEN={REDACTED} Using REALM=eu0 â€œsplunk-otel-collector-chartâ€ has been added to your repositories Using ACCESS_TOKEN={REDACTED} Using REALM=eu0 Hang tight while we grab the latest from your chart repositoriesâ€¦ â€¦Successfully got an update from the â€œsplunk-otel-collector-chartâ€ chart repository Update Complete. âŽˆHappy Helming!âŽˆ"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Deploying the OpenTelemetry Collector in Kubernetes :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Use the Splunk Helm chart to install the OpenTelemetry Collector in K3s Explore your cluster in the Kubernetes Navigator 1. Installation using Helm Install the OpenTelemetry Collector using the Splunk Helm chart. First, add the Splunk Helm chart repository to Helm and update:
â€‹ Helm Repo Add Helm Repo Add Output helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart && helm repo update Using ACCESS_TOKEN={REDACTED} Using REALM=eu0 â€œsplunk-otel-collector-chartâ€ has been added to your repositories Using ACCESS_TOKEN={REDACTED} Using REALM=eu0 Hang tight while we grab the latest from your chart repositoriesâ€¦ â€¦Successfully got an update from the â€œsplunk-otel-collector-chartâ€ chart repository Update Complete. âŽˆHappy Helming!âŽˆ"><meta property="og:url" content="https://splunk.github.io/observability-workshop/en/unsupported-field-workshops/1-imt/gdi/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Deploying the OpenTelemetry Collector in Kubernetes :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Use the Splunk Helm chart to install the OpenTelemetry Collector in K3s Explore your cluster in the Kubernetes Navigator 1. Installation using Helm Install the OpenTelemetry Collector using the Splunk Helm chart. First, add the Splunk Helm chart repository to Helm and update:
â€‹ Helm Repo Add Helm Repo Add Output helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart && helm repo update Using ACCESS_TOKEN={REDACTED} Using REALM=eu0 â€œsplunk-otel-collector-chartâ€ has been added to your repositories Using ACCESS_TOKEN={REDACTED} Using REALM=eu0 Hang tight while we grab the latest from your chart repositoriesâ€¦ â€¦Successfully got an update from the â€œsplunk-otel-collector-chartâ€ chart repository Update Complete. âŽˆHappy Helming!âŽˆ"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Deploying the OpenTelemetry Collector in Kubernetes :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Use the Splunk Helm chart to install the OpenTelemetry Collector in K3s Explore your cluster in the Kubernetes Navigator 1. Installation using Helm Install the OpenTelemetry Collector using the Splunk Helm chart. First, add the Splunk Helm chart repository to Helm and update:
â€‹ Helm Repo Add Helm Repo Add Output helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart && helm repo update Using ACCESS_TOKEN={REDACTED} Using REALM=eu0 â€œsplunk-otel-collector-chartâ€ has been added to your repositories Using ACCESS_TOKEN={REDACTED} Using REALM=eu0 Hang tight while we grab the latest from your chart repositoriesâ€¦ â€¦Successfully got an update from the â€œsplunk-otel-collector-chartâ€ chart repository Update Complete. âŽˆHappy Helming!âŽˆ"><meta itemprop=dateModified content="2025-09-29T15:07:40+01:00"><meta itemprop=wordCount content="654"><title>Deploying the OpenTelemetry Collector in Kubernetes :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/en/unsupported-field-workshops/1-imt/gdi/index.html rel=canonical type=text/html title="Deploying the OpenTelemetry Collector in Kubernetes :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/images/favicon.ico?1769100198 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/css/auto-complete/auto-complete.min.css?1769100198 rel=stylesheet><script src=/observability-workshop/js/auto-complete/auto-complete.min.js?1769100198 defer></script><script src=/observability-workshop/js/search-lunr.min.js?1769100198 defer></script><script src=/observability-workshop/js/search.min.js?1769100198 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/searchindex.en.js?1769100198"</script><script src=/observability-workshop/js/lunr/lunr.min.js?1769100198 defer></script><script src=/observability-workshop/js/lunr/lunr.stemmer.support.min.js?1769100198 defer></script><script src=/observability-workshop/js/lunr/lunr.multi.min.js?1769100198 defer></script><script src=/observability-workshop/js/lunr/lunr.en.min.js?1769100198 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/observability-workshop/fonts/fontawesome/css/fontawesome-all.min.css?1769100198 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/fonts/fontawesome/css/fontawesome-all.min.css?1769100198 rel=stylesheet></noscript><link href=/observability-workshop/css/perfect-scrollbar/perfect-scrollbar.min.css?1769100198 rel=stylesheet><link href=/observability-workshop/css/theme.min.css?1769100198 rel=stylesheet><link href=/observability-workshop/css/format-print.min.css?1769100198 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/unsupported-field-workshops/1-imt/gdi/index.html",window.relearn.relBasePath="../../../..",window.relearn.relBaseUri="../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({appplicationName:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",recorder:"splunk",features:{video:!0}})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-url=/observability-workshop/en/unsupported-field-workshops/1-imt/gdi/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></span></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#1-installation-using-helm>1. Installation using Helm</a></li><li><a href=#2-validate-metrics-in-the-ui>2. Validate metrics in the UI</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/unsupported-field-workshops/index.html><span itemprop=name>Unsupported Field Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/unsupported-field-workshops/1-imt/index.html><span itemprop=name>Splunk IM</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>2. Get Data In</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/en/unsupported-field-workshops/1-imt/gdi/index.print.html title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/en/unsupported-field-workshops/1-imt/initial-setup/index.html title="How to connect to your workshop environment (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=/observability-workshop/en/unsupported-field-workshops/1-imt/gdi/nginx/index.html title="Deploying NGINX in K3s (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable unsupported-field-workshops" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=deploying-the-opentelemetry-collector-in-kubernetes>Deploying the OpenTelemetry Collector in Kubernetes</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span>
</span>&nbsp;<ul><li>Use the Splunk Helm chart to install the OpenTelemetry Collector in K3s</li><li>Explore your cluster in the Kubernetes Navigator</li></ul><hr><h2 id=1-installation-using-helm>1. Installation using Helm</h2><p>Install the OpenTelemetry Collector using the Splunk Helm chart. First, add the Splunk Helm chart repository to Helm and update:</p><div class=tab-panel data-tab-group=R-tabs-fd4db127ac87b0dc16cb35ba42170575><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-279dd9bc52469b90a2281ec262444777 aria-expanded=true data-tab-item=R-tab-c8ebfb45a0793171e9105e42af37c667 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-fd4db127ac87b0dc16cb35ba42170575","R-tab-c8ebfb45a0793171e9105e42af37c667")'>
<span class=tab-nav-text>Helm Repo Add</span>
</button>
<button aria-controls=R-tab-id-7929697f2197e80767d598b80a3a22ae aria-expanded=false data-tab-item=R-tab-cf9cd1217bdb0a5a35e8f5fab47e53e4 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-fd4db127ac87b0dc16cb35ba42170575","R-tab-cf9cd1217bdb0a5a35e8f5fab47e53e4")'>
<span class=tab-nav-text>Helm Repo Add Output</span></button></div><div class=tab-content-container><div id=R-tab-id-279dd9bc52469b90a2281ec262444777 data-tab-item=R-tab-c8ebfb45a0793171e9105e42af37c667 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart <span class=o>&amp;&amp;</span> helm repo update</span></span></code></pre></div></div></div><div id=R-tab-id-7929697f2197e80767d598b80a3a22ae data-tab-item=R-tab-cf9cd1217bdb0a5a35e8f5fab47e53e4 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
&ldquo;splunk-otel-collector-chart&rdquo; has been added to your repositories
Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
Hang tight while we grab the latest from your chart repositories&mldr;
&mldr;Successfully got an update from the &ldquo;splunk-otel-collector-chart&rdquo; chart repository
Update Complete. âŽˆHappy Helming!âŽˆ</p></div></div></div></div><p>Install the OpenTelemetry Collector Helm chart with the following commands, do <strong>NOT</strong> edit this:</p><div class=tab-panel data-tab-group=R-tabs-39f20900901828887f8b6cc305e7ca88><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-53f1b156dc6eadefc63fa47571b39fd9 aria-expanded=true data-tab-item=R-tab-5ade205167430c5bf55768631515900b class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-39f20900901828887f8b6cc305e7ca88","R-tab-5ade205167430c5bf55768631515900b")'>
<span class=tab-nav-text>Helm Install</span>
</button>
<button aria-controls=R-tab-id-c717f5b4ff5d929d28150a4bd2702823 aria-expanded=false data-tab-item=R-tab-6c094561bc91eef5ef3a721f8840f44d class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-39f20900901828887f8b6cc305e7ca88","R-tab-6c094561bc91eef5ef3a721f8840f44d")'>
<span class=tab-nav-text>Helm Install Output</span></button></div><div class=tab-content-container><div id=R-tab-id-53f1b156dc6eadefc63fa47571b39fd9 data-tab-item=R-tab-5ade205167430c5bf55768631515900b class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm install splunk-otel-collector --version 0.136.0 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.realm=</span><span class=nv>$REALM</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.accessToken=</span><span class=nv>$ACCESS_TOKEN</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;clusterName=</span><span class=nv>$INSTANCE</span><span class=s2>-k3s-cluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;logsEngine=otel&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.profilingEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;environment=</span><span class=nv>$INSTANCE</span><span class=s2>-workshop&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkPlatform.endpoint=</span><span class=nv>$HEC_URL</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkPlatform.token=</span><span class=nv>$HEC_TOKEN</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkPlatform.index=splunk4rookies-workshop&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>splunk-otel-collector-chart/splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>-f ~/workshop/k3s/otel-collector.yaml</span></span></code></pre></div></div></div><div id=R-tab-id-c717f5b4ff5d929d28150a4bd2702823 data-tab-item=R-tab-6c094561bc91eef5ef3a721f8840f44d class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Using ACCESS_TOKEN={REDACTED}
</span></span><span class=line><span class=cl>Using REALM=eu0
</span></span><span class=line><span class=cl>NAME: splunk-otel-collector
</span></span><span class=line><span class=cl>LAST DEPLOYED: Fri May  7 11:19:01 2021
</span></span><span class=line><span class=cl>NAMESPACE: default
</span></span><span class=line><span class=cl>STATUS: deployed
</span></span><span class=line><span class=cl>REVISION: 1
</span></span><span class=line><span class=cl>TEST SUITE: None</span></span></code></pre></div></div></div></div></div><p>You can monitor the progress of the deployment by running <code>kubectl get pods</code> which should typically report a new pod is up and running after about 30 seconds.</p><p>Ensure the status is reported as Running before continuing.</p><div class=tab-panel data-tab-group=R-tabs-545343e9ba76d5d97256a06e19a7e002><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-4af8873769ea49ab5680f89405a8467d aria-expanded=true data-tab-item=R-tab-9d7cd81d75072bc4182172d23e60224c class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-545343e9ba76d5d97256a06e19a7e002","R-tab-9d7cd81d75072bc4182172d23e60224c")'>
<span class=tab-nav-text>Kubectl Get Pods</span>
</button>
<button aria-controls=R-tab-id-ae5c36c00c82d452434a2fbb6eb2f712 aria-expanded=false data-tab-item=R-tab-0107ee3547ee98f5636a58a2bf1ddc4d class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-545343e9ba76d5d97256a06e19a7e002","R-tab-0107ee3547ee98f5636a58a2bf1ddc4d")'>
<span class=tab-nav-text>Kubectl Get Pods Output</span></button></div><div class=tab-content-container><div id=R-tab-id-4af8873769ea49ab5680f89405a8467d data-tab-item=R-tab-9d7cd81d75072bc4182172d23e60224c class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div id=R-tab-id-ae5c36c00c82d452434a2fbb6eb2f712 data-tab-item=R-tab-0107ee3547ee98f5636a58a2bf1ddc4d class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>NAME                                                          READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>splunk-otel-collector-agent-2sk6k                             0/1     Running   0          10s
</span></span><span class=line><span class=cl>splunk-otel-collector-k8s-cluster-receiver-6956d4446f-gwnd7   0/1     Running   0          10s</span></span></code></pre></div></div></div></div></div><p>Ensure there are no errors by tailing the logs from the OpenTelemetry Collector pod. The output should look similar to the log output shown in the Output tab below.</p><p>Use the label set by the <code>helm</code> install to tail logs (You will need to press <code>ctrl+c</code> to exit). Or use the installed <code>k9s</code> terminal UI for bonus points!</p><div class=tab-panel data-tab-group=R-tabs-b1f27520bd6dab09635142350e8d2045><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-ae5f9e1800471afb3108d98de3f33458 aria-expanded=true data-tab-item=R-tab-8c3366d1558c1469d6bbdf4e30c14540 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-b1f27520bd6dab09635142350e8d2045","R-tab-8c3366d1558c1469d6bbdf4e30c14540")'>
<span class=tab-nav-text>Kubectl Logs</span>
</button>
<button aria-controls=R-tab-id-b40e97cb893a25366bfb7c18b8b69501 aria-expanded=false data-tab-item=R-tab-a1f3395ee3f22fe351c01d5c36b55b05 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-b1f27520bd6dab09635142350e8d2045","R-tab-a1f3395ee3f22fe351c01d5c36b55b05")'>
<span class=tab-nav-text>Kubectl Logs Output</span></button></div><div class=tab-content-container><div id=R-tab-id-ae5f9e1800471afb3108d98de3f33458 data-tab-item=R-tab-8c3366d1558c1469d6bbdf4e30c14540 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl logs -l <span class=nv>app</span><span class=o>=</span>splunk-otel-collector -f --container otel-collector</span></span></code></pre></div></div></div><div id=R-tab-id-b40e97cb893a25366bfb7c18b8b69501 data-tab-item=R-tab-a1f3395ee3f22fe351c01d5c36b55b05 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>2021-03-21T16:11:10.900Z INFO service/service.go:364 Starting receivers&mldr;
2021-03-21T16:11:10.900Z INFO builder/receivers_builder.go:70 Receiver is starting&mldr; {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;prometheus&rdquo;, &ldquo;component_name&rdquo;: &ldquo;prometheus&rdquo;}
2021-03-21T16:11:11.009Z INFO builder/receivers_builder.go:75 Receiver started. {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;prometheus&rdquo;, &ldquo;component_name&rdquo;: &ldquo;prometheus&rdquo;}
2021-03-21T16:11:11.009Z INFO builder/receivers_builder.go:70 Receiver is starting&mldr; {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;component_name&rdquo;: &ldquo;k8s_cluster&rdquo;}
2021-03-21T16:11:11.009Z INFO <a href=mailto:k8sclusterreceiver@v0.21.0 rel=external>k8sclusterreceiver@v0.21.0</a>/watcher.go:195 Configured Kubernetes MetadataExporter {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;component_name&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;exporter_name&rdquo;: &ldquo;signalfx&rdquo;}
2021-03-21T16:11:11.009Z INFO builder/receivers_builder.go:75 Receiver started. {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;component_name&rdquo;: &ldquo;k8s_cluster&rdquo;}
2021-03-21T16:11:11.009Z INFO healthcheck/handler.go:128 Health Check state change {&ldquo;component_kind&rdquo;: &ldquo;extension&rdquo;, &ldquo;component_type&rdquo;: &ldquo;health_check&rdquo;, &ldquo;component_name&rdquo;: &ldquo;health_check&rdquo;, &ldquo;status&rdquo;: &ldquo;ready&rdquo;}
2021-03-21T16:11:11.009Z INFO service/service.go:267 Everything is ready. Begin running and processing data.
2021-03-21T16:11:11.009Z INFO <a href=mailto:k8sclusterreceiver@v0.21.0 rel=external>k8sclusterreceiver@v0.21.0</a>/receiver.go:59 Starting shared informers and wait for initial cache sync. {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;component_name&rdquo;: &ldquo;k8s_cluster&rdquo;}
2021-03-21T16:11:11.281Z INFO <a href=mailto:k8sclusterreceiver@v0.21.0 rel=external>k8sclusterreceiver@v0.21.0</a>/receiver.go:75 Completed syncing shared informer caches. {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;component_name&rdquo;: &ldquo;k8s_cluster&rdquo;}</p></div></div></div></div><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Deleting a failed installation</summary><div class=box-content><p>If you make an error installing the OpenTelemetry Collector you can start over by deleting the installation using:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>helm delete splunk-otel-collector</span></span></code></pre></div></div></details><hr><h2 id=2-validate-metrics-in-the-ui>2. Validate metrics in the UI</h2><p>In the Splunk UI, click the <strong>&#187;</strong> bottom left and click on <strong>Infrastructure</strong>.</p><p><a href=#R-image-bb3ec35174a16d9689ba64f2bd0ab01e class=lightbox-link><img alt="Selecting the Kubernetes Navigator Map" class="lazy lightbox figure-image" loading=lazy src=../images/clustermap-nav.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bb3ec35174a16d9689ba64f2bd0ab01e><img alt="Selecting the Kubernetes Navigator Map" class="lazy lightbox lightbox-image" loading=lazy src=../images/clustermap-nav.png></a></p><p>Under <strong>Containers</strong> click on <strong>Kubernetes</strong> to open the Kubernetes Navigator Cluster Map to ensure metrics are being sent in.</p><p>Validate that your cluster is discovered and reported by finding your cluster (in the workshop you will see many other clusters). To find your cluster name run the following command and copy the output to your clipboard:</p><div class=tab-panel data-tab-group=R-tabs-bdb37631196c4bcfb8d60ab3f312e30f><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-d7b6b8bfee29b6f5e14af61c4ee71e3a aria-expanded=true data-tab-item=R-tab-95dea3d7a16b0f04149052ad6ac43c92 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-bdb37631196c4bcfb8d60ab3f312e30f","R-tab-95dea3d7a16b0f04149052ad6ac43c92")'>
<span class=tab-nav-text>Echo Cluster Name</span></button></div><div class=tab-content-container><div id=R-tab-id-d7b6b8bfee29b6f5e14af61c4ee71e3a data-tab-item=R-tab-95dea3d7a16b0f04149052ad6ac43c92 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$INSTANCE</span>-k3s-cluster</span></span></code></pre></div></div></div></div></div><p>Then in the UI, click on the &ldquo;Cluster: - " menu just below the Splunk Logo, paste the Cluster name you just copied into the search box, click the box to select your cluster, and finally click off the menu into white space to apply the filter.</p><p><a href=#R-image-a74467bd54e20b551bc0eba53af0916e class=lightbox-link><img alt="K8S Clusters Filter" class="lazy lightbox figure-image" loading=lazy src=../images/search-k3s-cluster.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a74467bd54e20b551bc0eba53af0916e><img alt="K8S Clusters Filter" class="lazy lightbox lightbox-image" loading=lazy src=../images/search-k3s-cluster.png></a></p><p><a href=#R-image-63b8fa910e4f65581f9c7d3c6973fc17 class=lightbox-link><img alt="Select K8S Cluster" class="lazy lightbox figure-image" loading=lazy src=../images/selecting-k3s-cluster.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-63b8fa910e4f65581f9c7d3c6973fc17><img alt="Select K8S Cluster" class="lazy lightbox lightbox-image" loading=lazy src=../images/selecting-k3s-cluster.png></a></p><p><a href=#R-image-f5571a7c46977d1efbf5f070c3baf451 class=lightbox-link><img alt="Filtered K8S Cluster" class="lazy lightbox figure-image" loading=lazy src=../images/filtered-k3s-cluster.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f5571a7c46977d1efbf5f070c3baf451><img alt="Filtered K8S Cluster" class="lazy lightbox lightbox-image" loading=lazy src=../images/filtered-k3s-cluster.png></a></p><p>To examine the health of your node, hover over the pale blue background of your cluster, then click on the blue magnifying glass <a href=#R-image-968fb5daabd88f523fcf723b4c7317d1 class=lightbox-link><img alt="Magnifying Glass" class="inline lazy lightbox figure-image" loading=lazy src="../images/blue-cross.png?classes=inline&height=25px" style=height:25px;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-968fb5daabd88f523fcf723b4c7317d1><img alt="Magnifying Glass" class="inline lazy lightbox lightbox-image" loading=lazy src="../images/blue-cross.png?classes=inline&height=25px"></a> that appears in the top left-hand corner.</p><p>This will drill down to the node level. Next, open the Metrics sidebar by clicking on the sidebar button.</p><p>Once it is open, you can use the slider on the side to explore the various charts relevant to your cluster/node: CPU, Memory, Network, Events etc.</p><p><a href=#R-image-9d513d18e12d12510a492084b537dc6b class=lightbox-link><img alt="Sidebar metrics" class="lazy lightbox figure-image" loading=lazy src=../images/explore-metrics.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9d513d18e12d12510a492084b537dc6b><img alt="Sidebar metrics" class="lazy lightbox lightbox-image" loading=lazy src=../images/explore-metrics.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 29, 2025</span></span></footer></article><section><h1 class=a11y-only>Subsections of 2. Get Data In</h1><article class=default><header class=headline></header><h1 id=deploying-nginx-in-k3s>Deploying NGINX in K3s</h1><ul><li>Deploy a NGINX ReplicaSet into your K3s cluster and confirm the discovery of your NGINX deployment.</li><li>Run a load test to create metrics and confirm them streaming into Splunk Observability Cloud!</li></ul><hr><h2 id=1-start-your-nginx>1. Start your NGINX</h2><p>Verify the number of pods running in the Splunk UI by selecting the <strong>WORKLOADS</strong> tab. This should give you an overview of the workloads on your cluster.</p><p><a href=#R-image-1664e4220a569e0f5ce71a2f4acdd3ba class=lightbox-link><img alt="Workload Agent" class="lazy lightbox figure-image" loading=lazy src=../../images/k8s-workloads.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1664e4220a569e0f5ce71a2f4acdd3ba><img alt="Workload Agent" class="lazy lightbox lightbox-image" loading=lazy src=../../images/k8s-workloads.png></a></p><p>Note the single agent container running per node among the default Kubernetes pods. This single container will monitor all the pods and services being deployed on this node!</p><p>Now switch back to the default cluster node view by selecting the <strong>MAP</strong> tab and selecting your cluster again.</p><p>In your AWS/EC2 or Multipass shell session change into the <code>nginx</code> directory:</p><div class=tab-panel data-tab-group=R-tabs-7a80f58f593c4344d2d8ee2c51775888><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-8004e33011623e6650d753936b2bc141 aria-expanded=true data-tab-item=R-tab-22da6bf3f52ed93a32eb3f1bced7cd74 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-7a80f58f593c4344d2d8ee2c51775888","R-tab-22da6bf3f52ed93a32eb3f1bced7cd74")'>
<span class=tab-nav-text>Change Directory</span></button></div><div class=tab-content-container><div id=R-tab-id-8004e33011623e6650d753936b2bc141 data-tab-item=R-tab-22da6bf3f52ed93a32eb3f1bced7cd74 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~/workshop/k3s/nginx</span></span></code></pre></div></div></div></div></div><hr><h2 id=2-create-nginx-deployment>2. Create NGINX deployment</h2><p>Create the NGINX ConfigMap<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> using the <code>nginx.conf</code> file:</p><div class=tab-panel data-tab-group=R-tabs-406096fd42053c179523fbffc3b8fec8><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-99c0112461f84dc0696462ae6dfd9170 aria-expanded=true data-tab-item=R-tab-ad8b1af01535d7adb30e87168670ecc5 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-406096fd42053c179523fbffc3b8fec8","R-tab-ad8b1af01535d7adb30e87168670ecc5")'>
<span class=tab-nav-text>Kubectl Configmap Create</span>
</button>
<button aria-controls=R-tab-id-416761ac5f5b6150039d30d19a5e8892 aria-expanded=false data-tab-item=R-tab-a617ddcf45ddb19104887dc77307d1fd class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-406096fd42053c179523fbffc3b8fec8","R-tab-a617ddcf45ddb19104887dc77307d1fd")'>
<span class=tab-nav-text>Kubectl Create Configmap Output</span></button></div><div class=tab-content-container><div id=R-tab-id-99c0112461f84dc0696462ae6dfd9170 data-tab-item=R-tab-ad8b1af01535d7adb30e87168670ecc5 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create configmap nginxconfig --from-file<span class=o>=</span>nginx.conf</span></span></code></pre></div></div></div><div id=R-tab-id-416761ac5f5b6150039d30d19a5e8892 data-tab-item=R-tab-a617ddcf45ddb19104887dc77307d1fd class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>configmap/nginxconfig created</p></div></div></div></div><p>Then create the deployment:</p><div class=tab-panel data-tab-group=R-tabs-491b5fa1bde67c93dce077c023cf50bc><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-edfb994ea84ee4ddd269c14db6e98522 aria-expanded=true data-tab-item=R-tab-06d0453109ac7fc052db64c93c266c25 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-491b5fa1bde67c93dce077c023cf50bc","R-tab-06d0453109ac7fc052db64c93c266c25")'>
<span class=tab-nav-text>Kubectl Create Deployment</span>
</button>
<button aria-controls=R-tab-id-88ab88341a0263401eefa2d38c9c8bd3 aria-expanded=false data-tab-item=R-tab-5a41de4afccf7edc3f48840b1c770522 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-491b5fa1bde67c93dce077c023cf50bc","R-tab-5a41de4afccf7edc3f48840b1c770522")'>
<span class=tab-nav-text>Kubectl Create Deployment Output</span></button></div><div class=tab-content-container><div id=R-tab-id-edfb994ea84ee4ddd269c14db6e98522 data-tab-item=R-tab-06d0453109ac7fc052db64c93c266c25 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create -f nginx-deployment.yaml</span></span></code></pre></div></div></div><div id=R-tab-id-88ab88341a0263401eefa2d38c9c8bd3 data-tab-item=R-tab-5a41de4afccf7edc3f48840b1c770522 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>deployment.apps/nginx created
service/nginx created</p></div></div></div></div><p>Next, we will deploy Locust<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> which is an open-source tool used for creating a load test against NGINX:</p><div class=tab-panel data-tab-group=R-tabs-48484686614f347a4779235ccd0b076e><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-ab01955d037ef499d6f5901ad808e27b aria-expanded=true data-tab-item=R-tab-06d0453109ac7fc052db64c93c266c25 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-48484686614f347a4779235ccd0b076e","R-tab-06d0453109ac7fc052db64c93c266c25")'>
<span class=tab-nav-text>Kubectl Create Deployment</span>
</button>
<button aria-controls=R-tab-id-0fb75ab1625f14c351df17220ca298d9 aria-expanded=false data-tab-item=R-tab-5a41de4afccf7edc3f48840b1c770522 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-48484686614f347a4779235ccd0b076e","R-tab-5a41de4afccf7edc3f48840b1c770522")'>
<span class=tab-nav-text>Kubectl Create Deployment Output</span></button></div><div class=tab-content-container><div id=R-tab-id-ab01955d037ef499d6f5901ad808e27b data-tab-item=R-tab-06d0453109ac7fc052db64c93c266c25 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create -f locust-deployment.yaml</span></span></code></pre></div></div></div><div id=R-tab-id-0fb75ab1625f14c351df17220ca298d9 data-tab-item=R-tab-5a41de4afccf7edc3f48840b1c770522 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>deployment.apps/nginx-loadgenerator created
service/nginx-loadgenerator created</p></div></div></div></div><p>Validate the deployment has been successful and that the Locust and NGINX pods are running.</p><p>If you have the Splunk UI open you should see new Pods being started and containers being deployed.</p><p>It should only take around 20 seconds for the pods to transition into a Running state. In the Splunk UI you will have a cluster that looks like the screenshot below:</p><p><a href=#R-image-5a9dfd9cac60c220cf00d77b3d83e326 class=lightbox-link><img alt="back to Cluster" class="lazy lightbox figure-image" loading=lazy src=../../images/cluster.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5a9dfd9cac60c220cf00d77b3d83e326><img alt="back to Cluster" class="lazy lightbox lightbox-image" loading=lazy src=../../images/cluster.png></a></p><p>If you select the <strong>WORKLOADS</strong> tab again you will now see that there is a new ReplicaSet and a deployment added for NGINX:</p><p><a href=#R-image-f7ea36648258d485db6a50726fb6ead8 class=lightbox-link><img alt="NGINX loaded" class="lazy lightbox figure-image" loading=lazy src=../../images/k8s-workloads-nginx.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f7ea36648258d485db6a50726fb6ead8><img alt="NGINX loaded" class="lazy lightbox lightbox-image" loading=lazy src=../../images/k8s-workloads-nginx.png></a></p><hr><p>Let&rsquo;s validate this in your shell as well:</p><div class=tab-panel data-tab-group=R-tabs-60d1c2f8025072839fc2e8df1f3447c1><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button aria-controls=R-tab-id-6f97f8f1f0f951fa30ae9db72cd9f32e aria-expanded=true data-tab-item=R-tab-9d7cd81d75072bc4182172d23e60224c class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("R-tabs-60d1c2f8025072839fc2e8df1f3447c1","R-tab-9d7cd81d75072bc4182172d23e60224c")'>
<span class=tab-nav-text>Kubectl Get Pods</span>
</button>
<button aria-controls=R-tab-id-5db589561efd5e930c179f4612072ed6 aria-expanded=false data-tab-item=R-tab-0107ee3547ee98f5636a58a2bf1ddc4d class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("R-tabs-60d1c2f8025072839fc2e8df1f3447c1","R-tab-0107ee3547ee98f5636a58a2bf1ddc4d")'>
<span class=tab-nav-text>Kubectl Get Pods Output</span></button></div><div class=tab-content-container><div id=R-tab-id-6f97f8f1f0f951fa30ae9db72cd9f32e data-tab-item=R-tab-9d7cd81d75072bc4182172d23e60224c class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div id=R-tab-id-5db589561efd5e930c179f4612072ed6 data-tab-item=R-tab-0107ee3547ee98f5636a58a2bf1ddc4d class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>NAME READY STATUS RESTARTS AGE
splunk-otel-collector-k8s-cluster-receiver-77784c659c-ttmpk 1/1 Running 0 9m19s
splunk-otel-collector-agent-249rd 1/1 Running 0 9m19s
svclb-nginx-vtnzg 1/1 Running 0 5m57s
nginx-7b95fb6b6b-7sb9x 1/1 Running 0 5m57s
nginx-7b95fb6b6b-lnzsq 1/1 Running 0 5m57s
nginx-7b95fb6b6b-hlx27 1/1 Running 0 5m57s
nginx-7b95fb6b6b-zwns9 1/1 Running 0 5m57s
svclb-nginx-loadgenerator-nscx4 1/1 Running 0 2m20s
nginx-loadgenerator-755c8f7ff6-x957q 1/1 Running 0 2m20s</p></div></div></div></div><hr><h2 id=3-run-locust-load-test>3. Run Locust load test</h2><p>Locust, an open-source load generator, is available on port 8083 of the EC2 instance&rsquo;s IP address. Open a new tab in your web browser and go to <code>http://{==EC2-IP==}:8083/</code>, you will then be able to see the Locust running.</p><p><a href=#R-image-fed2a746889b47bea61150613999015f class=lightbox-link><img alt=Locust class="lazy lightbox figure-image" loading=lazy src=../../images/nginx-locust.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fed2a746889b47bea61150613999015f><img alt=Locust class="lazy lightbox lightbox-image" loading=lazy src=../../images/nginx-locust.png></a></p><p>Set the <strong>Spawn rate</strong> to 2 and click <strong>Start Swarming</strong>.</p><p><a href=#R-image-884d9540d8573a26f14758ab2f4fcf82 class=lightbox-link><img alt="Locust Spawn Rate" class="lazy lightbox figure-image" loading=lazy src=../../images/nginx-locust-spawn-rate.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-884d9540d8573a26f14758ab2f4fcf82><img alt="Locust Spawn Rate" class="lazy lightbox lightbox-image" loading=lazy src=../../images/nginx-locust-spawn-rate.png></a></p><p>This will start a gentle continuous load on the application.</p><p><a href=#R-image-ce2b2db28fa2f9007072269a1b6ba84f class=lightbox-link><img alt="Locust Statistics" class="lazy lightbox figure-image" loading=lazy src=../../images/nginx-locust-statistics.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ce2b2db28fa2f9007072269a1b6ba84f><img alt="Locust Statistics" class="lazy lightbox lightbox-image" loading=lazy src=../../images/nginx-locust-statistics.png></a></p><p>As you can see from the above screenshot, most of the calls will report a fail, this is expected, as we have not yet deployed the application behind it, however, NGINX is reporting on your attempts and you should be able to see those metrics.</p><p>Validate you are seeing those metrics in the UI by selecting <strong>Dashboards â†’ Built-in Dashboard Groups â†’ NGINX â†’ NGINX Servers</strong>. Using the <strong>Overrides</strong> filter on <code>k8s.cluster.name:</code>, find the name of your cluster as returned by <code>echo $INSTANCE-k3s-cluster</code> in the terminal.</p><p><a href=#R-image-d3794a1affad5cbc36f29faaaeeae733 class=lightbox-link><img alt="NGINX Dashboard" class="lazy lightbox figure-image" loading=lazy src=../../images/nginx-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d3794a1affad5cbc36f29faaaeeae733><img alt="NGINX Dashboard" class="lazy lightbox lightbox-image" loading=lazy src=../../images/nginx-dashboard.png></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>A ConfigMap is an API object used to store non-confidential data in key-value pairs. Pods can consume ConfigMaps as environment variables, command-line arguments, or configuration files in a volume. A ConfigMap allows you to decouple environment-specific configuration from your container images so that your applications are easily portable.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://locust.io/ rel=external>What is Locust?</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Sep 19, 2024</span></span></footer></article></section></div></main></div><script src=/observability-workshop/js/clipboard/clipboard.min.js?1769100198 defer></script><script src=/observability-workshop/js/perfect-scrollbar/perfect-scrollbar.min.js?1769100198 defer></script><script src=/observability-workshop/js/theme.min.js?1769100198 defer></script></body></html>