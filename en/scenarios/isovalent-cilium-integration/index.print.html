<!doctype html><html id=R-html lang=en dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 9.0.3+9bc97fdf9eaf3af61af9bcc11db2e010de83af95"><meta name=description content="Deploy Isovalent Enterprise Platform (Cilium, Hubble, and Tetragon) on Amazon EKS and integrate with Splunk Observability Cloud for comprehensive eBPF-based monitoring and observability."><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Isovalent Enterprise Platform Integration with Splunk Observability Cloud :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Deploy Isovalent Enterprise Platform (Cilium, Hubble, and Tetragon) on Amazon EKS and integrate with Splunk Observability Cloud for comprehensive eBPF-based monitoring and observability."><meta property="og:url" content="https://splunk.github.io/observability-workshop/en/scenarios/isovalent-cilium-integration/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Isovalent Enterprise Platform Integration with Splunk Observability Cloud :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Deploy Isovalent Enterprise Platform (Cilium, Hubble, and Tetragon) on Amazon EKS and integrate with Splunk Observability Cloud for comprehensive eBPF-based monitoring and observability."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Isovalent Enterprise Platform Integration with Splunk Observability Cloud :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Deploy Isovalent Enterprise Platform (Cilium, Hubble, and Tetragon) on Amazon EKS and integrate with Splunk Observability Cloud for comprehensive eBPF-based monitoring and observability."><meta itemprop=dateModified content="2025-11-26T23:39:11-05:00"><meta itemprop=wordCount content="841"><title>Isovalent Enterprise Platform Integration with Splunk Observability Cloud :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/en/scenarios/isovalent-cilium-integration/index.html rel=canonical type=text/html title="Isovalent Enterprise Platform Integration with Splunk Observability Cloud :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/images/favicon.ico?1770895853 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/css/auto-complete/auto-complete.min.css?1770895853 rel=stylesheet><script src=/observability-workshop/js/auto-complete/auto-complete.min.js?1770895853 defer></script><script src=/observability-workshop/js/search-lunr.min.js?1770895853 defer></script><script src=/observability-workshop/js/search.min.js?1770895853 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/observability-workshop/searchindex.en.js?1770895853"</script><script src=/observability-workshop/js/lunr/lunr.min.js?1770895853 defer></script><script src=/observability-workshop/js/lunr/lunr.stemmer.support.min.js?1770895853 defer></script><script src=/observability-workshop/js/lunr/lunr.multi.min.js?1770895853 defer></script><script src=/observability-workshop/js/lunr/lunr.en.min.js?1770895853 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/observability-workshop/fonts/fontawesome/css/all.min.css?1770895853 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/fonts/fontawesome/css/all.min.css?1770895853 rel=stylesheet></noscript><link href=/observability-workshop/css/perfect-scrollbar/perfect-scrollbar.min.css?1770895853 rel=stylesheet><link href=/observability-workshop/css/theme.min.css?1770895853 rel=stylesheet><link href=/observability-workshop/css/format-print.min.css?1770895853 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/scenarios/isovalent-cilium-integration/index.html",window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop",window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.T_Copy_to_clipboard=`Copy text to clipboard`,window.T_Copied_to_clipboard=`Text copied to clipboard!`,window.T_Link_copied_to_clipboard=`Link copied to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.T_Browser_unsupported_feature=`This browser doesn't support this feature`,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantprefix="my-custom-",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant")??"";(!e||!e.startsWith(window.relearn.customvariantprefix)&&!window.relearn.themevariants.includes(e)||e.startsWith(window.relearn.customvariantprefix)&&!window.localStorage.getItem(window.relearn.absBaseUri+"/variantstylesheet-"+e))&&(e=window.relearn.themevariants[0],window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({appplicationName:"observability-workshop",realm:"us1",rumAccessToken:"h7q1NLX6lJz0h_5-OqQJkg",recorder:"splunk",features:{video:!0}})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print" data-origin=/observability-workshop/en/scenarios/isovalent-cilium-integration/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar class=default-animation><div class="topbar-wrapper default-animation"><div class="topbar-sidebar-divider default-animation"></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar default-animation" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></span></div><div class="topbar-button topbar-button-toc default-animation" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-table-list"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#what-youll-learn>What You&rsquo;ll Learn</a></li><li><a href=#sections>Sections</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#benefits-of-integration>Benefits of Integration</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/en/scenarios/index.html><span itemprop=name>Scenarios</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Isovalent Splunk Observability Integration</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print default-animation" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/index.print.html title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span></div><div class="topbar-button topbar-button-prev default-animation" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/en/scenarios/thousandeyes-integration/5-troubleshooting/index.html title="Troubleshooting (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a></span></div><div class="topbar-button topbar-button-next default-animation" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/1-overview/index.html title="Overview (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a></span></div><div class="topbar-button topbar-button-more default-animation" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle button link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable scenarios" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=isovalent-enterprise-platform-integration-with-splunk-observability-cloud>Isovalent Enterprise Platform Integration with Splunk Observability Cloud</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>90 minutes</span>
</span>&nbsp;
<span class="badge cstyle blue badge-with-title"><span class=badge-title class=text-muted>Author
</span><span class=badge-content>Alec Chamberlain</span></span><p>This workshop demonstrates integrating <strong>Isovalent Enterprise Platform with Splunk Observability Cloud</strong> to provide comprehensive visibility into Kubernetes networking, security, and runtime behavior using eBPF technology.</p><h2 id=what-youll-learn>What You&rsquo;ll Learn<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>By the end of this workshop, you will:</p><ul><li>Deploy Amazon EKS with Cilium as the CNI in ENI mode</li><li>Configure Hubble for network observability with L7 visibility</li><li>Install Tetragon for runtime security monitoring</li><li>Integrate eBPF-based metrics with Splunk Observability Cloud using OpenTelemetry</li><li>Monitor network flows, security events, and infrastructure metrics in unified dashboards</li><li>Understand eBPF-powered observability and kube-proxy replacement</li></ul><h2 id=sections>Sections<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><ul><li><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/1-overview/index.html>Overview</a> - Understand Cilium architecture and eBPF fundamentals</li><li><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/2-prerequisites/index.html>Prerequisites</a> - Required tools and access</li><li><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/3-eks-setup/index.html>EKS Setup</a> - Create EKS cluster for Cilium</li><li><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/4-cilium-installation/index.html>Cilium Installation</a> - Deploy Cilium, Hubble, and Tetragon</li><li><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/5-splunk-integration/index.html>Splunk Integration</a> - Connect metrics to Splunk Observability Cloud</li><li><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/6-verification/index.html>Verification</a> - Validate the integration</li></ul><details open class="box cstyle notices primary"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>This integration leverages eBPF (Extended Berkeley Packet Filter) for high-performance, low-overhead observability directly in the Linux kernel.</p></div></details><h2 id=prerequisites>Prerequisites<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><ul><li>AWS CLI configured with appropriate credentials</li><li>kubectl, eksctl, and Helm 3.x installed</li><li>An AWS account with permissions to create EKS clusters, VPCs, and EC2 instances</li><li>A Splunk Observability Cloud account with access token</li><li>Approximately 90 minutes for complete setup</li></ul><h2 id=benefits-of-integration>Benefits of Integration<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>By connecting Isovalent Enterprise Platform to Splunk Observability Cloud, you gain:</p><ul><li>üîç <strong>Deep visibility</strong>: Network flows, L7 protocols (HTTP, DNS, gRPC), and runtime security events</li><li>üöÄ <strong>High performance</strong>: eBPF-based observability with minimal overhead</li><li>üîê <strong>Security insights</strong>: Process monitoring, system call tracing, and network policy enforcement</li><li>üìä <strong>Unified dashboards</strong>: Cilium, Hubble, and Tetragon metrics alongside infrastructure and APM data</li><li>‚ö° <strong>Efficient networking</strong>: Kube-proxy replacement and native VPC networking with ENI mode</li></ul><ul class=card-container><li><article class="card card-popout" aria-labelledby=R-card-74b06b5bc40f9ec992a09ee8c1facf83><div class=card-content><div class=card-title id=R-card-74b06b5bc40f9ec992a09ee8c1facf83><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/1-overview/index.html>Overview</a></div><div class=card-content-text>What is Isovalent Enterprise Platform? The Isovalent Enterprise Platform consists of three core components built on eBPF (Extended Berkeley Packet Filter) technology:
Cilium Cloud Native CNI and Network Security
eBPF-based networking and security for Kubernetes Replaces kube-proxy with high-performance eBPF datapath Native support for AWS ENI mode (pods get VPC IP addresses) Network policy enforcement at L3-L7 Transparent encryption and load balancing Hubble Network Observability</div></div></article></li><li><article class="card card-popout" aria-labelledby=R-card-cd34b1ac4612f6844fc09aacc1f12da1><div class=card-content><div class=card-title id=R-card-cd34b1ac4612f6844fc09aacc1f12da1><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/2-prerequisites/index.html>Prerequisites</a></div><div class=card-content-text>Required Tools Before starting this workshop, ensure you have the following tools installed:
AWS CLI # Check installation aws &ndash;version # Should output: aws-cli/2.x.x or higher kubectl # Check installation kubectl version &ndash;client # Should output: Client Version: v1.28.0 or higher eksctl # Check installation eksctl version # Should output: 0.150.0 or higher Helm # Check installation helm version # Should output: version.BuildInfo{Version:&ldquo;v3.x.x&rdquo;} AWS Requirements AWS account with permissions to create: EKS clusters VPCs and subnets EC2 instances IAM roles and policies Elastic Network Interfaces AWS CLI configured with credentials (aws configure) Splunk Observability Cloud You‚Äôll need:</div></div></article></li><li><article class="card card-popout" aria-labelledby=R-card-382651f1a8be75f2c003c4f8203bd72d><div class=card-content><div class=card-title id=R-card-382651f1a8be75f2c003c4f8203bd72d><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/3-eks-setup/index.html>EKS Setup</a></div><div class=card-content-text><p>Step 1: Add Helm Repositories Add the required Helm repositories:</p><h1 id=add-isovalent-helm-repository-helm-repo-add-isovalent---add-splunk-opentelemetry-collector-helm-repository-helm-repo-add-splunk-otel-collector-chart---update-helm-repositories-helm-repo-update-step-2-create-eks-cluster-configuration-create-a-file-named-clusteryaml>Add Isovalent Helm repository helm repo add isovalent <a href=https://helm.isovalent.com rel=external>https://helm.isovalent.com</a> # Add Splunk OpenTelemetry Collector Helm repository helm repo add splunk-otel-collector-chart <a href=https://signalfx.github.io/splunk-otel-collector-chart rel=external>https://signalfx.github.io/splunk-otel-collector-chart</a> # Update Helm repositories helm repo update Step 2: Create EKS Cluster Configuration Create a file named cluster.yaml:<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h1></div></div></article></li><li><article class="card card-popout" aria-labelledby=R-card-d7c2a0255ab77ca3f83db391b2ee7328><div class=card-content><div class=card-title id=R-card-d7c2a0255ab77ca3f83db391b2ee7328><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/4-cilium-installation/index.html>Cilium Installation</a></div><div class=card-content-text><p>Step 1: Configure Cilium Enterprise Create a file named cilium-enterprise-values.yaml. Replace <your-eks-api-server-endpoint>with the endpoint from the previous step (without https:// prefix):</p><h1 id=configure-unique-cluster-name--id-cluster-name-isovalent-demo-id-0--configure-eni-specifics-eni-enabled-true-updateec2adapterlimitviaapi-true-awsenableprefixdelegation-true-enableipv4masquerade-false-loadbalancer-servicetopology-true-ipam-mode-eni-routingmode-native--bpf--kubeproxyreplacement-kubeproxyreplacement-true-k8sservicehost--k8sserviceport-443--configure-tls-configuration-tls-ca-certvalidityduration-3650--10-years--enable-cilium-hubble-for-visibility-hubble-enabled-true-metrics-enableopenmetrics-true-enabled---dnslabelscontextsource_namespacedestination_namespace---droplabelscontextsource_namespacedestination_namespace---tcplabelscontextsource_namespacedestination_namespace---port-distributionlabelscontextsource_namespacedestination_namespace---icmplabelscontextsource_namespacedestination_namespace---flowsourcecontextworkload-namereserved-identity---httpv2exemplarstruelabelscontextsource_namespacedestination_namespace---policylabelscontextsource_namespacedestination_namespace-servicemonitor-enabled-true-tls-enabled-true-auto-enabled-true-method-cronjob-certvalidityduration-1095--3-years-relay-enabled-true-tls-server-enabled-true-prometheus-enabled-true-servicemonitor-enabled-true-timescape-enabled-true--enable-cilium-operator-metrics-operator-prometheus-enabled-true-servicemonitor-enabled-true--enable-cilium-agent-metrics-prometheus-enabled-true-servicemonitor-enabled-true--configure-cilium-envoy-envoy-prometheus-enabled-true-servicemonitor-enabled-true--enable-dns-proxy-ha-support-extraconfig-external-dns-proxy-true-enterprise-featuregate-approved---dnsproxyha---hubbletimescape-configuration-highlights-eni-mode-pods-get-native-vpc-ip-addresses-kube-proxy-replacement-ebpf-based-service-load-balancing-hubble-network-observability-with-l7-visibility-timescape-historical-network-flow-storage-step-2-install-cilium-enterprise-install-cilium-using-helm>Configure unique cluster name & ID cluster: name: isovalent-demo id: 0 # Configure ENI specifics eni: enabled: true updateEC2AdapterLimitViaAPI: true awsEnablePrefixDelegation: true enableIPv4Masquerade: false loadBalancer: serviceTopology: true ipam: mode: eni routingMode: native # BPF / KubeProxyReplacement kubeProxyReplacement: &ldquo;true&rdquo; k8sServiceHost: <your-eks-api-server-endpoint>k8sServicePort: 443 # Configure TLS configuration tls: ca: certValidityDuration: 3650 # 10 years # Enable Cilium Hubble for visibility hubble: enabled: true metrics: enableOpenMetrics: true enabled: - dns:labelsContext=source_namespace,destination_namespace - drop:labelsContext=source_namespace,destination_namespace - tcp:labelsContext=source_namespace,destination_namespace - port-distribution:labelsContext=source_namespace,destination_namespace - icmp:labelsContext=source_namespace,destination_namespace - flow:sourceContext=workload-name|reserved-identity - &ldquo;httpV2:exemplars=true;labelsContext=source_namespace,destination_namespace&rdquo; - &ldquo;policy:labelsContext=source_namespace,destination_namespace&rdquo; serviceMonitor: enabled: true tls: enabled: true auto: enabled: true method: cronJob certValidityDuration: 1095 # 3 years relay: enabled: true tls: server: enabled: true prometheus: enabled: true serviceMonitor: enabled: true timescape: enabled: true # Enable Cilium Operator metrics operator: prometheus: enabled: true serviceMonitor: enabled: true # Enable Cilium Agent metrics prometheus: enabled: true serviceMonitor: enabled: true # Configure Cilium Envoy envoy: prometheus: enabled: true serviceMonitor: enabled: true # Enable DNS Proxy HA support extraConfig: external-dns-proxy: &ldquo;true&rdquo; enterprise: featureGate: approved: - DNSProxyHA - HubbleTimescape Configuration Highlights ENI Mode: Pods get native VPC IP addresses Kube-Proxy Replacement: eBPF-based service load balancing Hubble: Network observability with L7 visibility Timescape: Historical network flow storage Step 2: Install Cilium Enterprise Install Cilium using Helm:<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h1></div></div></article></li><li><article class="card card-popout" aria-labelledby=R-card-49c8cb6ee2a472c8d12919a37b2c8b73><div class=card-content><div class=card-title id=R-card-49c8cb6ee2a472c8d12919a37b2c8b73><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/5-splunk-integration/index.html>Splunk Integration</a></div><div class=card-content-text>Overview The Splunk OpenTelemetry Collector uses Prometheus receivers to scrape metrics from all Isovalent components. Each component exposes metrics on different ports:
Component Port Metrics Cilium Agent 9962 CNI, networking, policy Cilium Envoy 9964 L7 proxy metrics Cilium Operator 9963 Cluster operations Hubble 9965 Network flows, DNS, HTTP Tetragon 2112 Runtime security events Step 1: Create Configuration File Create a file named splunk-otel-isovalent.yaml with your Splunk credentials:</div></div></article></li><li><article class="card card-popout" aria-labelledby=R-card-08bbb4e8392846240d28539c46b82fd8><div class=card-content><div class=card-title id=R-card-08bbb4e8392846240d28539c46b82fd8><a href=/observability-workshop/en/scenarios/isovalent-cilium-integration/6-verification/index.html>Verification</a></div><div class=card-content-text>Verify All Components Run this comprehensive check to ensure everything is running:
echo &ldquo;=== Cluster Nodes ===&rdquo; kubectl get nodes echo -e &ldquo;\n=== Cilium Components ===&rdquo; kubectl get pods -n kube-system -l k8s-app=cilium echo -e &ldquo;\n=== Hubble Components ===&rdquo; kubectl get pods -n kube-system | grep hubble echo -e &ldquo;\n=== Tetragon ===&rdquo; kubectl get pods -n tetragon echo -e &ldquo;\n=== Splunk OTel Collector ===&rdquo; kubectl get pods -n otel-splunk Expected Output:</div></div></article></li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 26, 2025</span></span></footer></article><section><h1 class=a11y-only>Subsections of Isovalent Splunk Observability Integration</h1><article class=default><header class=headline></header><h1 id=overview>Overview</h1><h2 id=what-is-isovalent-enterprise-platform>What is Isovalent Enterprise Platform?<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>The Isovalent Enterprise Platform consists of three core components built on eBPF (Extended Berkeley Packet Filter) technology:</p><h3 id=cilium>Cilium<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><p><strong>Cloud Native CNI and Network Security</strong></p><ul><li>eBPF-based networking and security for Kubernetes</li><li>Replaces kube-proxy with high-performance eBPF datapath</li><li>Native support for AWS ENI mode (pods get VPC IP addresses)</li><li>Network policy enforcement at L3-L7</li><li>Transparent encryption and load balancing</li></ul><h3 id=hubble>Hubble<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><p><strong>Network Observability</strong></p><ul><li>Built on top of Cilium&rsquo;s eBPF visibility</li><li>Real-time network flow monitoring</li><li>L7 protocol visibility (HTTP, DNS, gRPC, Kafka)</li><li>Flow export and historical data storage (Timescape)</li><li>Metrics exposed on port 9965</li></ul><h3 id=tetragon>Tetragon<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><p><strong>Runtime Security and Observability</strong></p><ul><li>eBPF-based runtime security</li><li>Process execution monitoring</li><li>System call tracing</li><li>File access tracking</li><li>Security event metrics on port 2112</li></ul><h2 id=architecture>Architecture<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><pre class="mermaid actionbar-wrapper align-center">graph TB
    subgraph AWS[&#34;Amazon Web Services&#34;]
        subgraph EKS[&#34;EKS Cluster&#34;]
            subgraph Node[&#34;Worker Node&#34;]
                CA[&#34;Cilium Agent&lt;br/&gt;:9962&#34;]
                CE[&#34;Cilium Envoy&lt;br/&gt;:9964&#34;]
                HA[&#34;Hubble&lt;br/&gt;:9965&#34;]
                TE[&#34;Tetragon&lt;br/&gt;:2112&#34;]
                OC[&#34;OTel Collector&#34;]
            end
            CO[&#34;Cilium Operator&lt;br/&gt;:9963&#34;]
            HR[&#34;Hubble Relay&#34;]
        end
    end
    
    subgraph Splunk[&#34;Splunk Observability Cloud&#34;]
        IM[&#34;Infrastructure Monitoring&#34;]
        DB[&#34;Dashboards&#34;]
    end
    
    CA -.-&gt;|&#34;Scrape&#34;| OC
    CE -.-&gt;|&#34;Scrape&#34;| OC
    HA -.-&gt;|&#34;Scrape&#34;| OC
    TE -.-&gt;|&#34;Scrape&#34;| OC
    CO -.-&gt;|&#34;Scrape&#34;| OC
    
    OC ==&gt;|&#34;OTLP/HTTP&#34;| IM
    IM --&gt; DB</pre><h2 id=key-components>Key Components<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><table><thead><tr><th>Component</th><th>Service Name</th><th>Port</th><th>Purpose</th></tr></thead><tbody><tr><td>Cilium Agent</td><td>cilium-agent</td><td>9962</td><td>CNI, network policies, eBPF programs</td></tr><tr><td>Cilium Envoy</td><td>cilium-envoy</td><td>9964</td><td>L7 proxy for HTTP, gRPC</td></tr><tr><td>Cilium Operator</td><td>cilium-operator</td><td>9963</td><td>Cluster-wide operations</td></tr><tr><td>Hubble</td><td>hubble-metrics</td><td>9965</td><td>Network flow metrics</td></tr><tr><td>Tetragon</td><td>tetragon</td><td>2112</td><td>Runtime security metrics</td></tr></tbody></table><h2 id=benefits-of-ebpf>Benefits of eBPF<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><ul><li><strong>High Performance</strong>: Runs in the Linux kernel with minimal overhead</li><li><strong>Safety</strong>: Verifier ensures programs are safe to run</li><li><strong>Flexibility</strong>: Dynamic instrumentation without kernel modules</li><li><strong>Visibility</strong>: Deep insights into network and system behavior</li></ul><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Note</summary><div class=box-content><p>This integration provides visibility into Kubernetes networking at a level not possible with traditional CNI plugins.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 26, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=prerequisites>Prerequisites</h1><h2 id=required-tools>Required Tools<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Before starting this workshop, ensure you have the following tools installed:</p><h3 id=aws-cli>AWS CLI<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Check installation</span>
</span></span><span class=line><span class=cl>aws --version
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Should output: aws-cli/2.x.x or higher</span></span></span></code></pre></div><h3 id=kubectl>kubectl<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Check installation</span>
</span></span><span class=line><span class=cl>kubectl version --client
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Should output: Client Version: v1.28.0 or higher</span></span></span></code></pre></div><h3 id=eksctl>eksctl<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Check installation</span>
</span></span><span class=line><span class=cl>eksctl version
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Should output: 0.150.0 or higher</span></span></span></code></pre></div><h3 id=helm>Helm<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Check installation</span>
</span></span><span class=line><span class=cl>helm version
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Should output: version.BuildInfo{Version:&#34;v3.x.x&#34;}</span></span></span></code></pre></div><h2 id=aws-requirements>AWS Requirements<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><ul><li>AWS account with permissions to create:<ul><li>EKS clusters</li><li>VPCs and subnets</li><li>EC2 instances</li><li>IAM roles and policies</li><li>Elastic Network Interfaces</li></ul></li><li>AWS CLI configured with credentials (<code>aws configure</code>)</li></ul><h2 id=splunk-observability-cloud>Splunk Observability Cloud<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>You&rsquo;ll need:</p><ul><li>A Splunk Observability Cloud account</li><li>An <strong>Access Token</strong> with ingest permissions</li><li>Your <strong>Realm</strong> identifier (e.g., us1, us2, eu0)</li></ul><details open class="box cstyle notices tip"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Getting Splunk Credentials</summary><div class=box-content><p>In Splunk Observability Cloud:</p><ol><li>Navigate to <strong>Settings</strong> ‚Üí <strong>Access Tokens</strong></li><li>Create a new token with <strong>Ingest</strong> permissions</li><li>Note your realm from the URL: <code>https://app.&lt;realm>.signalfx.com</code></li></ol></div></details><h2 id=cost-considerations>Cost Considerations<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><h3 id=aws-costs-approximate>AWS Costs (Approximate)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><ul><li><strong>EKS Control Plane</strong>: ~$73/month</li><li><strong>EC2 Nodes (2x m5.xlarge)</strong>: ~$280/month</li><li><strong>Data Transfer</strong>: Variable</li><li><strong>EBS Volumes</strong>: ~$20/month</li></ul><p><strong>Estimated Total</strong>: ~$380-400/month for lab environment</p><h3 id=splunk-costs>Splunk Costs<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><ul><li>Based on metrics volume (DPM - Data Points per Minute)</li><li>Free trial available for testing</li></ul><details open class="box cstyle notices warning"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-triangle"></i>
Warning</summary><div class=box-content><p>Remember to clean up resources after completing the workshop to avoid ongoing charges.</p></div></details><h2 id=time-estimate>Time Estimate<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><ul><li><strong>EKS Cluster Creation</strong>: 15-20 minutes</li><li><strong>Cilium Installation</strong>: 10-15 minutes</li><li><strong>Integration Setup</strong>: 10 minutes</li><li><strong>Total</strong>: Approximately 90 minutes</li></ul><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 26, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=eks-setup>EKS Setup</h1><h2 id=step-1-add-helm-repositories>Step 1: Add Helm Repositories<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Add the required Helm repositories:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Add Isovalent Helm repository</span>
</span></span><span class=line><span class=cl>helm repo add isovalent https://helm.isovalent.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Add Splunk OpenTelemetry Collector Helm repository</span>
</span></span><span class=line><span class=cl>helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Update Helm repositories</span>
</span></span><span class=line><span class=cl>helm repo update</span></span></code></pre></div><h2 id=step-2-create-eks-cluster-configuration>Step 2: Create EKS Cluster Configuration<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Create a file named <code>cluster.yaml</code>:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>eksctl.io/v1alpha5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ClusterConfig</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>isovalent-demo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=l>us-east-1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1.30&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>iam</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>withOIDC</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>addonsConfig</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>disableDefaultAddons</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>addons</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>coredns</span></span></span></code></pre></div><p><strong>Key Configuration Details:</strong></p><ul><li><code>disableDefaultAddons: true</code> - Disables AWS VPC CNI and kube-proxy (Cilium will replace both)</li><li><code>withOIDC: true</code> - Enables IAM roles for service accounts (required for Cilium to manage ENIs)</li><li><code>coredns</code> addon is retained as it&rsquo;s needed for DNS resolution</li></ul><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Why Disable Default Addons?</summary><div class=box-content><p>Cilium provides its own CNI implementation using eBPF, which is more performant than the default AWS VPC CNI. By disabling the defaults, we avoid conflicts and let Cilium handle all networking.</p></div></details><h2 id=step-3-create-the-eks-cluster>Step 3: Create the EKS Cluster<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Create the cluster (this takes approximately 15-20 minutes):</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>eksctl create cluster -f cluster.yaml</span></span></code></pre></div><p>Verify the cluster is created:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Update kubeconfig</span>
</span></span><span class=line><span class=cl>aws eks update-kubeconfig --name isovalent-demo --region us-east-1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Check pods</span>
</span></span><span class=line><span class=cl>kubectl get pods -n kube-system</span></span></code></pre></div><p><strong>Expected Output:</strong></p><ul><li>CoreDNS pods will be in <code>Pending</code> state (this is normal - they&rsquo;re waiting for the CNI)</li><li>No worker nodes yet</li></ul><details open class="box cstyle notices warning"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-triangle"></i>
Note</summary><div class=box-content><p>Without a CNI plugin, pods cannot get IP addresses or network connectivity. CoreDNS will remain pending until Cilium is installed.</p></div></details><h2 id=step-4-get-kubernetes-api-server-endpoint>Step 4: Get Kubernetes API Server Endpoint<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>You&rsquo;ll need this for the Cilium configuration:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws eks describe-cluster --name isovalent-demo --region us-east-1 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --query <span class=s1>&#39;cluster.endpoint&#39;</span> --output text</span></span></code></pre></div><p>Save this endpoint - you&rsquo;ll use it in the Cilium installation step.</p><h2 id=step-5-install-prometheus-crds>Step 5: Install Prometheus CRDs<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Cilium uses Prometheus ServiceMonitor CRDs for metrics:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl apply -f https://github.com/prometheus-operator/prometheus-operator/releases/download/v0.68.0/stripped-down-crds.yaml</span></span></code></pre></div><details open class="box cstyle notices" style=--VARIABLE-BOX-color:success><summary class=box-label tabindex=-1>Next Steps</summary><div class=box-content><p>With the EKS cluster created, you&rsquo;re ready to install Cilium, Hubble, and Tetragon.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 26, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=cilium-installation>Cilium Installation</h1><h2 id=step-1-configure-cilium-enterprise>Step 1: Configure Cilium Enterprise<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Create a file named <code>cilium-enterprise-values.yaml</code>. Replace <code>&lt;YOUR-EKS-API-SERVER-ENDPOINT></code> with the endpoint from the previous step (without <code>https://</code> prefix):</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Configure unique cluster name &amp; ID</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>cluster</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>isovalent-demo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Configure ENI specifics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>eni</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>updateEC2AdapterLimitViaAPI</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>awsEnablePrefixDelegation</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>enableIPv4Masquerade</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>loadBalancer</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>serviceTopology</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>ipam</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>eni</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>routingMode</span><span class=p>:</span><span class=w> </span><span class=l>native</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># BPF / KubeProxyReplacement</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kubeProxyReplacement</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>k8sServiceHost</span><span class=p>:</span><span class=w> </span><span class=l>&lt;YOUR-EKS-API-SERVER-ENDPOINT&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>k8sServicePort</span><span class=p>:</span><span class=w> </span><span class=m>443</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Configure TLS configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ca</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>certValidityDuration</span><span class=p>:</span><span class=w> </span><span class=m>3650</span><span class=w> </span><span class=c># 10 years</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Enable Cilium Hubble for visibility</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>hubble</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enableOpenMetrics</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>dns:labelsContext=source_namespace,destination_namespace</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>drop:labelsContext=source_namespace,destination_namespace</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>tcp:labelsContext=source_namespace,destination_namespace</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>port-distribution:labelsContext=source_namespace,destination_namespace</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>icmp:labelsContext=source_namespace,destination_namespace</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>flow:sourceContext=workload-name|reserved-identity</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;httpV2:exemplars=true;labelsContext=source_namespace,destination_namespace&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;policy:labelsContext=source_namespace,destination_namespace&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serviceMonitor</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>auto</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>method</span><span class=p>:</span><span class=w> </span><span class=l>cronJob</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>certValidityDuration</span><span class=p>:</span><span class=w> </span><span class=m>1095</span><span class=w> </span><span class=c># 3 years</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>relay</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>serviceMonitor</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>timescape</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Enable Cilium Operator metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>operator</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serviceMonitor</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Enable Cilium Agent metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>serviceMonitor</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Configure Cilium Envoy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>envoy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serviceMonitor</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Enable DNS Proxy HA support</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>extraConfig</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>external-dns-proxy</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>enterprise</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>featureGate</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>approved</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>DNSProxyHA</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>HubbleTimescape</span></span></span></code></pre></div><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Configuration Highlights</summary><div class=box-content><ul><li><strong>ENI Mode</strong>: Pods get native VPC IP addresses</li><li><strong>Kube-Proxy Replacement</strong>: eBPF-based service load balancing</li><li><strong>Hubble</strong>: Network observability with L7 visibility</li><li><strong>Timescape</strong>: Historical network flow storage</li></ul></div></details><h2 id=step-2-install-cilium-enterprise>Step 2: Install Cilium Enterprise<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Install Cilium using Helm:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm install cilium isovalent/cilium --version 1.18.4 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --namespace kube-system -f cilium-enterprise-values.yaml</span></span></code></pre></div><details open class="box cstyle notices warning"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-triangle"></i>
Note</summary><div class=box-content><p>The installation may initially show pending jobs. This is expected - proceed to create nodes.</p></div></details><h2 id=step-3-create-node-group>Step 3: Create Node Group<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Create a file named <code>nodegroup.yaml</code>:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>eksctl.io/v1alpha5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ClusterConfig</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>isovalent-demo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=l>us-east-1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>managedNodeGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>standard</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>instanceType</span><span class=p>:</span><span class=w> </span><span class=l>m5.xlarge</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>desiredCapacity</span><span class=p>:</span><span class=w> </span><span class=m>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>privateNetworking</span><span class=p>:</span><span class=w> </span><span class=kc>true</span></span></span></code></pre></div><p>Create the node group (this takes 5-10 minutes):</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>eksctl create nodegroup -f nodegroup.yaml</span></span></code></pre></div><h2 id=step-4-verify-cilium-installation>Step 4: Verify Cilium Installation<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Once nodes are ready, verify all components:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Check nodes</span>
</span></span><span class=line><span class=cl>kubectl get nodes
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Check Cilium pods</span>
</span></span><span class=line><span class=cl>kubectl get pods -n kube-system -l k8s-app<span class=o>=</span>cilium
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Check all Cilium components</span>
</span></span><span class=line><span class=cl>kubectl get pods -n kube-system <span class=p>|</span> grep -E <span class=s2>&#34;(cilium|hubble)&#34;</span></span></span></code></pre></div><p><strong>Expected Output:</strong></p><ul><li>2 nodes in <code>Ready</code> state</li><li>Cilium pods running (1 per node)</li><li>Hubble relay and timescape running</li><li>Cilium operator running</li></ul><h2 id=step-5-install-tetragon>Step 5: Install Tetragon<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Install Tetragon for runtime security:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm install tetragon isovalent/tetragon --version 1.18.0 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --namespace tetragon --create-namespace</span></span></code></pre></div><p>Verify installation:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods -n tetragon</span></span></code></pre></div><p><strong>What you&rsquo;ll see:</strong> Tetragon runs as a DaemonSet (one pod per node) plus an operator.</p><h2 id=step-6-install-cilium-dns-proxy-ha>Step 6: Install Cilium DNS Proxy HA<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Create a file named <code>cilium-dns-proxy-ha-values.yaml</code>:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>enableCriticalPriorityClass</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>serviceMonitor</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span></span></span></code></pre></div><p>Install DNS Proxy HA:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm upgrade -i cilium-dnsproxy isovalent/cilium-dnsproxy --version 1.16.7 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -n kube-system -f cilium-dns-proxy-ha-values.yaml</span></span></code></pre></div><p>Verify:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl rollout status -n kube-system ds/cilium-dnsproxy --watch</span></span></code></pre></div><details open class="box cstyle notices" style=--VARIABLE-BOX-color:success><summary class=box-label tabindex=-1>Success</summary><div class=box-content><p>You now have a fully functional EKS cluster with Cilium CNI, Hubble observability, and Tetragon security!</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 26, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=splunk-integration>Splunk Integration</h1><h2 id=overview>Overview<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>The Splunk OpenTelemetry Collector uses Prometheus receivers to scrape metrics from all Isovalent components. Each component exposes metrics on different ports:</p><table><thead><tr><th>Component</th><th>Port</th><th>Metrics</th></tr></thead><tbody><tr><td>Cilium Agent</td><td>9962</td><td>CNI, networking, policy</td></tr><tr><td>Cilium Envoy</td><td>9964</td><td>L7 proxy metrics</td></tr><tr><td>Cilium Operator</td><td>9963</td><td>Cluster operations</td></tr><tr><td>Hubble</td><td>9965</td><td>Network flows, DNS, HTTP</td></tr><tr><td>Tetragon</td><td>2112</td><td>Runtime security events</td></tr></tbody></table><h2 id=step-1-create-configuration-file>Step 1: Create Configuration File<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Create a file named <code>splunk-otel-isovalent.yaml</code> with your Splunk credentials:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>agent</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>prometheus/isovalent_cilium</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>scrape_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;cilium_metrics_9962&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>metrics_path</span><span class=p>:</span><span class=w> </span><span class=l>/metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>kubernetes_sd_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=l>pod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__meta_kubernetes_pod_label_k8s_app]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>keep</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>regex</span><span class=p>:</span><span class=w> </span><span class=l>cilium</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__meta_kubernetes_pod_ip]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>__address__</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>replacement</span><span class=p>:</span><span class=w> </span><span class=l>${__meta_kubernetes_pod_ip}:9962</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;hubble_metrics_9965&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>metrics_path</span><span class=p>:</span><span class=w> </span><span class=l>/metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>kubernetes_sd_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=l>pod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__meta_kubernetes_pod_label_k8s_app]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>keep</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>regex</span><span class=p>:</span><span class=w> </span><span class=l>cilium</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__meta_kubernetes_pod_ip]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>__address__</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>replacement</span><span class=p>:</span><span class=w> </span><span class=l>${__meta_kubernetes_pod_ip}:9965</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>prometheus/isovalent_envoy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>scrape_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;envoy_metrics_9964&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>metrics_path</span><span class=p>:</span><span class=w> </span><span class=l>/metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>kubernetes_sd_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=l>pod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__meta_kubernetes_pod_label_k8s_app]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>keep</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>regex</span><span class=p>:</span><span class=w> </span><span class=l>cilium-envoy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__meta_kubernetes_pod_ip]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>__address__</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>replacement</span><span class=p>:</span><span class=w> </span><span class=l>${__meta_kubernetes_pod_ip}:9964</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>prometheus/isovalent_operator</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>scrape_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;cilium_operator_metrics_9963&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>metrics_path</span><span class=p>:</span><span class=w> </span><span class=l>/metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>kubernetes_sd_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=l>pod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__meta_kubernetes_pod_label_io_cilium_app]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>keep</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>regex</span><span class=p>:</span><span class=w> </span><span class=l>operator</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>prometheus/isovalent_tetragon</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>scrape_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;tetragon_metrics_2112&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>metrics_path</span><span class=p>:</span><span class=w> </span><span class=l>/metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>kubernetes_sd_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=l>pod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__meta_kubernetes_pod_label_app_kubernetes_io_name]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>keep</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>regex</span><span class=p>:</span><span class=w> </span><span class=l>tetragon</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__meta_kubernetes_pod_ip]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>__address__</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>replacement</span><span class=p>:</span><span class=w> </span><span class=l>${__meta_kubernetes_pod_ip}:2112</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>filter/includemetrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>include</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>match_type</span><span class=p>:</span><span class=w> </span><span class=l>strict</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>metric_names</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># Cilium metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>cilium_endpoint_state</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>cilium_bpf_map_ops_total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>cilium_policy_l7_total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># Hubble metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>hubble_flows_processed_total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>hubble_drop_total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>hubble_dns_queries_total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>hubble_http_requests_total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># Tetragon metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>tetragon_dns_total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>tetragon_http_response_total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>pipelines</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>prometheus/isovalent_cilium</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>prometheus/isovalent_envoy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>prometheus/isovalent_operator</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>prometheus/isovalent_tetragon</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>hostmetrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>kubeletstats</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>filter/includemetrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>resourcedetection</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>clusterName</span><span class=p>:</span><span class=w> </span><span class=l>isovalent-demo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>splunkObservability</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>accessToken</span><span class=p>:</span><span class=w> </span><span class=l>&lt;YOUR-SPLUNK-ACCESS-TOKEN&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>realm</span><span class=p>:</span><span class=w> </span><span class=l>&lt;YOUR-SPLUNK-REALM&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>cloudProvider</span><span class=p>:</span><span class=w> </span><span class=l>aws</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>distribution</span><span class=p>:</span><span class=w> </span><span class=l>eks</span></span></span></code></pre></div><p><strong>Important:</strong> Replace:</p><ul><li><code>&lt;YOUR-SPLUNK-ACCESS-TOKEN></code> with your Splunk Observability Cloud access token</li><li><code>&lt;YOUR-SPLUNK-REALM></code> with your realm (e.g., us1, us2, eu0)</li></ul><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Metric Filtering</summary><div class=box-content><p>The configuration includes a metric filter to prevent overwhelming Splunk with high-volume metrics. Only the most valuable metrics for monitoring are included.</p></div></details><h2 id=step-2-install-splunk-opentelemetry-collector>Step 2: Install Splunk OpenTelemetry Collector<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Install the collector:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm upgrade --install splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  splunk-otel-collector-chart/splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -n otel-splunk --create-namespace <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -f splunk-otel-isovalent.yaml</span></span></code></pre></div><p>Wait for rollout to complete:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl rollout status daemonset/splunk-otel-collector-agent -n otel-splunk --timeout<span class=o>=</span>60s</span></span></code></pre></div><h2 id=step-3-verify-metrics-collection>Step 3: Verify Metrics Collection<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Check that the collector is scraping metrics:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl logs -n otel-splunk -l <span class=nv>app</span><span class=o>=</span>splunk-otel-collector --tail<span class=o>=</span><span class=m>100</span> <span class=p>|</span> grep -i <span class=s2>&#34;cilium\|hubble\|tetragon&#34;</span></span></span></code></pre></div><p>You should see log entries indicating successful scraping of each component.</p><details open class="box cstyle notices" style=--VARIABLE-BOX-color:success><summary class=box-label tabindex=-1>Next Steps</summary><div class=box-content><p>Metrics are now flowing to Splunk Observability Cloud! Proceed to verification to check the dashboards.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 26, 2025</span></span></footer></article><article class=default><header class=headline></header><h1 id=verification>Verification</h1><h2 id=verify-all-components>Verify All Components<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Run this comprehensive check to ensure everything is running:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;=== Cluster Nodes ===&#34;</span>
</span></span><span class=line><span class=cl>kubectl get nodes
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\n=== Cilium Components ===&#34;</span>
</span></span><span class=line><span class=cl>kubectl get pods -n kube-system -l k8s-app<span class=o>=</span>cilium
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\n=== Hubble Components ===&#34;</span>
</span></span><span class=line><span class=cl>kubectl get pods -n kube-system <span class=p>|</span> grep hubble
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\n=== Tetragon ===&#34;</span>
</span></span><span class=line><span class=cl>kubectl get pods -n tetragon
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\n=== Splunk OTel Collector ===&#34;</span>
</span></span><span class=line><span class=cl>kubectl get pods -n otel-splunk</span></span></code></pre></div><p><strong>Expected Output:</strong></p><ul><li>2 nodes in <code>Ready</code> state</li><li>Cilium pods: 2 running (one per node)</li><li>Hubble relay and timescape: running</li><li>Tetragon pods: 2 running + operator</li><li>Splunk collector pods: running</li></ul><h2 id=verify-metrics-endpoints>Verify Metrics Endpoints<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Test that metrics are accessible from each component:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Test Cilium metrics</span>
</span></span><span class=line><span class=cl>kubectl <span class=nb>exec</span> -n kube-system ds/cilium -- curl -s localhost:9962/metrics <span class=p>|</span> head -20
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Test Hubble metrics</span>
</span></span><span class=line><span class=cl>kubectl <span class=nb>exec</span> -n kube-system ds/cilium -- curl -s localhost:9965/metrics <span class=p>|</span> head -20
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Test Tetragon metrics</span>
</span></span><span class=line><span class=cl>kubectl <span class=nb>exec</span> -n tetragon ds/tetragon -- curl -s localhost:2112/metrics <span class=p>|</span> head -20</span></span></code></pre></div><p>Each command should return Prometheus-formatted metrics.</p><h2 id=verify-in-splunk-observability-cloud>Verify in Splunk Observability Cloud<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><h3 id=check-infrastructure-navigator>Check Infrastructure Navigator<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><ol><li>Log in to your Splunk Observability Cloud account</li><li>Navigate to <strong>Infrastructure</strong> ‚Üí <strong>Kubernetes</strong></li><li>Find your cluster: <code>isovalent-demo</code></li><li>Verify the cluster is reporting metrics</li></ol><h3 id=search-for-isovalent-metrics>Search for Isovalent Metrics<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><p>Navigate to <strong>Metrics</strong> and search for:</p><ul><li><code>cilium_*</code> - Cilium networking metrics</li><li><code>hubble_*</code> - Network flow metrics</li><li><code>tetragon_*</code> - Runtime security metrics</li></ul><details open class="box cstyle notices tip"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>It may take 2-3 minutes after installation for metrics to start appearing in Splunk Observability Cloud.</p></div></details><h2 id=view-dashboards>View Dashboards<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><h3 id=create-custom-dashboard>Create Custom Dashboard<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><ol><li>Navigate to <strong>Dashboards</strong> ‚Üí <strong>Create</strong></li><li>Add charts for key metrics:</li></ol><p><strong>Cilium Endpoint State:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0><code>cilium_endpoint_state{cluster=&#34;isovalent-demo&#34;}</code></pre></div><p><strong>Hubble Flow Processing:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0><code>hubble_flows_processed_total{cluster=&#34;isovalent-demo&#34;}</code></pre></div><p><strong>Tetragon Events:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0><code>tetragon_dns_total{cluster=&#34;isovalent-demo&#34;}</code></pre></div><h3 id=example-queries>Example Queries<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><p><strong>DNS Query Rate:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0><code>rate(hubble_dns_queries_total{cluster=&#34;isovalent-demo&#34;}[1m])</code></pre></div><p><strong>Dropped Packets:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0><code>sum by (reason) (hubble_drop_total{cluster=&#34;isovalent-demo&#34;})</code></pre></div><p><strong>Network Policy Enforcements:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0><code>rate(cilium_policy_l7_total{cluster=&#34;isovalent-demo&#34;}[5m])</code></pre></div><h2 id=troubleshooting>Troubleshooting<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><h3 id=no-metrics-in-splunk>No Metrics in Splunk<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><p>If you don&rsquo;t see metrics:</p><ol><li><p><strong>Check collector logs:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl logs -n otel-splunk -l <span class=nv>app</span><span class=o>=</span>splunk-otel-collector --tail<span class=o>=</span><span class=m>200</span></span></span></code></pre></div></li><li><p><strong>Verify scrape targets:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl describe configmap -n otel-splunk splunk-otel-collector-otel-agent</span></span></code></pre></div></li><li><p><strong>Check network connectivity:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl <span class=nb>exec</span> -n otel-splunk -it deployment/splunk-otel-collector -- <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  curl -v https://ingest.&lt;YOUR-REALM&gt;.signalfx.com</span></span></code></pre></div></li></ol><h3 id=pods-not-running>Pods Not Running<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3><p>If Cilium or Tetragon pods are not running:</p><ol><li><p><strong>Check pod status:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl describe pod -n kube-system &lt;cilium-pod-name&gt;</span></span></code></pre></div></li><li><p><strong>View logs:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl logs -n kube-system &lt;cilium-pod-name&gt;</span></span></code></pre></div></li><li><p><strong>Verify node readiness:</strong></p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get nodes -o wide</span></span></code></pre></div></li></ol><h2 id=cleanup>Cleanup<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>To remove all resources and avoid AWS charges:</p><div class="highlight actionbar-wrapper wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Delete the OpenTelemetry Collector</span>
</span></span><span class=line><span class=cl>helm uninstall splunk-otel-collector -n otel-splunk
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Delete the EKS cluster (this removes everything)</span>
</span></span><span class=line><span class=cl>eksctl delete cluster --name isovalent-demo --region us-east-1</span></span></code></pre></div><details open class="box cstyle notices warning"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-triangle"></i>
Warning</summary><div class=box-content><p>The cleanup process takes 10-15 minutes. Ensure all resources are deleted to avoid charges.</p></div></details><h2 id=next-steps>Next Steps<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type=button title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2><p>Now that your integration is working:</p><ul><li>Deploy sample applications to generate network traffic</li><li>Create network policies and monitor enforcement</li><li>Set up alerts in Splunk for dropped packets or security events</li><li>Explore Hubble&rsquo;s L7 visibility for HTTP/gRPC traffic</li><li>Use Tetragon to monitor process execution and file access</li></ul><details open class="box cstyle notices" style=--VARIABLE-BOX-color:success><summary class=box-label tabindex=-1>Success!</summary><div class=box-content><p>Congratulations! You&rsquo;ve successfully integrated Isovalent Enterprise Platform with Splunk Observability Cloud.</p></div></details><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Nov 26, 2025</span></span></footer></article></section></div></main></div><script src=/observability-workshop/js/js-yaml/js-yaml.min.js?1770895853 defer></script><script src=/observability-workshop/js/d3/d3-color.min.js?1770895853 defer></script><script src=/observability-workshop/js/d3/d3-dispatch.min.js?1770895853 defer></script><script src=/observability-workshop/js/d3/d3-drag.min.js?1770895853 defer></script><script src=/observability-workshop/js/d3/d3-ease.min.js?1770895853 defer></script><script src=/observability-workshop/js/d3/d3-interpolate.min.js?1770895853 defer></script><script src=/observability-workshop/js/d3/d3-selection.min.js?1770895853 defer></script><script src=/observability-workshop/js/d3/d3-timer.min.js?1770895853 defer></script><script src=/observability-workshop/js/d3/d3-transition.min.js?1770895853 defer></script><script src=/observability-workshop/js/d3/d3-zoom.min.js?1770895853 defer></script><script src=/observability-workshop/js/mermaid/mermaid.min.js?1770895853 defer></script><script>window.relearn.themeUseMermaid=JSON.parse("{}")</script><script src=/observability-workshop/js/perfect-scrollbar/perfect-scrollbar.min.js?1770895853 defer></script><script src=/observability-workshop/js/theme.min.js?1770895853 defer></script><div id=toast-container role=status aria-live=polite aria-atomic=false></div></body></html>