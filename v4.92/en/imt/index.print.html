<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.110.0"><meta name=generator content="Relearn 5.17.1+tip"><meta name=description content="Whether on-prem, hybrid or multicloud, Splunk delivers real-time monitoring and troubleshooting to help you maximize infrastructure performance with complete visibility."><title>Splunk IM :: Splunk Observability Cloud Workshops</title><link href=https://splunk.github.io/observability-workshop/v4.92/en/imt/index.html rel=alternate hreflang=x-default><link href=https://splunk.github.io/observability-workshop/v4.92/en/imt/index.html rel=alternate hreflang=en><link href=https://splunk.github.io/observability-workshop/v4.92/ja/imt/index.html rel=alternate hreflang=ja><link href=https://splunk.github.io/observability-workshop/v4.92/en/imt/index.html rel=canonical type=text/html title="Splunk IM :: Splunk Observability Cloud Workshops"><link href=../../en/imt/index.xml rel=alternate type=application/rss+xml title="Splunk IM :: Splunk Observability Cloud Workshops"><link href=../../images/favicon.ico?1689079709 rel=icon type=image/x-icon sizes=any><link href=../../css/fontawesome-all.min.css?1689079711 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/fontawesome-all.min.css?1689079711 rel=stylesheet></noscript><link href=../../css/nucleus.css?1689079711 rel=stylesheet><link href=../../css/auto-complete.css?1689079711 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/auto-complete.css?1689079711 rel=stylesheet></noscript><link href=../../css/perfect-scrollbar.min.css?1689079711 rel=stylesheet><link href=../../css/fonts.css?1689079711 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/fonts.css?1689079711 rel=stylesheet></noscript><link href=../../css/theme.css?1689079711 rel=stylesheet><link href=../../css/theme-splunk-light.css?1689079711 rel=stylesheet id=variant-style><link href=../../css/variant.css?1689079711 rel=stylesheet><link href=../../css/print.css?1689079711 rel=stylesheet media=print><link href=../../css/format-print.css?1689079711 rel=stylesheet><link href=../../css/ie.css?1689079711 rel=stylesheet><script src=../../js/url.js?1689079711></script>
<script src=../../js/variant.js?1689079711></script>
<script>window.index_js_url="../../en/index.search.js";var root_url="../../",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_No_results_found="No results found for \u0022{0}\u0022",window.T_N_results_found="{1} results found for \u0022{0}\u0022",baseUriFull="https://splunk.github.io/observability-workshop/v4.92/",window.variants&&variants.init(["splunk-light","splunk-dark","aws"])</script><style>@media screen and (min-width:1300px){#body .flex-block-wrapper{margin-left:auto;margin-right:auto;max-width:1300px;width:100%}}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../en/imt/index.html><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable><div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle class=topbar-link title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Splunk IM</span><meta itemprop=position content="2"></li></ol></div></div></nav><main id=body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=splunk-im>Splunk IM</h1><p>During this <em><strong>technical</strong></em> Splunk Observability Cloud Infrastructure Monitoring and APM Workshop you will build out an environment based on a <a href=https://k3s.io/ target=_blank>lightweight</a> Kubernetes<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> cluster.</p><p>In order to simplify the workshop modules, a pre-configured AWS/EC2 instance is provided.</p><p>The instance is pre-configured with all the software required to deploy the Splunk OpenTelemetery Connector<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> in Kubernetes, deploy a NGINX<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> ReplicaSet<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup> and finally deploy a microservices based application which has been instrumented using OpenTelemetry to send metrics, traces, spans and logs<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup>.</p><p>The workshops also introduce you to dashboards, editing and creating charts, creating detectors to fire alerts, Monitoring as Code and the Service Bureau<sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup></p><p>By the end of these technical workshops you will have a good understanding of some of the key features and capabilities of the Splunk Observability Cloud.</p><p>Here are the instructions on how to access you pre-configured <a href=../../en/imt/./initial-setup/>AWS/EC2 instance</a></p><p><a href=#image-430f853b3a4df4c47f8531fa97cc2af1 class=lightbox-link><img src=../../en/imt/images/architecture.png alt="Splunk Architecture" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-430f853b3a4df4c47f8531fa97cc2af1><img src=../../en/imt/images/architecture.png alt="Splunk Architecture" class=lightbox-image loading=lazy></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/ target=_blank>Kubernetes</a> is a portable, extensible, open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>The OpenTelemetry Collector offers a vendor-agnostic implementation on how to receive, process and export telemetry data. In addition, it removes the need to run, operate and maintain multiple agents/collectors in order to support open-source telemetry data formats (e.g. Jaeger, Prometheus, etc.) sending to multiple open-source or commercial back-ends.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>NGINX is a web server that can also be used as a reverse proxy, load balancer, mail proxy and HTTP cache.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p><a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/ target=_blank>Kubernetes ReplicaSet</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p>Jaeger, inspired by Dapper and OpenZipkin, is a distributed tracing system released as open source by Uber Technologies. It is used for monitoring and troubleshooting microservices-based distributed systems&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6><p><a href=https://www.splunk.com/en_us/blog/it/monitoring-observability-enterprise-service.html target=_blank>Monitoring as Code and Service Bureau</a>&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Splunk IM</h1><article class=default><header class=headline></header><h1 id=how-to-connect-to-your-workshop-environment>How to connect to your workshop environment</h1><span class="btn cstyle transparent"><button type=button>
<i class="fa-fw fas fa-clock"></i>
5 minutes ü•∑üèª</button></span><ol><li>How to retrieve the IP address of the AWS/EC2 instance assigned to you.</li><li>Connect to your instance using SSH, Putty<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> or your web browser.</li><li>Verify your connection to your AWS/EC2 cloud instance.</li><li>Using Putty (Optional)</li><li>Using Multipass (Optional)</li></ol><hr><h2 id=1-awsec2-ip-address>1. AWS/EC2 IP Address</h2><p>In preparation for the workshop, Splunk has prepared an Ubuntu Linux instance in AWS/EC2.</p><p>To get access to the instance that you will be using in the workshop please visit the URL to access the Google Sheet provided by the workshop leader.</p><p>Search for your AWS/EC2 instance by looking for your first and last name, as provided during registration for this workshop.</p><p><a href=#image-9a98e8e829f8f0a45520c1b4d2084ecc class=lightbox-link><img src=../../en/imt/initial-setup/../images/spreadsheet-info.png alt="attendee spreadsheet" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-9a98e8e829f8f0a45520c1b4d2084ecc><img src=../../en/imt/initial-setup/../images/spreadsheet-info.png alt="attendee spreadsheet" class=lightbox-image loading=lazy></a></p><p>Find your allocated IP address, SSH command (for Mac OS, Linux and the latest Windows versions) and password to enable you to connect to your workshop instance.</p><p>It also has the Browser Access URL that you can use in case you cannot connect via ssh or putty - see <a href=#4-web-browser-all>EC2 access via Web browser</a></p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Important</div><div class=box-content><p>Please use SSH or Putty to gain access to your EC2 instance if possible and
make a note of the IP address as you will need this during the workshop.</p></div></div><h2 id=2-ssh-mac-oslinux>2. SSH (Mac OS/Linux)</h2><p>Most attendees will be able to connect to the workshop by using SSH from their Mac or Linux device, or on Windows 10 and above.</p><p>To use SSH, open a terminal on your system and type <code>ssh ubuntu@x.x.x.x</code> (replacing x.x.x.x with the IP address found in Step #1).</p><p><a href=#image-dbcb69fccf092d5827735a17d5c10233 class=lightbox-link><img src=../../en/imt/initial-setup/../images/ssh-1.png alt="ssh login" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-dbcb69fccf092d5827735a17d5c10233><img src=../../en/imt/initial-setup/../images/ssh-1.png alt="ssh login" class=lightbox-image loading=lazy></a></p><p>When prompted <strong><code>Are you sure you want to continue connecting (yes/no/[fingerprint])?</code></strong> please type <strong><code>yes</code></strong>.</p><p><a href=#image-ae8186c5c1390253bb7861bbc0175334 class=lightbox-link><img src=../../en/imt/initial-setup/../images/ssh-2.png alt="ssh password" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-ae8186c5c1390253bb7861bbc0175334><img src=../../en/imt/initial-setup/../images/ssh-2.png alt="ssh password" class=lightbox-image loading=lazy></a></p><p>Enter the password provided in the Google Sheet from Step #1.</p><p>Upon successful login you will be presented with the Splunk logo and the Linux prompt.</p><p><a href=#image-6aed9f5e83d0df7fb39ce856ffea38d1 class=lightbox-link><img src=../../en/imt/initial-setup/../images/ssh-3.png alt="ssh connected" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-6aed9f5e83d0df7fb39ce856ffea38d1><img src=../../en/imt/initial-setup/../images/ssh-3.png alt="ssh connected" class=lightbox-image loading=lazy></a></p><h2 id=3-ssh-windows-10-and-above>3. SSH (Windows 10 and above)</h2><p>The procedure described above is the same on Windows 10, and the commands can be executed either in the Windows Command Prompt or PowerShell.
However, Windows regards its SSH Client as an &ldquo;optional feature&rdquo;, which might need to be enabled.</p><p>You can verify if SSH is enabled by simply executing <code>ssh</code></p><p>If you are shown a help text on how to use the ssh-command (like shown on the screenshot below), you are all set.</p><p><a href=#image-641730c291025914898123c389113eca class=lightbox-link><img src=../../en/imt/initial-setup/../images/windows-ssh-enabled-feedback.png alt="Windows SSH enabled" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-641730c291025914898123c389113eca><img src=../../en/imt/initial-setup/../images/windows-ssh-enabled-feedback.png alt="Windows SSH enabled" class=lightbox-image loading=lazy></a></p><p>If the result of executing the command looks something like on the screenshot below, you want to enable the &ldquo;OpenSSH Client&rdquo; feature manually.</p><p><a href=#image-0c83fd1134f33c8c4d3641f5fa13b8c9 class=lightbox-link><img src=../../en/imt/initial-setup/../images/windows-ssh-disabled-feedback.png alt="Windows SSH disabled" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-0c83fd1134f33c8c4d3641f5fa13b8c9><img src=../../en/imt/initial-setup/../images/windows-ssh-disabled-feedback.png alt="Windows SSH disabled" class=lightbox-image loading=lazy></a></p><p>To do that, open the &ldquo;Settings&rdquo; menu, and click on &ldquo;Apps&rdquo;. While being in the &ldquo;Apps & features&rdquo; section, click on &ldquo;Optional features&rdquo;.</p><p><a href=#image-0fd828e2c3ae4025f1abfb98e14f40c9 class=lightbox-link><img src=../../en/imt/initial-setup/../images/windows-gui-optionalfeatures.png alt="Windows Apps Settings" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-0fd828e2c3ae4025f1abfb98e14f40c9><img src=../../en/imt/initial-setup/../images/windows-gui-optionalfeatures.png alt="Windows Apps Settings" class=lightbox-image loading=lazy></a></p><p>Here, you are presented a list of installed features. On the top, you see a button with a plus icon to &ldquo;Add a feature&rdquo;. Click it.
In the search input field, type &ldquo;OpenSSH&rdquo;, and find a feature called &ldquo;OpenSSH Client&rdquo;, or respectively, &ldquo;OpenSSH Client (Beta)&rdquo;, click on it, and click the &ldquo;Install&rdquo;-button.</p><p><a href=#image-cf43b53ae98ada761840441f0a20e1af class=lightbox-link><img src=../../en/imt/initial-setup/../images/windows-enable-openssh-client.png alt="Windows Enable OpenSSH Client" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-cf43b53ae98ada761840441f0a20e1af><img src=../../en/imt/initial-setup/../images/windows-enable-openssh-client.png alt="Windows Enable OpenSSH Client" class=lightbox-image loading=lazy></a></p><p>Now you are set! In case you are not able to access the provided instance in spite of enabling the OpenSSH feature, please do not shy away from reaching
out to the course instructor, either via chat or directly.</p><p>At this point you are ready to continue and <a href=../../en/imt/initial-setup/../gdi/>start the workshop</a></p><hr><h2 id=4-putty-for-windows-versions-prior-to-windows-10>4. Putty (For Windows Versions prior to Windows 10)</h2><p>If you do not have ssh preinstalled or if you are on a Windows system, the best option is to install putty, you can find <a href=https://www.putty.org/ target=_blank>here.</a></p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Important</div><div class=box-content><p>If you <strong>cannot</strong> install Putty, please go to <a href=#4-web-browser-all>Web Browser (All)</a>.</p></div></div><p>Open Putty and enter the in <strong>Host Name (or IP address)</strong> field the IP address provided in the Google Sheet.</p><p>You can optionally save your settings by providing a name and pressing <strong>Save</strong>.</p><p><a href=#image-800a6351b60a180490ca9a67f555c406 class=lightbox-link><img src=../../en/imt/initial-setup/../images//putty-settings.png alt=putty-2 style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-800a6351b60a180490ca9a67f555c406><img src=../../en/imt/initial-setup/../images//putty-settings.png alt=putty-2 class=lightbox-image loading=lazy></a></p><p>To then login to your instance click on the <strong>Open</strong> button as shown above.</p><p>If this is the first time connecting to your AWS/EC2 workshop instance, you will be presented with a security dialog, please click <strong>Yes</strong>.</p><p><a href=#image-16f0e277493ec6ebd5d24bba349e25cd class=lightbox-link><img src=../../en/imt/initial-setup/../images//putty-security.png alt=putty-3 style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-16f0e277493ec6ebd5d24bba349e25cd><img src=../../en/imt/initial-setup/../images//putty-security.png alt=putty-3 class=lightbox-image loading=lazy></a></p><p>Once connected, login in as <strong>ubuntu</strong> and the password is the one provided in the Google Sheet.</p><p>Once you are connected successfully you should see a screen similar to the one below:</p><p><a href=#image-c711215adcc985cdf6ce8a17758fca8e class=lightbox-link><img src=../../en/imt/initial-setup/../images//putty-loggedin.png alt=putty-4 style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-c711215adcc985cdf6ce8a17758fca8e><img src=../../en/imt/initial-setup/../images//putty-loggedin.png alt=putty-4 class=lightbox-image loading=lazy></a></p><p>At this point you are ready to continue and <a href=../../en/imt/initial-setup/../gdi/>start the workshop</a></p><hr><h2 id=5-web-browser-all>5. Web Browser (All)</h2><p>If you are blocked from using SSH (Port 22) or unable to install Putty you may be able to connect to the workshop instance by using a web browser.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Note</div><div class=box-content><p>This assumes that access to port 6501 is not restricted by your company&rsquo;s firewall.</p></div></div><p>Open your web browser and type <strong><a href=http://x.x.x.x:6501 target=_blank>http://x.x.x.x:6501</a></strong> (where X.X.X.X is the IP address from the Google Sheet).</p><p><a href=#image-fd4ad56c6538b98117ebe75b7135125d class=lightbox-link><img src=../../en/imt/initial-setup/../images//shellinabox-url.png alt=http-6501 style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-fd4ad56c6538b98117ebe75b7135125d><img src=../../en/imt/initial-setup/../images//shellinabox-url.png alt=http-6501 class=lightbox-image loading=lazy></a></p><p>Once connected, login in as <strong>ubuntu</strong> and the password is the one provided in the Google Sheet.</p><p><a href=#image-76fcdf90c98e589f3783b3e87262455b class=lightbox-link><img src=../../en/imt/initial-setup/../images//shellinabox-connect.png alt=http-connect style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-76fcdf90c98e589f3783b3e87262455b><img src=../../en/imt/initial-setup/../images//shellinabox-connect.png alt=http-connect class=lightbox-image loading=lazy></a></p><p>Once you are connected successfully you should see a screen similar to the one below:</p><p><a href=#image-0dab6e41fa459e47d21034ffdb9c90f6 class=lightbox-link><img src=../../en/imt/initial-setup/../images//shellinabox-login.png alt="web login" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-0dab6e41fa459e47d21034ffdb9c90f6><img src=../../en/imt/initial-setup/../images//shellinabox-login.png alt="web login" class=lightbox-image loading=lazy></a></p><p>Unlike when you are using regular SSH, <em>copy and paste</em> does require a few extra steps to complete when using a browser session. This is due to cross browser restrictions.</p><p>When the workshop ask you to copy instructions into your terminal, please do the following:</p><p><em>Copy the instruction as normal, but when ready to paste it in the web terminal, choose <strong>Paste from browser</strong> as show below:</em></p><p><a href=#image-54dc975f9f76b34c7aa899344228d381 class=lightbox-link><img src=../../en/imt/initial-setup/../images//shellinabox-paste-browser.png alt="web paste 1" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-54dc975f9f76b34c7aa899344228d381><img src=../../en/imt/initial-setup/../images//shellinabox-paste-browser.png alt="web paste 1" class=lightbox-image loading=lazy></a></p><p>This will open a dialog box asking for the text to be pasted into the web terminal:</p><p><a href=#image-5ad10032442edc4d8ee833b27966dea1 class=lightbox-link><img src=../../en/imt/initial-setup/../images//shellinabox-example-1.png alt="web paste 3" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-5ad10032442edc4d8ee833b27966dea1><img src=../../en/imt/initial-setup/../images//shellinabox-example-1.png alt="web paste 3" class=lightbox-image loading=lazy></a></p><p>Paste the text in the text box as show, then press <strong>OK</strong> to complete the copy and paste process.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Note</div><div class=box-content><p>Unlike regular SSH connection, the web browser has a 60 second time out, and you will be disconnected, and a <strong>Connect</strong> button will be shown in the center of the web terminal.</p><p>Simply click the <strong>Connect</strong> button and you will be reconnected and will be able to continue.</p></div></div><p><a href=#image-42f43789e82863a561dd9a733fd1239c class=lightbox-link><img src=../../en/imt/initial-setup/../images//shellinabox-reconnect.png alt="web reconnect" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-42f43789e82863a561dd9a733fd1239c><img src=../../en/imt/initial-setup/../images//shellinabox-reconnect.png alt="web reconnect" class=lightbox-image loading=lazy></a></p><p>At this point you are ready to continue and <a href=../../en/imt/initial-setup/../gdi/>start the workshop</a>.</p><hr><h2 id=6-multipass-all>6. Multipass (All)</h2><p>If you are unable to access AWS, but you want to install software locally, follow the instructions for <a href=https://github.com/splunk/observability-workshop/blob/main/multipass/README.md target=_blank>using Multipass</a>.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.chiark.greenend.org.uk/~sgtatham/putty/ target=_blank>Download Putty</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=deploying-the-opentelemetry-collector-in-kubernetes>Deploying the OpenTelemetry Collector in Kubernetes</h1><span class="btn cstyle transparent"><button type=button>
<i class="fa-fw fas fa-clock"></i>
15 minutes</button></span><ul><li>Use the Splunk Helm chart to install the OpenTelemetry Collector in K3s</li><li>Explore your cluster in the Kubernetes Navigator</li></ul><hr><h2 id=1-obtain-access-token>1. Obtain Access Token</h2><p>You will need to obtain your Access Token<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> from the Splunk UI. You can find the workshop Access Token by clicking <strong>&#187;</strong> bottom left and then selecting <strong>Settings ‚Üí Access Tokens</strong>.</p><p>Expand the workshop token that your host has instructed you to use e.g. <strong>O11y-Workshop-ACCESS</strong>, then click on <strong>Show Token</strong> to expose your token. Click the
<span class="btn cstyle grey"><button type=button>
Copy</button></span> button to copy to clipboard. Please do not use the <strong>Default</strong> token!</p><p><a href=#image-517bcf44e248fbc760ded7850eb5fb32 class=lightbox-link><img src=../../en/imt/gdi/../images/access-token.png alt="Access Token" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-517bcf44e248fbc760ded7850eb5fb32><img src=../../en/imt/gdi/../images/access-token.png alt="Access Token" class=lightbox-image loading=lazy></a></p><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Please do not attempt to create your own token</div><div class=box-content><p>We have created a Token specifically for this workshop with the appropriate settings for the exercises you will be performing so have allocated it both Ingest and API Permissions. Best practice in production is to only allocate a single permission to a Token such as Ingest OR API OR RUM and use multiple Tokens where required.</p></div></div><p>You will also need to obtain the name of the Realm<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> for your Splunk account. At the top of the side menu, click on your name. This will direct you to the <strong>Account Settings</strong> Page. Click the <strong>Organizations</strong>-tab. The Realm can be found at the top of the displayed information in the tab. In this example it is <code>eu0</code>.</p><p><a href=#image-42312340ee01ccb0b8369572b55978be class=lightbox-link><img src=../../en/imt/gdi/../images/account-settings.png alt="Account Settings" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-42312340ee01ccb0b8369572b55978be><img src=../../en/imt/gdi/../images/account-settings.png alt="Account Settings" class=lightbox-image loading=lazy></a></p><h2 id=2-installation-using-helm>2. Installation using Helm</h2><p>Create the <code>ACCESS_TOKEN</code> and <code>REALM</code> environment variables to use in the proceeding Helm install command. For instance, if your realm is <code>us1</code>, you would type <code>export REALM=us1</code> and for <code>eu0</code> type <code>export REALM=eu0</code>.</p><div class=tab-panel data-tab-group=b18dd82dbb457110a3f97d928a59fb2a><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Export ACCESS TOKEN" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("b18dd82dbb457110a3f97d928a59fb2a","Export ACCESS TOKEN")'><div><div class=tab-nav-hidden>Export ACCESS TOKEN</div><div class=tab-nav-text>Export ACCESS TOKEN</div></div></button></div><div class=tab-content-container><div data-tab-item="Export ACCESS TOKEN" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>ACCESS_TOKEN</span><span class=o>=</span><span class=s2>&#34;&lt;replace_with_O11y-Workshop-ACCESS_TOKEN&gt;&#34;</span></span></span></code></pre></div></div></div></div></div><div class=tab-panel data-tab-group=e46f91482372e3b3f3edd0bfb2b38e77><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Export REALM" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("e46f91482372e3b3f3edd0bfb2b38e77","Export REALM")'><div><div class=tab-nav-hidden>Export REALM</div><div class=tab-nav-text>Export REALM</div></div></button></div><div class=tab-content-container><div data-tab-item="Export REALM" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>REALM</span><span class=o>=</span><span class=s2>&#34;&lt;replace_with_REALM&gt;&#34;</span></span></span></code></pre></div></div></div></div></div><p>Install the OpenTelemetry Collector using the Splunk Helm chart. First, add the Splunk Helm chart repository to Helm and update.</p><div class=tab-panel data-tab-group=12ca074b1eaf1d99bbe0345b74e7ead2><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Helm Repo Add" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("12ca074b1eaf1d99bbe0345b74e7ead2","Helm Repo Add")'><div><div class=tab-nav-hidden>Helm Repo Add</div><div class=tab-nav-text>Helm Repo Add</div></div></button>
<button data-tab-item="Helm Repo Add Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("12ca074b1eaf1d99bbe0345b74e7ead2","Helm Repo Add Output")'><div><div class=tab-nav-hidden>Helm Repo Add Output</div><div class=tab-nav-text>Helm Repo Add Output</div></div></button></div><div class=tab-content-container><div data-tab-item="Helm Repo Add" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart <span class=o>&amp;&amp;</span> helm repo update</span></span></code></pre></div></div></div><div data-tab-item="Helm Repo Add Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
&ldquo;splunk-otel-collector-chart&rdquo; has been added to your repositories
Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
Hang tight while we grab the latest from your chart repositories&mldr;
&mldr;Successfully got an update from the &ldquo;splunk-otel-collector-chart&rdquo; chart repository
Update Complete. ‚éàHappy Helming!‚éà</p></div></div></div></div><p>Install the OpenTelemetry Collector Helm chart with the following commands, do <strong>NOT</strong> edit this:</p><div class=tab-panel data-tab-group=12212c3efd90b96689b762ad822b4255><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Helm Install" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("12212c3efd90b96689b762ad822b4255","Helm Install")'><div><div class=tab-nav-hidden>Helm Install</div><div class=tab-nav-text>Helm Install</div></div></button>
<button data-tab-item="Helm Install Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("12212c3efd90b96689b762ad822b4255","Helm Install Output")'><div><div class=tab-nav-hidden>Helm Install Output</div><div class=tab-nav-text>Helm Install Output</div></div></button>
<button data-tab-item="Install Network Explorer" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("12212c3efd90b96689b762ad822b4255","Install Network Explorer")'><div><div class=tab-nav-hidden>Install Network Explorer</div><div class=tab-nav-text>Install Network Explorer</div></div></button></div><div class=tab-content-container><div data-tab-item="Helm Install" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm install splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.realm=</span><span class=nv>$REALM</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.accessToken=</span><span class=nv>$ACCESS_TOKEN</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;clusterName=</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>-k3s-cluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.logsEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.profilingEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.infrastructureMonitoringEventsEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;environment=</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>-apm-env&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>splunk-otel-collector-chart/splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>-f ~/workshop/k3s/otel-collector.yaml</span></span></code></pre></div></div></div><div data-tab-item="Helm Install Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Using ACCESS_TOKEN={REDACTED}
</span></span><span class=line><span class=cl>Using REALM=eu0
</span></span><span class=line><span class=cl>NAME: splunk-otel-collector
</span></span><span class=line><span class=cl>LAST DEPLOYED: Fri May  7 11:19:01 2021
</span></span><span class=line><span class=cl>NAMESPACE: default
</span></span><span class=line><span class=cl>STATUS: deployed
</span></span><span class=line><span class=cl>REVISION: 1
</span></span><span class=line><span class=cl>TEST SUITE: None</span></span></code></pre></div></div></div><div data-tab-item="Install Network Explorer" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm install splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.realm=</span><span class=nv>$REALM</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.accessToken=</span><span class=nv>$ACCESS_TOKEN</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;clusterName=</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>-k3s-cluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.logsEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.infrastructureMonitoringEventsEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;networkExplorer.enabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;networkExplorer.podSecurityPolicy.enabled=false&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;agent.enabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;gateway.replicaCount=1&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;gateway.resources.limits.cpu=500m&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;gateway.resources.limits.memory=1Gi&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;clusterReceiver.enabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;environment=</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>-apm-env&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>splunk-otel-collector-chart/splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>-f ~/workshop/k3s/otel-collector.yaml</span></span></code></pre></div></div></div></div></div><p>You can monitor the progress of the deployment by running <code>kubectl get pods</code> which should typically report a new pod is up and running after about 30 seconds.</p><p>Ensure the status is reported as Running before continuing.</p><div class=tab-panel data-tab-group=d40f7d1f24270251243b991e63639c79><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Kubectl Get Pods" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("d40f7d1f24270251243b991e63639c79","Kubectl Get Pods")'><div><div class=tab-nav-hidden>Kubectl Get Pods</div><div class=tab-nav-text>Kubectl Get Pods</div></div></button>
<button data-tab-item="Kubectl Get Pods Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("d40f7d1f24270251243b991e63639c79","Kubectl Get Pods Output")'><div><div class=tab-nav-hidden>Kubectl Get Pods Output</div><div class=tab-nav-text>Kubectl Get Pods Output</div></div></button></div><div class=tab-content-container><div data-tab-item="Kubectl Get Pods" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div data-tab-item="Kubectl Get Pods Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>NAME                                                          READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>splunk-otel-collector-agent-2sk6k                             0/1     Running   0          10s
</span></span><span class=line><span class=cl>splunk-otel-collector-k8s-cluster-receiver-6956d4446f-gwnd7   0/1     Running   0          10s</span></span></code></pre></div></div></div></div></div><p>Ensure there are no errors by tailing the logs from the OpenTelemetry Collector pod. Output should look similar to the log output shown in the Output tab below.</p><p>Use the label set by the <code>helm</code> install to tail logs (You will need to press <code>ctrl+c</code> to exit). Or use the installed <code>k9s</code> terminal UI for bonus points!</p><div class=tab-panel data-tab-group=f1a1fecbba93ff39f9ec531e29342b43><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Kubectl Logs" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("f1a1fecbba93ff39f9ec531e29342b43","Kubectl Logs")'><div><div class=tab-nav-hidden>Kubectl Logs</div><div class=tab-nav-text>Kubectl Logs</div></div></button>
<button data-tab-item="Kubectl Logs Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("f1a1fecbba93ff39f9ec531e29342b43","Kubectl Logs Output")'><div><div class=tab-nav-hidden>Kubectl Logs Output</div><div class=tab-nav-text>Kubectl Logs Output</div></div></button></div><div class=tab-content-container><div data-tab-item="Kubectl Logs" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl logs -l <span class=nv>app</span><span class=o>=</span>splunk-otel-collector -f --container otel-collector</span></span></code></pre></div></div></div><div data-tab-item="Kubectl Logs Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>2021-03-21T16:11:10.900Z INFO service/service.go:364 Starting receivers&mldr;
2021-03-21T16:11:10.900Z INFO builder/receivers_builder.go:70 Receiver is starting&mldr; {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;prometheus&rdquo;, &ldquo;component_name&rdquo;: &ldquo;prometheus&rdquo;}
2021-03-21T16:11:11.009Z INFO builder/receivers_builder.go:75 Receiver started. {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;prometheus&rdquo;, &ldquo;component_name&rdquo;: &ldquo;prometheus&rdquo;}
2021-03-21T16:11:11.009Z INFO builder/receivers_builder.go:70 Receiver is starting&mldr; {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;component_name&rdquo;: &ldquo;k8s_cluster&rdquo;}
2021-03-21T16:11:11.009Z INFO <a href=mailto:k8sclusterreceiver@v0.21.0>k8sclusterreceiver@v0.21.0</a>/watcher.go:195 Configured Kubernetes MetadataExporter {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;component_name&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;exporter_name&rdquo;: &ldquo;signalfx&rdquo;}
2021-03-21T16:11:11.009Z INFO builder/receivers_builder.go:75 Receiver started. {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;component_name&rdquo;: &ldquo;k8s_cluster&rdquo;}
2021-03-21T16:11:11.009Z INFO healthcheck/handler.go:128 Health Check state change {&ldquo;component_kind&rdquo;: &ldquo;extension&rdquo;, &ldquo;component_type&rdquo;: &ldquo;health_check&rdquo;, &ldquo;component_name&rdquo;: &ldquo;health_check&rdquo;, &ldquo;status&rdquo;: &ldquo;ready&rdquo;}
2021-03-21T16:11:11.009Z INFO service/service.go:267 Everything is ready. Begin running and processing data.
2021-03-21T16:11:11.009Z INFO <a href=mailto:k8sclusterreceiver@v0.21.0>k8sclusterreceiver@v0.21.0</a>/receiver.go:59 Starting shared informers and wait for initial cache sync. {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;component_name&rdquo;: &ldquo;k8s_cluster&rdquo;}
2021-03-21T16:11:11.281Z INFO <a href=mailto:k8sclusterreceiver@v0.21.0>k8sclusterreceiver@v0.21.0</a>/receiver.go:75 Completed syncing shared informer caches. {&ldquo;component_kind&rdquo;: &ldquo;receiver&rdquo;, &ldquo;component_type&rdquo;: &ldquo;k8s_cluster&rdquo;, &ldquo;component_name&rdquo;: &ldquo;k8s_cluster&rdquo;}</p></div></div></div></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Deleting a failed installation</div><div class=box-content><p>If you make an error installing the OpenTelemetry Collector you can start over by deleting the installation using:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>helm delete splunk-otel-collector</span></span></code></pre></div></div></div><hr><h2 id=3-validate-metrics-in-the-ui>3. Validate metrics in the UI</h2><p>In the Splunk UI, click the <strong>&#187;</strong> bottom left and click on <strong>Infrastructure</strong>.</p><p><a href=#image-d4493566bc25e5212ffe58c64444b64b class=lightbox-link><img src=../../en/imt/gdi/../images/clustermap-nav.png alt="Selecting the Kubernetes Navigator Map" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-d4493566bc25e5212ffe58c64444b64b><img src=../../en/imt/gdi/../images/clustermap-nav.png alt="Selecting the Kubernetes Navigator Map" class=lightbox-image loading=lazy></a></p><p>Under <strong>Containers</strong> click on <strong>Kubernetes</strong> to open the Kubernetes Navigator Cluster Map to ensure metrics are being sent in.</p><p>Validate that your cluster is discovered and reporting by finding your cluster (in the workshop you will see many other clusters). To find your cluster name run the following command and copy the output to your clipboard:</p><div class=tab-panel data-tab-group=a027c929e80cc7ef204bfba72c902757><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Echo Cluster Name" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("a027c929e80cc7ef204bfba72c902757","Echo Cluster Name")'><div><div class=tab-nav-hidden>Echo Cluster Name</div><div class=tab-nav-text>Echo Cluster Name</div></div></button></div><div class=tab-content-container><div data-tab-item="Echo Cluster Name" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=k>$(</span>hostname<span class=k>)</span>-k3s-cluster</span></span></code></pre></div></div></div></div></div><p>Then in the UI, click on the &ldquo;Cluster: - " menu just below the Splunk Logo, and paste the Cluster name you just copied into the search box, click the box to select your cluster, and finally click off the menu into white space to apply the filter.</p><p><a href=#image-2aebc443c66177388b07de988517fbde class=lightbox-link><img src=../../en/imt/gdi/../images/search-k3s-cluster.png alt="K8S Clusters Filter" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-2aebc443c66177388b07de988517fbde><img src=../../en/imt/gdi/../images/search-k3s-cluster.png alt="K8S Clusters Filter" class=lightbox-image loading=lazy></a></p><p><a href=#image-eb9735b3ae520e5bb2ac6b04a04602c2 class=lightbox-link><img src=../../en/imt/gdi/../images/selecting-k3s-cluster.png alt="Select K8S Cluster" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-eb9735b3ae520e5bb2ac6b04a04602c2><img src=../../en/imt/gdi/../images/selecting-k3s-cluster.png alt="Select K8S Cluster" class=lightbox-image loading=lazy></a></p><p><a href=#image-5bee4ccec88b344414acef33a7711356 class=lightbox-link><img src=../../en/imt/gdi/../images/filtered-k3s-cluster.png alt="Filtered K8S Cluster" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-5bee4ccec88b344414acef33a7711356><img src=../../en/imt/gdi/../images/filtered-k3s-cluster.png alt="Filtered K8S Cluster" class=lightbox-image loading=lazy></a></p><p>To examine the health of your node, hover over the pale blue background of your cluster, then click on the blue magnifying glass
<a href=#image-9df128b0ddb7e76217aeb3fafd0f37f7 class=lightbox-link><img src="../../en/imt/gdi/../images/blue-cross.png?classes=inline&height=25px" alt="Magnifying Glass" class=inline style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-9df128b0ddb7e76217aeb3fafd0f37f7><img src="../../en/imt/gdi/../images/blue-cross.png?classes=inline&height=25px" alt="Magnifying Glass" class=lightbox-image loading=lazy></a> that appears in the top left hand corner.</p><p>This will drill down to the node level. Next, open the side bar by clicking on the side bar button to open the Metrics side bar.</p><p>Once it is open, you can use the slider on the side to explore the various charts relevant to your cluster/node: CPU, Memory, Network, Events etc.</p><p><a href=#image-06395a55659895b9053a5f6992cc7be5 class=lightbox-link><img src=../../en/imt/gdi/../images/explore-metrics.png alt="Sidebar metrics" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-06395a55659895b9053a5f6992cc7be5><img src=../../en/imt/gdi/../images/explore-metrics.png alt="Sidebar metrics" class=lightbox-image loading=lazy></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Access Tokens (sometimes called Org Tokens) are long-lived organization-level tokens. By default, these tokens persist for 5 years, and thus are suitable for embedding into emitters that send data points over long periods of time, or for any long-running scripts that call the Splunk API.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>A realm is a self-contained deployment of Splunk in which your Organization is hosted. Different realms have different API endpoints (e.g. the endpoint for sending data is <code>ingest.us1.signalfx.com</code> for the <strong><code>us1</code></strong> realm, and <code>ingest.eu0.signalfx.com</code> for the <strong><code>eu0</code></strong> realm). This realm name is shown on your profile page in the Splunk UI. If you do not include the realm name when specifying an endpoint, Splunk will interpret it as pointing to the <strong><code>us0</code></strong> realm.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Deploying the OpenTelemetry Collector in Kubernetes</h1><article class=default><header class=headline></header><h1 id=deploying-nginx-in-k3s>Deploying NGINX in K3s</h1><ul><li>Deploy a NGINX ReplicaSet into your K3s cluster and confirm the discovery of your NGINX deployment.</li><li>Run a load test to create metrics and confirm them streaming into Splunk Observability Cloud!</li></ul><hr><h2 id=1-start-your-nginx>1. Start your NGINX</h2><p>Verify the number of pods running in the Splunk UI by selecting the <strong>WORKLOADS</strong> tab. This should give you an overview of the workloads on your cluster.</p><p><a href=#image-61191104d7889f7a481bb6ddd5bb2713 class=lightbox-link><img src=../../en/imt/gdi/nginx/../../images/k8s-workloads.png alt="Workload Agent" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-61191104d7889f7a481bb6ddd5bb2713><img src=../../en/imt/gdi/nginx/../../images/k8s-workloads.png alt="Workload Agent" class=lightbox-image loading=lazy></a></p><p>Note the single agent container running per node among the default Kubernetes pods. This single container will monitor all the pods and services being deployed on this node!</p><p>Now switch back to the default cluster node view by selecting the <strong>MAP</strong> tab and select your cluster again.</p><p>In your AWS/EC2 or Multipass shell session change into the <code>nginx</code> directory:</p><div class=tab-panel data-tab-group=d30743e6d2f752f0ca123a549a951df9><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Change Directory" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("d30743e6d2f752f0ca123a549a951df9","Change Directory")'><div><div class=tab-nav-hidden>Change Directory</div><div class=tab-nav-text>Change Directory</div></div></button></div><div class=tab-content-container><div data-tab-item="Change Directory" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~/workshop/k3s/nginx</span></span></code></pre></div></div></div></div></div><hr><h2 id=2-create-nginx-deployment>2. Create NGINX deployment</h2><p>Create the NGINX ConfigMap<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> using the <code>nginx.conf</code> file:</p><div class=tab-panel data-tab-group=fec142214e6954134b4d917b5a192fb7><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Kubectl Configmap Create" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("fec142214e6954134b4d917b5a192fb7","Kubectl Configmap Create")'><div><div class=tab-nav-hidden>Kubectl Configmap Create</div><div class=tab-nav-text>Kubectl Configmap Create</div></div></button>
<button data-tab-item="Kubectl Create Configmap Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("fec142214e6954134b4d917b5a192fb7","Kubectl Create Configmap Output")'><div><div class=tab-nav-hidden>Kubectl Create Configmap Output</div><div class=tab-nav-text>Kubectl Create Configmap Output</div></div></button></div><div class=tab-content-container><div data-tab-item="Kubectl Configmap Create" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create configmap nginxconfig --from-file<span class=o>=</span>nginx.conf</span></span></code></pre></div></div></div><div data-tab-item="Kubectl Create Configmap Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>configmap/nginxconfig created</p></div></div></div></div><p>Then create the deployment:</p><div class=tab-panel data-tab-group=7ccac64f7abaf6371e835467e5f2fa94><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Kubectl Create Deployment" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("7ccac64f7abaf6371e835467e5f2fa94","Kubectl Create Deployment")'><div><div class=tab-nav-hidden>Kubectl Create Deployment</div><div class=tab-nav-text>Kubectl Create Deployment</div></div></button>
<button data-tab-item="Kubectl Create Deployment Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("7ccac64f7abaf6371e835467e5f2fa94","Kubectl Create Deployment Output")'><div><div class=tab-nav-hidden>Kubectl Create Deployment Output</div><div class=tab-nav-text>Kubectl Create Deployment Output</div></div></button></div><div class=tab-content-container><div data-tab-item="Kubectl Create Deployment" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create -f nginx-deployment.yaml</span></span></code></pre></div></div></div><div data-tab-item="Kubectl Create Deployment Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>deployment.apps/nginx created
service/nginx created</p></div></div></div></div><p>Next we will deploy Locust<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> which is an open source tool used for creating a load test against NGINX:</p><div class=tab-panel data-tab-group=3db53b455898c0570d96896176f8567e><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Kubectl Create Deployment" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("3db53b455898c0570d96896176f8567e","Kubectl Create Deployment")'><div><div class=tab-nav-hidden>Kubectl Create Deployment</div><div class=tab-nav-text>Kubectl Create Deployment</div></div></button>
<button data-tab-item="Kubectl Create Deployment Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("3db53b455898c0570d96896176f8567e","Kubectl Create Deployment Output")'><div><div class=tab-nav-hidden>Kubectl Create Deployment Output</div><div class=tab-nav-text>Kubectl Create Deployment Output</div></div></button></div><div class=tab-content-container><div data-tab-item="Kubectl Create Deployment" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create -f locust-deployment.yaml</span></span></code></pre></div></div></div><div data-tab-item="Kubectl Create Deployment Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>deployment.apps/nginx-loadgenerator created
service/nginx-loadgenerator created</p></div></div></div></div><p>Validate the deployment has been successful and that the Locust and NGINX pods are running.</p><p>If you have the Splunk UI open you should see new Pods being started and containers being deployed.</p><p>It should only take around 20 seconds for the pods to transition into a Running state. In the Splunk UI you will have a cluster that looks like below:</p><p><a href=#image-bb9d82f3948296e299d6ab809ddf5d46 class=lightbox-link><img src=../../en/imt/gdi/nginx/../../images/cluster.png alt="back to Cluster" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-bb9d82f3948296e299d6ab809ddf5d46><img src=../../en/imt/gdi/nginx/../../images/cluster.png alt="back to Cluster" class=lightbox-image loading=lazy></a></p><p>If you select the <strong>WORKLOADS</strong> tab again you will now see that there is a new ReplicaSet and a deployment added for NGINX:</p><p><a href=#image-b6247a01e32e8c52e02125b9d61b5410 class=lightbox-link><img src=../../en/imt/gdi/nginx/../../images/k8s-workloads-nginx.png alt="NGINX loaded" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-b6247a01e32e8c52e02125b9d61b5410><img src=../../en/imt/gdi/nginx/../../images/k8s-workloads-nginx.png alt="NGINX loaded" class=lightbox-image loading=lazy></a></p><hr><p>Let&rsquo;s validate this in your shell as well:</p><div class=tab-panel data-tab-group=a31683f00317e5416856782e78c3effa><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Kubectl Get Pods" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("a31683f00317e5416856782e78c3effa","Kubectl Get Pods")'><div><div class=tab-nav-hidden>Kubectl Get Pods</div><div class=tab-nav-text>Kubectl Get Pods</div></div></button>
<button data-tab-item="Kubectl Get Pods Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("a31683f00317e5416856782e78c3effa","Kubectl Get Pods Output")'><div><div class=tab-nav-hidden>Kubectl Get Pods Output</div><div class=tab-nav-text>Kubectl Get Pods Output</div></div></button></div><div class=tab-content-container><div data-tab-item="Kubectl Get Pods" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div data-tab-item="Kubectl Get Pods Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>NAME READY STATUS RESTARTS AGE
splunk-otel-collector-k8s-cluster-receiver-77784c659c-ttmpk 1/1 Running 0 9m19s
splunk-otel-collector-agent-249rd 1/1 Running 0 9m19s
svclb-nginx-vtnzg 1/1 Running 0 5m57s
nginx-7b95fb6b6b-7sb9x 1/1 Running 0 5m57s
nginx-7b95fb6b6b-lnzsq 1/1 Running 0 5m57s
nginx-7b95fb6b6b-hlx27 1/1 Running 0 5m57s
nginx-7b95fb6b6b-zwns9 1/1 Running 0 5m57s
svclb-nginx-loadgenerator-nscx4 1/1 Running 0 2m20s
nginx-loadgenerator-755c8f7ff6-x957q 1/1 Running 0 2m20s</p></div></div></div></div><hr><h2 id=3-run-locust-load-test>3. Run Locust load test</h2><p>Locust, an open source load generator, is available on port 8080 of the EC2 instance&rsquo;s IP address. Open a new tab in your web browser and go to <code>http://{==EC2-IP==}:8080/</code>, you will then be able to see the Locust running.</p><p><a href=#image-6530bc0f5a3d08f9c5cb3ec17fdfd83e class=lightbox-link><img src=../../en/imt/gdi/nginx/../../images/nginx-locust.png alt=Locust style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-6530bc0f5a3d08f9c5cb3ec17fdfd83e><img src=../../en/imt/gdi/nginx/../../images/nginx-locust.png alt=Locust class=lightbox-image loading=lazy></a></p><p>Set the <strong>Spawn rate</strong> to be 2 and click <strong>Start Swarming</strong>.</p><p><a href=#image-7dd1fd9b143f6d2ade210dfbcfe224fc class=lightbox-link><img src=../../en/imt/gdi/nginx/../../images/nginx-locust-spawn-rate.png alt="Locust Spawn Rate" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-7dd1fd9b143f6d2ade210dfbcfe224fc><img src=../../en/imt/gdi/nginx/../../images/nginx-locust-spawn-rate.png alt="Locust Spawn Rate" class=lightbox-image loading=lazy></a></p><p>This will start a gentle continuous load on the application.</p><p><a href=#image-cc24f2769fd45d6d119b3b920468bc22 class=lightbox-link><img src=../../en/imt/gdi/nginx/../../images/nginx-locust-statistics.png alt="Locust Statistics" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-cc24f2769fd45d6d119b3b920468bc22><img src=../../en/imt/gdi/nginx/../../images/nginx-locust-statistics.png alt="Locust Statistics" class=lightbox-image loading=lazy></a></p><p>As you can see from the above screenshot, most of the calls will report a fail, this is expected, as we have not yet deployed the application behind it, however NGINX is reporting on your attempts and you should be able to see those metrics.</p><p>Validate you are seeing those metrics in the UI by selecting <strong>Dashboards ‚Üí Built-in Dashboard Groups ‚Üí NGINX ‚Üí NGINX Servers</strong>. Using the <strong>Overrides</strong> filter on <code>k8s.cluster.name:</code>, find the name of your cluster as returned by <code>echo $(hostname)-k3s-cluster</code> in the terminal.</p><p><a href=#image-8cb6bd28fbd36a8b36cc6216fccca0bf class=lightbox-link><img src=../../en/imt/gdi/nginx/../../images/nginx-dashboard.png alt="NGINX Dashboard" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-8cb6bd28fbd36a8b36cc6216fccca0bf><img src=../../en/imt/gdi/nginx/../../images/nginx-dashboard.png alt="NGINX Dashboard" class=lightbox-image loading=lazy></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>A ConfigMap is an API object used to store non-confidential data in key-value pairs. Pods can consume ConfigMaps as environment variables, command-line arguments, or as configuration files in a volume. A ConfigMap allows you to decouple environment-specific configuration from your container images, so that your applications are easily portable.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://locust.io/ target=_blank>What is Locust?</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline></footer></article></section><article class=default><header class=headline></header><h1 id=working-with-dashboards>Working with Dashboards</h1><span class="btn cstyle transparent"><button type=button>
<i class="fa-fw fas fa-clock"></i>
20 minutes</button></span><ul><li>Introduction to the Dashboards and charts</li><li>Editing and creating charts</li><li>Filtering and analytical functions</li><li>Using formulas</li><li>Saving charts in a dashboard</li><li>Introduction to SignalFlow</li></ul><hr><h2 id=1-dashboards>1. Dashboards</h2><p>Dashboards are groupings of charts and visualizations of metrics. Well-designed dashboards can provide useful and actionable insight into your system at a glance. Dashboards can be complex or contain just a few charts that drill down only into the data you want to see.</p><p>During this module we are going to create the following charts and dashboard and connect it to your Team page.</p><p><a href=#image-13ab5ec8315591ed9766d1b3f71e9a35 class=lightbox-link><img src=../../en/imt/dashboards/../images/example-dashboard.png alt="Example Dashboard" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-13ab5ec8315591ed9766d1b3f71e9a35><img src=../../en/imt/dashboards/../images/example-dashboard.png alt="Example Dashboard" class=lightbox-image loading=lazy></a></p><hr><h2 id=2-your-teams-page>2. Your Teams&rsquo; Page</h2><p>Click on the
<a href=#image-cdcc2f4d8832ca4427036f4514be6646 class=lightbox-link><img src="../../en/imt/dashboards/../images/dashboards.png?classes=inline&height=25px" alt="dashboards button" class=inline style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-cdcc2f4d8832ca4427036f4514be6646><img src="../../en/imt/dashboards/../images/dashboards.png?classes=inline&height=25px" alt="dashboards button" class=lightbox-image loading=lazy></a> from the navbar. As you have already been assigned to a team, you will land on the team dashboard. We use the <em><strong>Example Team</strong></em> as an example here. The one in your workshop will be different!</p><p><a href=#image-e3909b7086272fbf834d08e8b3eecca0 class=lightbox-link><img src=../../en/imt/dashboards/../images/team-dashboard.png alt="Team Dashboard1" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-e3909b7086272fbf834d08e8b3eecca0><img src=../../en/imt/dashboards/../images/team-dashboard.png alt="Team Dashboard1" class=lightbox-image loading=lazy></a></p><p>This page shows the total number of team members, how many active alerts for your team and all dashboards that are assigned to your team. Right now they are no dashboards assigned but as stated before, we will add the new dashboard that you will create to your Teams page later.</p><hr><h2 id=3-sample-charts>3. Sample Charts</h2><p>To continue, click on <strong>All Dashboards</strong> on the top right corner of the screen.
This brings you to the view that shows all the available dashboards, including the pre-built ones.</p><p><a href=#image-dfb877b98adee35794123a5c685caf7f class=lightbox-link><img src=../../en/imt/dashboards/../images/sample-data.png alt="Sample Data" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-dfb877b98adee35794123a5c685caf7f><img src=../../en/imt/dashboards/../images/sample-data.png alt="Sample Data" class=lightbox-image loading=lazy></a></p><p>If you are already receiving metrics from a Cloud API integration or another service through the Splunk Agent you will see relevant dashboards for these services.</p><hr><h2 id=4-inspecting-the-sample-data>4. Inspecting the Sample Data</h2><p>Among the dashboards you will see a Dashboard group called <strong>Sample Data</strong>. Expand the <strong>Sample Data</strong> dashboard group by clicking on it, and then click on the <strong>Sample Charts</strong> dashboard.</p><p>In the Sample Charts dashboard you can see a selection of charts that show a sample of the various styles, colors and formats you can apply to your charts in the dashboards.</p><p>Have a look through all the dashboards in this dashboard group (<strong>PART 1</strong>, <strong>PART 2</strong>, <strong>PART 3</strong> and <strong>INTRO TO SPLUNK OBSERVABILITY CLOUD</strong>)</p><p><a href=#image-238128d0a14a74a88933508f7ab29a07 class=lightbox-link><img src=../../en/imt/dashboards/../images/sample-charts.png alt="Sample Charts" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-238128d0a14a74a88933508f7ab29a07><img src=../../en/imt/dashboards/../images/sample-charts.png alt="Sample Charts" class=lightbox-image loading=lazy></a></p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Working with Dashboards</h1><article class=default><header class=headline></header><h1 id=editing-charts>Editing charts</h1><h2 id=1-editing-a-chart>1. Editing a chart</h2><p>Select the <strong>SAMPLE CHARTS</strong> dashboard and then click on the three dots <strong><code>...</code></strong> on the <strong>Latency histogram</strong> chart, then on <strong>Open</strong> (or you can click on the name of the chart which here is <strong>Latency histogram</strong>).</p><p><a href=#image-8b78703b5fcc94d3432ddadac607e7a1 class=lightbox-link><img src=../../en/imt/dashboards/editing/../../images/latency-histogram-open.png alt="Sample Charts" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-8b78703b5fcc94d3432ddadac607e7a1><img src=../../en/imt/dashboards/editing/../../images/latency-histogram-open.png alt="Sample Charts" class=lightbox-image loading=lazy></a></p><p>You will see the plot options, current plot and signal (metric) for the <strong>Latency histogram</strong> chart in the chart editor UI.</p><p><a href=#image-6f059d3c8605bf14259f1504852e77d0 class=lightbox-link><img src=../../en/imt/dashboards/editing/../../images/latency-histogram.png alt="Latency Histogram" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-6f059d3c8605bf14259f1504852e77d0><img src=../../en/imt/dashboards/editing/../../images/latency-histogram.png alt="Latency Histogram" class=lightbox-image loading=lazy></a></p><p>In the <strong>Plot Editor</strong> tab under <strong>Signal</strong> you see the metric <strong><code>demo.trans.latency</code></strong> we are currently plotting.</p><p><a href=#image-7fc7f1704a1b6525bb0378de4ec2ded7 class=lightbox-link><img src=../../en/imt/dashboards/editing/../../images/plot-editor.png alt="Plot Editor" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-7fc7f1704a1b6525bb0378de4ec2ded7><img src=../../en/imt/dashboards/editing/../../images/plot-editor.png alt="Plot Editor" class=lightbox-image loading=lazy></a></p><p>You will see a number of <strong>Line</strong> plots. The number <strong><code>18 ts</code></strong> indicates that we are plotting 18 metric time series in the chart.</p><p>Click on the different chart type icons to explore each of the visualizations. Notice their name while you swipe over them. For example, click on the Heat Map icon:</p><p><a href=#image-0fce3a388b4da1592cfd7cb9edf1998f class=lightbox-link><img src=../../en/imt/dashboards/editing/../../images/M-Editing-2.png alt="Chart Types" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-0fce3a388b4da1592cfd7cb9edf1998f><img src=../../en/imt/dashboards/editing/../../images/M-Editing-2.png alt="Chart Types" class=lightbox-image loading=lazy></a></p><p>See how the chart changes to a heat map.</p><p><a href=#image-e2b75fce1c439102361f6078c8d82a04 class=lightbox-link><img src=../../en/imt/dashboards/editing/../../images/change-to-heatmap.png alt="Change to Heatmap" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-e2b75fce1c439102361f6078c8d82a04><img src=../../en/imt/dashboards/editing/../../images/change-to-heatmap.png alt="Change to Heatmap" class=lightbox-image loading=lazy></a></p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Note</div><div class=box-content><p>You can use different charts to visualize your metrics - you choose which chart type fits best for the visualization you want to have.</p><p>For more info on the different chart types see <a href=https://docs.splunk.com/Observability/data-visualization/charts/chart-types.html#chart-types target=_blank>Choosing a chart type.</a></p></div></div><p>Click on the <strong>Line</strong> chart type and you will see the line plot.</p><p><a href=#image-128e5eb07b52c47ccbed44cdbd96b549 class=lightbox-link><img src=../../en/imt/dashboards/editing/../../images/M-Editing-3b.png alt="Line Chart" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-128e5eb07b52c47ccbed44cdbd96b549><img src=../../en/imt/dashboards/editing/../../images/M-Editing-3b.png alt="Line Chart" class=lightbox-image loading=lazy></a></p><h2 id=2-changing-the-time-window>2. Changing the time window</h2><p>You can also increase the time window of the chart by changing the time to <strong>Past 15 minutes</strong> by selecting from the <strong>Time</strong> dropdown.</p><p><a href=#image-80a3f797cb2357a831c32a20bdf96e20 class=lightbox-link><img src=../../en/imt/dashboards/editing/../../images/line-chart.png alt="Line Chart" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-80a3f797cb2357a831c32a20bdf96e20><img src=../../en/imt/dashboards/editing/../../images/line-chart.png alt="Line Chart" class=lightbox-image loading=lazy></a></p><h2 id=3-viewing-the-data-table>3. Viewing the Data Table</h2><p>Click on the <strong>Data Table</strong> tab.</p><p><a href=#image-5eb77487b30901b7fa974eacc1ce4c21 class=lightbox-link><img src=../../en/imt/dashboards/editing/../../images/data-table.png alt="Data Table" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-5eb77487b30901b7fa974eacc1ce4c21><img src=../../en/imt/dashboards/editing/../../images/data-table.png alt="Data Table" class=lightbox-image loading=lazy></a></p><p>You now see 18 rows, each representing a metric time series with a number of columns. These columns represent the dimensions of the metric. The dimensions for <code>demo.trans.latency</code> are:</p><ul><li><code>demo_datacenter</code></li><li><code>demo_customer</code></li><li><code>demo_host</code></li></ul><p>In the <strong><code>demo_datacenter</code></strong> column you see that there are two data centers, <strong>Paris</strong> and <strong>Tokyo</strong>, for which we are getting metrics.</p><p>If you move your cursor over the lines in the chart horizontally you will see the data table update accordingly. If you click on one of the lines in the chart you will see a pinned value appear in the data table.</p><hr><p>Now click on <strong>Plot editor</strong> again to close the Data Table and let&rsquo;s save this chart into a dashboard for later use!</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=saving-charts>Saving charts</h1><h2 id=1-saving-a-chart>1. Saving a chart</h2><p>To start saving your chart, lets give it a name and description. Click the name of the chart <strong>Copy of Latency Histogram</strong> and rename it to <strong>&ldquo;Active Latency&rdquo;</strong>.</p><p>To change the description click on <strong>Spread of latency values across time.</strong> and change this to <strong>Overview of latency values in real-time.</strong></p><p><a href=#image-5bbde6d462fdc2b1564eb8375b20edef class=lightbox-link><img src=../../en/imt/dashboards/savingcharts/../../images/save-chart.png alt="Save Chart" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-5bbde6d462fdc2b1564eb8375b20edef><img src=../../en/imt/dashboards/savingcharts/../../images/save-chart.png alt="Save Chart" class=lightbox-image loading=lazy></a></p><p>Click the
<span class="btn cstyle blue"><button type=button>
Save As</button></span> button. Make sure your chart has a name, it will use the name <strong>Active Latency</strong> the you defined in the previous step, but you can edit it here if needed.</p><p>Press the
<span class="btn cstyle blue"><button type=button>
Ok</button></span>
button to continue.</p><p><a href=#image-aba9fd9b71f18869cf3a8f1af1264a61 class=lightbox-link><img src=../../en/imt/dashboards/savingcharts/../../images/name-chart.png alt="Name Chart" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-aba9fd9b71f18869cf3a8f1af1264a61><img src=../../en/imt/dashboards/savingcharts/../../images/name-chart.png alt="Name Chart" class=lightbox-image loading=lazy></a></p><h2 id=2-creating-a-dashboard>2. Creating a dashboard</h2><p>In the <strong>Choose dashboard</strong> dialog, we need to create a new dashboard, click on the
<span class="btn cstyle blue"><button type=button>
New Dashboard</button></span>
button.</p><p><a href=#image-578db9f7658c60e7ca214faae73bd16b class=lightbox-link><img src=../../en/imt/dashboards/savingcharts/../../images/create-dashboard.png alt="Create Dashboard" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-578db9f7658c60e7ca214faae73bd16b><img src=../../en/imt/dashboards/savingcharts/../../images/create-dashboard.png alt="Create Dashboard" class=lightbox-image loading=lazy></a></p><p>You will now see the <strong>New Dashboard</strong> Dialog. In here you can give you dashboard a name and description, and set <strong>Read and Write Permissions</strong>.</p><p>Please use your own name in the following format to give your dashboard a name e.g. <strong>YOUR_NAME-Dashboard</strong>.</p><p>Please replace <strong>YOUR_NAME</strong> with your own name, change the dashboard permissions to <em>Restricted Read and Write access</em>, and verify your user can read/write.</p><p><a href=#image-b0a336133781ffafd2151b6ab336210c class=lightbox-link><img src=../../en/imt/dashboards/savingcharts/../../images/name-dashboard.png alt="Name Dashboard" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-b0a336133781ffafd2151b6ab336210c><img src=../../en/imt/dashboards/savingcharts/../../images/name-dashboard.png alt="Name Dashboard" class=lightbox-image loading=lazy></a></p><p>You should see you own login information displayed, meaning you are now the only one who can edit this dashboard. Of course you have the option to add other users or teams from the drop box below that may edit your dashboard and charts, but for now make sure you change it back to <em>Everyone can Read or Write</em> to remove any restrictions and press the
<span class="btn cstyle blue"><button type=button>
Save</button></span>
Button to continue.</p><p>Your new dashboard is now available and selected so you can save your chart in your new dashboard.</p><p><a href=#image-0efa46f838c3006baa80c8d96d037a4f class=lightbox-link><img src=../../en/imt/dashboards/savingcharts/../../images/choose-dashboard.png alt="Choose Dashboard" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-0efa46f838c3006baa80c8d96d037a4f><img src=../../en/imt/dashboards/savingcharts/../../images/choose-dashboard.png alt="Choose Dashboard" class=lightbox-image loading=lazy></a></p><p>Make sure you have your dashboard selected and press the
<span class="btn cstyle blue"><button type=button>
Ok</button></span> button.</p><p>You will now be taken to your dashboard like below. You can see at the top left that your <strong>YOUR_NAME-DASHBOARD</strong> is part of a Dashboard Group <strong>YOUR_NAME-Dashboard</strong>. You can add other dashboards to this dashboard group.</p><p><a href=#image-a6943f37614efb73d89259de83fbc5d7 class=lightbox-link><img src=../../en/imt/dashboards/savingcharts/../../images/new-dashboard-group.png alt="New Dashboard Group" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-a6943f37614efb73d89259de83fbc5d7><img src=../../en/imt/dashboards/savingcharts/../../images/new-dashboard-group.png alt="New Dashboard Group" class=lightbox-image loading=lazy></a></p><hr><h2 id=3-add-to-team-page>3. Add to Team page</h2><p>It is common practice to link dashboards that are relevant to a Team to a teams page. So let&rsquo;s add your dashboard to the team page for easy access later. Use the
<a href=#image-e3b4f870929d511cc3c88ec6fd83867a class=lightbox-link><img src="../../en/imt/dashboards/savingcharts/../../images/dashboards.png?classes=inline&height=25px" alt="dashboards button" class=inline style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-e3b4f870929d511cc3c88ec6fd83867a><img src="../../en/imt/dashboards/savingcharts/../../images/dashboards.png?classes=inline&height=25px" alt="dashboards button" class=lightbox-image loading=lazy></a> from the navbar again.</p><p>This will bring you to your teams dashboard, We use the team <em><strong>Example Team</strong></em> as an example here, the workshop one will be different.</p><p><a href=#image-9820e859f63d588dddca8b52897a3876 class=lightbox-link><img src=../../en/imt/dashboards/savingcharts/../../images/team-dashboard.png alt="Team Dashboard" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-9820e859f63d588dddca8b52897a3876><img src=../../en/imt/dashboards/savingcharts/../../images/team-dashboard.png alt="Team Dashboard" class=lightbox-image loading=lazy></a></p><p>Press the
<span class="btn cstyle white"><button type=button>
+</button></span> <em>Add Dashboard Group</em> button to add you dashboard to the team page.</p><p>This will bring you to the <strong>Select a dashboard group to link to this team</strong> dialog.
Type your name (that you used above) in the search box to find your Dashboard. Select it so its highlighted and click the <strong>Ok</strong> button to add your dashboard.</p><p><a href=#image-dae2890d030f5f455d9b7e63849809b6 class=lightbox-link><img src=../../en/imt/dashboards/savingcharts/../../images/select-dashboard-group.png alt="Select Dashboard Group" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-dae2890d030f5f455d9b7e63849809b6><img src=../../en/imt/dashboards/savingcharts/../../images/select-dashboard-group.png alt="Select Dashboard Group" class=lightbox-image loading=lazy></a></p><p>Your dashboard group will appear as part of the team page. Please note during the course of the workshop many more will appear here.</p><p><a href=#image-96b38f1780febf4800e0228071fd520d class=lightbox-link><img src=../../en/imt/dashboards/savingcharts/../../images/new-team-dashboard.png alt="New Team Dashboard" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-96b38f1780febf4800e0228071fd520d><img src=../../en/imt/dashboards/savingcharts/../../images/new-team-dashboard.png alt="New Team Dashboard" class=lightbox-image loading=lazy></a></p><hr><p>Now click on the link for your Dashboard to add more charts!</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=33-using-filters--formulas>3.3 Using Filters & Formulas</h1><h2 id=1-creating-a-new-chart>1 Creating a new chart</h2><p>Let&rsquo;s now create a new chart and save it in our dashboard!</p><p>Select the plus icon (top right of the UI) and from the drop down, choose the option <strong>Chart</strong>.
Or click on the
<span class="btn cstyle blue"><button type=button>
+ New Chart</button></span> Button to create a new chart.</p><p><a href=#image-f270d1461331b4d64687ad636292d5c5 class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-0.png alt="Create new chart" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-f270d1461331b4d64687ad636292d5c5><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-0.png alt="Create new chart" class=lightbox-image loading=lazy></a></p><p>You will now see a chart template like the following.</p><p><a href=#image-9dfc8bb27396b2e1223a3aeaf8e359df class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Editing-6.png alt="Empty Chart" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-9dfc8bb27396b2e1223a3aeaf8e359df><img src=../../en/imt/dashboards/filtering/../../images/M-Editing-6.png alt="Empty Chart" class=lightbox-image loading=lazy></a></p><p>Let&rsquo;s enter a metric to plot. We are still going to use the metric <strong><code>demo.trans.latency</code></strong>.</p><p>In the <strong>Plot Editor</strong> tab under <strong>Signal</strong> enter <strong><code>demo.trans.latency</code></strong>.</p><p><a href=#image-130c09ee7193fe224117753fa1a3df5a class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/plot-editor.png alt=Signal style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-130c09ee7193fe224117753fa1a3df5a><img src=../../en/imt/dashboards/filtering/../../images/plot-editor.png alt=Signal class=lightbox-image loading=lazy></a></p><p>You should now have a familiar line chart. Please switch the time to 15 mins.</p><p><a href=#image-8cc715a9776a668912df63022c50e5df class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-10.png alt=Signal style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-8cc715a9776a668912df63022c50e5df><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-10.png alt=Signal class=lightbox-image loading=lazy></a></p><h2 id=2-filtering-and-analytics>2. Filtering and Analytics</h2><p>Let&rsquo;s now select the <strong>Paris</strong> datacenter to do some analytics - for that we will use a filter.</p><p>Let&rsquo;s go back to the <strong>Plot Editor</strong> tab and click on
<span class="btn cstyle blue"><button type=button>
Add Filter</button></span>
, wait until it automatically populates, choose <strong><code>demo_datacenter</code></strong>, and then <strong><code>Paris</code></strong>.</p><p><a href=#image-dbf84f764bf1408e2d953ec1841d0a98 class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-1.png alt=Filter style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-dbf84f764bf1408e2d953ec1841d0a98><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-1.png alt=Filter class=lightbox-image loading=lazy></a></p><p>In the <strong>F(x)</strong> column, add the analytic function <strong><code>Percentile:Aggregation</code></strong>, and leave the value to <strong><code>95</code></strong> (click outside to confirm).</p><p><a href=#image-ba0ef379125e441ebe39ce1187d21a7d class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-2.png alt=Analytics style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-ba0ef379125e441ebe39ce1187d21a7d><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-2.png alt=Analytics class=lightbox-image loading=lazy></a></p><p>For info on the <strong>Percentile</strong> function and the other functions see <a href=https://docs.splunk.com/Observability/data-visualization/charts/gain-insights-through-chart-analytics.html#gain-insights-through-chart-analytics target=_blank>Chart Analytics</a>.</p><hr><h2 id=3-using-timeshift-analytical-function>3. Using Timeshift analytical function</h2><p>Let&rsquo;s now compare with older metrics. Click on <strong><code>...</code></strong> and then on <strong>Clone</strong> in the dropdown to clone Signal <strong>A</strong>.</p><p><a href=#image-beea0b374128715655b6c560c9424646 class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-3.png alt="Clone Signal" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-beea0b374128715655b6c560c9424646><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-3.png alt="Clone Signal" class=lightbox-image loading=lazy></a></p><p>You will see a new row identical to <strong>A</strong>, called <strong>B</strong>, both visible and plotted.</p><p><a href=#image-6c9d0fc621e676cdc06b8081ef6bd013 class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-4.png alt="Plot Editor" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-6c9d0fc621e676cdc06b8081ef6bd013><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-4.png alt="Plot Editor" class=lightbox-image loading=lazy></a></p><p>For Signal <strong>B</strong>, in the <strong>F(x)</strong> column add the analytic function <strong>Timeshift</strong> and enter <strong><code>1w</code></strong> (or 7d for 7 days), and click outside to confirm.</p><p><a href=#image-3e4e34787abcb5bf25efc7b820208308 class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-5.png alt=Timeshift style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-3e4e34787abcb5bf25efc7b820208308><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-5.png alt=Timeshift class=lightbox-image loading=lazy></a></p><p>Click on the cog on the far right, and choose a <strong>Plot Color</strong> e.g. pink, to change color for the plot of <strong>B</strong>.</p><p><a href=#image-4ba3d76ff46eeeffc7f92de94e85636d class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-6.png alt="Change Plot Colour" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-4ba3d76ff46eeeffc7f92de94e85636d><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-6.png alt="Change Plot Colour" class=lightbox-image loading=lazy></a></p><p>Click on <strong>Close</strong>.</p><p>We now see plots for Signal <strong>A</strong> (the past 15 minutes) as a blue plot, and the plots from a week ago in pink.</p><p>In order to make this clearer we can click on the <strong>Area chart</strong> icon to change the visualization.</p><p><a href=#image-a0e65739baedff0a16eda6989babdf21 class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-8.png alt="Area Chart" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-a0e65739baedff0a16eda6989babdf21><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-8.png alt="Area Chart" class=lightbox-image loading=lazy></a></p><p>We now can see when last weeks latency was higher!</p><p>Next, click into the field next to <strong>Time</strong> on the Override bar and choose <strong><code>Past Hour</code></strong> from the dropdown.</p><p><a href=#image-839fccd5fbac0bdb3d4cb7a7af3d211f class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-9.png alt=Timeframe style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-839fccd5fbac0bdb3d4cb7a7af3d211f><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-9.png alt=Timeframe class=lightbox-image loading=lazy></a></p><hr><h2 id=4-using-formulas>4. Using Formulas</h2><p>Let&rsquo;s now plot the difference of all metric values for a day with 7 days in between.</p><p>Click on
<span class="btn cstyle blue"><button type=button>
Enter Formula</button></span>
then enter <strong><code>A-B</code></strong> (A minus B) and hide (deselect) all Signals using the eye, except <strong>C</strong>.</p><p><a href=#image-c946f281715caa6a33d5650a6fc8c44b class=lightbox-link><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-11.png alt=Formulas style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-c946f281715caa6a33d5650a6fc8c44b><img src=../../en/imt/dashboards/filtering/../../images/M-Filter-11.png alt=Formulas class=lightbox-image loading=lazy></a></p><p>We now see only the difference of all metric values of <strong>A</strong> and <strong>B</strong> being plotted. We see that we have some negative values on the plot because a metric value of <strong>B</strong> has some times larger value than the metric value of <strong>A</strong> at that time.</p><p>Lets look at the Signalflow that drives our Charts and Detectors!</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=34-signalflow>3.4 SignalFlow</h1><h2 id=1-introduction>1. Introduction</h2><p>Let&rsquo;s take a look at SignalFlow - the analytics language of Observability Cloud that can be used to setup monitoring as code.</p><p>The heart of Splunk Infrastructure Monitoring is the SignalFlow analytics engine that runs computations written in a Python-like language. SignalFlow programs accept streaming input and produce output in real time. SignalFlow provides built-in analytical functions that take metric time series (MTS) as input, perform computations, and output a resulting MTS.</p><ul><li>Comparisons with historical norms, e.g. on a week-over-week basis</li><li>Population overviews using a distributed percentile chart</li><li>Detecting if the rate of change (or other metric expressed as a ratio, such as a service level objective) has exceeded a critical threshold</li><li>Finding correlated dimensions, e.g. to determine which service is most correlated with alerts for low disk space</li></ul><p>Infrastructure Monitoring creates these computations in the Chart Builder user interface, which lets you specify the input MTS to use and the analytical functions you want to apply to them. You can also run SignalFlow programs directly by using the <a href=https://dev.splunk.com/observability/docs/ target=_blank>SignalFlow API</a>.</p><p>SignalFlow includes a large library of built-in analytical functions that take a metric time series as an input, performs computations on its datapoints, and outputs time series that are the result of the computation.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>For more information on SignalFlow see <a href=https://docs.splunk.com/Observability/infrastructure/analytics/signalflow.html target=_blank>Analyze incoming data using SignalFlow.</a></p></div></div><h2 id=2-view-signalflow>2. View SignalFlow</h2><p>In the chart builder, click on <strong>View SignalFlow</strong>.</p><p><a href=#image-aecf01c611787d16cdf4044546efccbd class=lightbox-link><img src=../../en/imt/dashboards/signalflow/../../images/view-signalflow.png alt=SignalFlow style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-aecf01c611787d16cdf4044546efccbd><img src=../../en/imt/dashboards/signalflow/../../images/view-signalflow.png alt=SignalFlow class=lightbox-image loading=lazy></a></p><p>You will see the SignalFlow code that composes the chart we were working on. You can now edit the SignalFlow directly within the UI. Our documentation has the <a href=https://dev.splunk.com/observability/docs/signalflow/function_method_list target=_blank>full list</a> of SignalFlow functions and methods.</p><p>Also, you can copy the SignalFlow and use it when interacting with the API or with Terraform to enable <a href=../../en/imt/dashboards/signalflow/../../monitoring-as-code/>Monitoring as Code</a></p><p><a href=#image-3a1d9ce8f17bfabfe194b169e114eb3b class=lightbox-link><img src=../../en/imt/dashboards/signalflow/../../images/show-signalflow.png alt=Code style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-3a1d9ce8f17bfabfe194b169e114eb3b><img src=../../en/imt/dashboards/signalflow/../../images/show-signalflow.png alt=Code class=lightbox-image loading=lazy></a></p><div class=tab-panel data-tab-group=e3c5b44547a6cbce48041707c1ddd6e8><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=SignalFlow class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("e3c5b44547a6cbce48041707c1ddd6e8","SignalFlow")'><div><div class=tab-nav-hidden>SignalFlow</div><div class=tab-nav-text>SignalFlow</div></div></button></div><div class=tab-content-container><div data-tab-item=SignalFlow class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>A</span> <span class=o>=</span> <span class=n>data</span><span class=p>(</span><span class=s1>&#39;demo.trans.latency&#39;</span><span class=p>,</span> <span class=nb>filter</span><span class=o>=</span><span class=nb>filter</span><span class=p>(</span><span class=s1>&#39;demo_datacenter&#39;</span><span class=p>,</span> <span class=s1>&#39;Paris&#39;</span><span class=p>))</span><span class=o>.</span><span class=n>percentile</span><span class=p>(</span><span class=n>pct</span><span class=o>=</span><span class=mi>95</span><span class=p>)</span><span class=o>.</span><span class=n>publish</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=s1>&#39;A&#39;</span><span class=p>,</span> <span class=n>enable</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>=</span> <span class=n>data</span><span class=p>(</span><span class=s1>&#39;demo.trans.latency&#39;</span><span class=p>,</span> <span class=nb>filter</span><span class=o>=</span><span class=nb>filter</span><span class=p>(</span><span class=s1>&#39;demo_datacenter&#39;</span><span class=p>,</span> <span class=s1>&#39;Paris&#39;</span><span class=p>))</span><span class=o>.</span><span class=n>percentile</span><span class=p>(</span><span class=n>pct</span><span class=o>=</span><span class=mi>95</span><span class=p>)</span><span class=o>.</span><span class=n>timeshift</span><span class=p>(</span><span class=s1>&#39;1w&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>publish</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=s1>&#39;B&#39;</span><span class=p>,</span> <span class=n>enable</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=o>=</span> <span class=p>(</span><span class=n>A</span><span class=o>-</span><span class=n>B</span><span class=p>)</span><span class=o>.</span><span class=n>publish</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=s1>&#39;C&#39;</span><span class=p>)</span></span></span></code></pre></div></div></div></div></div><p>Click on <strong>View Builder</strong> to go back to the Chart <strong>Builder</strong> UI.</p><p><a href=#image-deec1edbcb4658a4c1dc564a1c3fad63 class=lightbox-link><img src=../../en/imt/dashboards/signalflow/../../images/view-builder.png alt="View Builder" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-deec1edbcb4658a4c1dc564a1c3fad63><img src=../../en/imt/dashboards/signalflow/../../images/view-builder.png alt="View Builder" class=lightbox-image loading=lazy></a></p><p>Let&rsquo;s save this new chart to our Dashboard!</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=adding-charts-to-dashboards>Adding charts to dashboards</h1><h2 id=1-save-to-existing-dashboard>1. Save to existing dashboard</h2><p>Check that you have <strong>YOUR_NAME-Dashboard: YOUR_NAME-Dashboard</strong> in the top left corner. This means you chart will be saved in this Dashboard.</p><p>Name the Chart <strong>Latency History</strong> and add a Chart Description if you wish.</p><p><a href=#image-9409a0ee318a70d72dd0370ac92fcf86 class=lightbox-link><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-1.png alt="Save Chart 1" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-9409a0ee318a70d72dd0370ac92fcf86><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-1.png alt="Save Chart 1" class=lightbox-image loading=lazy></a></p><p>Click on
<span class="btn cstyle transparent"><button type=button>
Save And Close</button>
</span>. This returns you to your dashboard that now has two charts!</p><p><a href=#image-8a9615b8d33c37626756e7762fae2ff8 class=lightbox-link><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-2.png alt="Save Chart 2" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-8a9615b8d33c37626756e7762fae2ff8><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-2.png alt="Save Chart 2" class=lightbox-image loading=lazy></a>
Now let&rsquo;s quickly add another Chart based on the previous one.</p><h2 id=2-copy-and-paste-a-chart>2. Copy and Paste a chart</h2><p>Click on the three dots <strong><code>...</code></strong> on the <strong>Latency History</strong> chart in your dashboard and then on <strong>Copy</strong>.</p><p><a href=#image-218d3030f86c6c4dd82ab8af964e1b99 class=lightbox-link><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-3.png alt="Copy chart" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-218d3030f86c6c4dd82ab8af964e1b99><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-3.png alt="Copy chart" class=lightbox-image loading=lazy></a></p><p>You see the chart being copied, and you should now have a red circle with a white 1 next to the <strong>+</strong> on the top left of the page.</p><p>Click on the plus icon the top of the page, and then in the menu on <em>Paste Charts</em> (There should also be a red dot with a 1 visible at the end of the line).</p><p><a href=#image-183b0e92a53fa19e19436ab20741c1fd class=lightbox-link><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-5.png alt="Past charts" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-183b0e92a53fa19e19436ab20741c1fd><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-5.png alt="Past charts" class=lightbox-image loading=lazy></a></p><p>This will place a copy of the previous chart in your dashboard.</p><p><a href=#image-3943bb98d5236b7a5e8cbc94670730d8 class=lightbox-link><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-6.png alt="Three Dashboard" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-3943bb98d5236b7a5e8cbc94670730d8><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-6.png alt="Three Dashboard" class=lightbox-image loading=lazy></a></p><h2 id=3-edit-the-pasted-chart>3. Edit the pasted chart</h2><p>Click on the three dots <strong><code>...</code></strong> on one of the <strong>Latency History</strong> charts in your dashboard and then on <strong>Open</strong> (or you can click on the name of the chart which here is <strong>Latency History</strong>).</p><p>This will bring you to the editor environment again.</p><p>First set the time for the chart to -1 hour in the Time box at the top right of the chart. Then to make this a different chart, click on the eye icon in front of signal &ldquo;<em>A</em>&rdquo; to make it visible again, and then hide signal &ldquo;<em>C</em>&rdquo; via the eye icon and change the name for <em>Latency history</em> to <strong>Latency vs Load</strong>.</p><p><a href=#image-f716dd08524999e553191a8425c12623 class=lightbox-link><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-7.png alt="Set Visibility" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-f716dd08524999e553191a8425c12623><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-7.png alt="Set Visibility" class=lightbox-image loading=lazy></a></p><p>Click on the
<span class="btn cstyle blue"><button type=button>
Add Metric Or Event</button></span> button. This will bring up the box for a new signal. Type and select <code>demo.trans.count</code> for Signal <strong>D</strong>.</p><p><a href=#image-4dbbab2539b572efa46237af536e3cda class=lightbox-link><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-8.png alt="Dashboard Info" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-4dbbab2539b572efa46237af536e3cda><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-8.png alt="Dashboard Info" class=lightbox-image loading=lazy></a></p><p>This will add a new Signal <strong>D</strong> to your chart, It shows the number of active requests. Add the filter for the <em>demo_datacenter:Paris</em>, then change the Rollup type by clicking on the <strong>Configure Plot</strong> button and changing the roll-up from <strong>Auto (Delta)</strong> to <strong>Rate/sec</strong>. Change the name from <strong>demo.trans.count</strong> to <strong>Latency vs Load</strong>.</p><p><a href=#image-b75f9b55c0374a7aed53c056c8396a31 class=lightbox-link><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-9.png alt="rollup change" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-b75f9b55c0374a7aed53c056c8396a31><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-9.png alt="rollup change" class=lightbox-image loading=lazy></a></p><p>Finally press the
<span class="btn cstyle transparent"><button type=button>
Save And Close</button></span> button. This returns you to your dashboard that now has three different charts!</p><p><a href=#image-52b9ed480ba68cb53c3ea726a47e1563 class=lightbox-link><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-10.png alt="three charts" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-52b9ed480ba68cb53c3ea726a47e1563><img src=../../en/imt/dashboards/adding-charts/../../images/M-MoreCharts-10.png alt="three charts" class=lightbox-image loading=lazy></a></p><p>Let&rsquo;s add an &ldquo;instruction&rdquo; note and arrange the charts!</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=adding-notes-and-dashboard-layout>Adding Notes and Dashboard Layout</h1><h2 id=1-adding-notes>1. Adding Notes</h2><p>Often on dashboards it makes sense to place a short &ldquo;instruction&rdquo; pane that helps users of a dashboard. Lets add one now by clicking on the
<span class="btn cstyle white"><button type=button>
New Text Note</button></span>
Button.</p><p><a href=#image-93b38f0ec4b1d0c8deb4542ece306ec3 class=lightbox-link><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-0.png alt="three charts" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-93b38f0ec4b1d0c8deb4542ece306ec3><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-0.png alt="three charts" class=lightbox-image loading=lazy></a></p><p>This will open the notes editor.</p><p><a href=#image-70bb33eaad22416e6e955a30b4dc4b11 class=lightbox-link><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-1.png alt="Notes 1" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-70bb33eaad22416e6e955a30b4dc4b11><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-1.png alt="Notes 1" class=lightbox-image loading=lazy></a></p><p>To allow you to add more then just text to you notes, Splunk is allowing you to use Markdown in these notes/panes.
Markdown is a lightweight markup language for creating formatted text using plain-text often used in Webpages.</p><p>This includes (but not limited to):</p><ul><li>Headers. (in various sizes)</li><li>Emphasis styles.</li><li>Lists and Tables.</li><li>Links. These can be external webpages (for documentation for example) or directly to other Splunk IM Dashboards</li></ul><p>Below is an example of above Markdown options you can use in your note.</p><div class=tab-panel data-tab-group=fe61592f56857a35584e4debee916b7b><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Sample Markdown text" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("fe61592f56857a35584e4debee916b7b","Sample Markdown text")'><div><div class=tab-nav-hidden>Sample Markdown text</div><div class=tab-nav-text>Sample Markdown text</div></div></button></div><div class=tab-content-container><div data-tab-item="Sample Markdown text" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl><span class=gh># h1 Big headings
</span></span></span><span class=line><span class=cl><span class=gh></span>
</span></span><span class=line><span class=cl><span class=gu>###### h6 To small headings
</span></span></span><span class=line><span class=cl><span class=gu></span>
</span></span><span class=line><span class=cl><span class=gu>##### Emphasis
</span></span></span><span class=line><span class=cl><span class=gu></span>
</span></span><span class=line><span class=cl><span class=gs>**This is bold text**</span>, <span class=ge>*This is italic text*</span> , <span class=gd>~~Strikethrough~~</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>##### Lists
</span></span></span><span class=line><span class=cl><span class=gu></span>
</span></span><span class=line><span class=cl>Unordered
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>+ Create a list by starting a line with <span class=sb>`+`</span>, <span class=sb>`-`</span>, or <span class=sb>`*`</span>
</span></span><span class=line><span class=cl><span class=k>-</span> Sub-lists are made by indenting 2 spaces:
</span></span><span class=line><span class=cl><span class=k>-</span> Marker character change forces new list start:
</span></span><span class=line><span class=cl>    <span class=k>*</span> Ac tristique libero volutpat at
</span></span><span class=line><span class=cl>    + Facilisis in pretium nisl aliquet
</span></span><span class=line><span class=cl><span class=k>*</span> Very easy!
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Ordered
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>1.</span> Lorem ipsum dolor sit amet
</span></span><span class=line><span class=cl><span class=k>2.</span> Consectetur adipiscing elit
</span></span><span class=line><span class=cl><span class=k>3.</span> Integer molestie lorem at massa
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>##### Tables
</span></span></span><span class=line><span class=cl><span class=gu></span>
</span></span><span class=line><span class=cl>| Option | Description |
</span></span><span class=line><span class=cl>| ------ | ----------- |
</span></span><span class=line><span class=cl>| chart  | path to data files to supply the data that will be passed into templates. |
</span></span><span class=line><span class=cl>| engine | engine to be used for processing templates. Handlebars is the default. |
</span></span><span class=line><span class=cl>| ext    | extension to be used for dest files. |
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>#### Links
</span></span></span><span class=line><span class=cl><span class=gu></span>
</span></span><span class=line><span class=cl>[<span class=nt>link to webpage</span>](<span class=na>https://www.splunk.com</span>)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[<span class=nt>link to dashboard with title</span>](<span class=na>https://app.eu0.signalfx.com/#/dashboard/EaJHrbPAEAA?groupId=EaJHgrsAIAA&amp;configId=EaJHsHzAEAA &#34;Link to the Sample chart Dashboard!&#34;</span>)</span></span></code></pre></div></div></div></div></div><p>Copy the above by using the copy button and paste it in the <em>Edit</em> box.
the preview will show you how it will look.</p><hr><h2 id=2-saving-our-chart>2. Saving our chart</h2><p>Give the Note chart a name, in our example we used <em>Example text chart</em>, then press the
<span class="btn cstyle transparent"><button type=button>
Save And Close</button></span> Button.</p><p><a href=#image-b34ea38afadc353c3146cde3c8bc9bd1 class=lightbox-link><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-2.png alt="saving note" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-b34ea38afadc353c3146cde3c8bc9bd1><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-2.png alt="saving note" class=lightbox-image loading=lazy></a></p><p>This will bring you back to you Dashboard, that now includes the note.</p><p><a href=#image-232f5356fec80135ac2d1906bd8cfb9c class=lightbox-link><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-3.png alt="three charts and note" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-232f5356fec80135ac2d1906bd8cfb9c><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-3.png alt="three charts and note" class=lightbox-image loading=lazy></a></p><hr><h2 id=3-ordering--sizing-of-charts>3. Ordering & sizing of charts</h2><p>If you do not like the default order and sizes of your charts you can simply use window dragging technique to move and size them to the desired location.</p><p>Grab the <strong>top</strong> border of a chart and you should see the mouse pointer change to a drag icon (see picture below).</p><p><a href=#image-959fae219cdcc2f83d341fa08e649f3d class=lightbox-link><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-4.png alt="dragging charts" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-959fae219cdcc2f83d341fa08e649f3d><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-4.png alt="dragging charts" class=lightbox-image loading=lazy></a></p><p>Now drag the <strong>Latency vs Load</strong> chart to sit between the <strong>Latency History</strong> Chart and the <strong>Example text chart</strong>.</p><p><a href=#image-f89510ddb14dc3eaf469bdd38c415770 class=lightbox-link><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-5.png alt=sizing style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-f89510ddb14dc3eaf469bdd38c415770><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-5.png alt=sizing class=lightbox-image loading=lazy></a></p><p>You can also resize windows by dragging from the left, right and bottom edges.</p><p>As a last exercise reduce the width of the note chart to about a third of the other charts. The chart will automatically snap to one of the sizes it supports. Widen the 3 other charts to about a third of the Dashboard. Drag the notes to the right of the others and resize it to match it to the 3 others. Set the <strong>Time</strong> to <strong>-1h</strong> and you should have the following dashboard!</p><p><a href=#image-88777d88550f153891b25a4dff852086 class=lightbox-link><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-6.png alt=TaDA! style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-88777d88550f153891b25a4dff852086><img src=../../en/imt/dashboards/notes-and-layout/../../images/M-Notes-6.png alt=TaDA! class=lightbox-image loading=lazy></a></p><p>On to Detectors!</p><footer class=footline></footer></article></section><article class=default><header class=headline></header><h1 id=working-with-detectors>Working with Detectors</h1><span class="btn cstyle transparent"><button type=button>
<i class="fa-fw fas fa-clock"></i>
10 minutes</button></span><ul><li>Create a Detector from one of your charts</li><li>Setting Alert conditions</li><li>Running a pre-flight check</li><li>Working with muting rules</li></ul><hr><h2 id=1-introduction>1. Introduction</h2><p>Splunk Observability Cloud uses detectors, events, alerts, and notifications to keep you informed when certain criteria are met. For example, you might want a message sent to a Slack channel or to an email address for the Ops team when CPU Utilization has reached 95%, or when the number of concurrent users is approaching a limit that might require you to spin up an additional AWS instance.</p><p>These conditions are expressed as one or more rules that trigger an alert when the conditions in the rules are met. Individual rules in a detector are labeled according to criticality: Info, Warning, Minor, Major, and Critical.</p><h2 id=2-creating-a-detector>2. Creating a Detector</h2><p>In <strong>Dashboards</strong> click on your <strong>Custom Dashboard Group</strong> (that you created in the previous module) and then click on the dashboard name.</p><p><a href=#image-1cda66cc582ea4bce54d22b738cca631 class=lightbox-link><img src=../../en/imt/detectors/../images/custom-dashboard-group.png alt="Custom Dashboard Group" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-1cda66cc582ea4bce54d22b738cca631><img src=../../en/imt/detectors/../images/custom-dashboard-group.png alt="Custom Dashboard Group" class=lightbox-image loading=lazy></a></p><p>We are now going to create a new detector from a chart on this dashboard. Click on the bell icon on the <strong>Latency vs Load</strong> chart, and then click <strong>New Detector From Chart</strong>.</p><p><a href=#image-f8871f48a32670b76de5bdf8d29df929 class=lightbox-link><img src=../../en/imt/detectors/../images/new-detector.png alt="New Detector" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-f8871f48a32670b76de5bdf8d29df929><img src=../../en/imt/detectors/../images/new-detector.png alt="New Detector" class=lightbox-image loading=lazy></a></p><p>In the text field next to <strong>Detector Name</strong>, <strong>ADD YOUR INITIALS</strong> before the proposed detector name.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Naming the detector</div><div class=box-content><p>It&rsquo;s important that you add your initials in front of the proposed detector name.</p><p>It should be something like this: <strong>XYZ&rsquo;s Latency Chart Detector</strong>.</p></div></div><p>Click on
<span class="btn cstyle blue"><button type=button>
Create Alert Rule</button></span></p><p><a href=#image-4c889f5fd1d45fe2bb0601ecef9d7aee class=lightbox-link><img src=../../en/imt/detectors/../images/create-alert-rule.png alt="Create Alert Rule" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-4c889f5fd1d45fe2bb0601ecef9d7aee><img src=../../en/imt/detectors/../images/create-alert-rule.png alt="Create Alert Rule" class=lightbox-image loading=lazy></a></p><p>In the Detector window, inside <strong>Alert signal</strong>, the Signal we will alert on is marked with a (blue) bell in the <strong>Alert on</strong> column. The bell indicates which Signal is being used to generate the alert.</p><p>Click on
<span class="btn cstyle blue"><button type=button>
Proceed to Alert Condition</button></span></p><p><a href=#image-d8c77135a61c697a9ac267e0cf5aa8de class=lightbox-link><img src=../../en/imt/detectors/../images/alert-signal.png alt="Alert Signal" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-d8c77135a61c697a9ac267e0cf5aa8de><img src=../../en/imt/detectors/../images/alert-signal.png alt="Alert Signal" class=lightbox-image loading=lazy></a></p><h2 id=3-setting-alert-condition>3. Setting Alert condition</h2><p>In <strong>Alert condition</strong>, click on <strong>Static Threshold</strong> and then on
<span class="btn cstyle blue"><button type=button>
Proceed to Alert Settings</button></span></p><p><a href=#image-ab8d09383562ae7d6325ccb0d54f7b04 class=lightbox-link><img src=../../en/imt/detectors/../images/alert-condition.png alt="Alert Condition" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-ab8d09383562ae7d6325ccb0d54f7b04><img src=../../en/imt/detectors/../images/alert-condition.png alt="Alert Condition" class=lightbox-image loading=lazy></a></p><p>In <strong>Alert Settings</strong>, enter the value <strong><code>290</code></strong> in the <strong>Threshold</strong> field. In the same window change <strong>Time</strong> on top right to past day (<strong>-1d</strong>).</p><hr><h2 id=4-alert-pre-flight-check>4. Alert pre-flight check</h2><p>A pre-flight check will take place after 5 seconds. See the <strong>Estimated alert count</strong>. Based on the current alert settings, the amount of alerts we would have received in 1 day would have been <strong>3</strong>.</p><p><a href=#image-1024e0d45fbd34bd287568f43d96c7e6 class=lightbox-link><img src=../../en/imt/detectors/../images/alert-threshold.png alt="Alert Threshold" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-1024e0d45fbd34bd287568f43d96c7e6><img src=../../en/imt/detectors/../images/alert-threshold.png alt="Alert Threshold" class=lightbox-image loading=lazy></a></p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> About pre-flight checks</div><div class=box-content><p>Once you set an alert condition, the UI estimates how many alerts you might get based on the current settings, and in the timeframe set on the upper right corner - in this case, the past day.</p><p>Immediately, the platform will start analyzing the signals with the current settings, and perform something we call a Pre-flight Check. This enables you to test the alert conditions using the historical data in the platform, to ensure the settings are logical and will not inadvertently generate an alert storm, removing the guess work from configuring alerts in a simple but very powerful way, only available using the Splunk Observability Cloud.</p><p>To read more about detector previewing, please visit this link
<a href=https://docs.splunk.com/Observability/alerts-detectors-notifications/preview-detector-alerts.html#nav-Preview-detector-alerts target=_blank>Preview detector alerts.</a></p></div></div><p>Click on
<span class="btn cstyle blue"><button type=button>
Proceed to Alert Message</button></span></p><hr><h2 id=5-alert-message>5. Alert message</h2><p>In <strong>Alert message</strong>, under <strong>Severity</strong> choose <strong>Major</strong>.</p><p><a href=#image-c285c6e5778a8976d5ced8d42ca988c0 class=lightbox-link><img src=../../en/imt/detectors/../images/alert-message.png alt="Alert Message" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-c285c6e5778a8976d5ced8d42ca988c0><img src=../../en/imt/detectors/../images/alert-message.png alt="Alert Message" class=lightbox-image loading=lazy></a></p><p>Click on
<span class="btn cstyle blue"><button type=button>
Proceed to Alert Recipients</button></span></p><p>Click on <strong>Add Recipient</strong> and then on your email address displayed as the first option.</p><p><a href=#image-e053a6dbdfa37c4b3d4e21ef83df1226 class=lightbox-link><img src=../../en/imt/detectors/../images/add-recipient.png alt="Add Recipient" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-e053a6dbdfa37c4b3d4e21ef83df1226><img src=../../en/imt/detectors/../images/add-recipient.png alt="Add Recipient" class=lightbox-image loading=lazy></a></p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Notification Services</div><div class=box-content><p>That&rsquo;s the same as entering that email address OR you can enter another email address by clicking on <strong>E-mail&mldr;</strong>.</p><p>This is just one example of the many <strong>Notification Services</strong> the suite has available. You can check this out by going to the <strong>Integrations</strong> tab of the top menu, and see <strong>Notification Services</strong>.</p></div></div><hr><h2 id=6-alert-activation>6. Alert Activation</h2><p>Click on
<span class="btn cstyle blue"><button type=button>
Proceed to Alert Activation</button></span></p><p>In <strong>Activate&mldr;</strong> click on
<span class="btn cstyle blue"><button type=button>
Activate Alert Rule</button></span></p><p><a href=#image-987f6c7194a03a2cce9f18552f241883 class=lightbox-link><img src=../../en/imt/detectors/../images/activate-alert.png alt="Activate Alert" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-987f6c7194a03a2cce9f18552f241883><img src=../../en/imt/detectors/../images/activate-alert.png alt="Activate Alert" class=lightbox-image loading=lazy></a></p><p>If you want to get alerts quicker you edit the rule and lower the value from <strong><code>290</code></strong> to say <strong><code>280</code></strong>.</p><p>If you change the <strong>Time</strong> to <strong>-1h</strong> you can see how many alerts you might get with the threshold you have chosen based on the metrics from the last 1 hour.</p><p>Click on the
<a href=#image-ebab0fbf20c45134996d321897e50517 class=lightbox-link><img src="../../en/imt/detectors/../images/alerts-and-detectors.png?classes=inline&height=25px" alt="alerts and detectors button" class=inline style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-ebab0fbf20c45134996d321897e50517><img src="../../en/imt/detectors/../images/alerts-and-detectors.png?classes=inline&height=25px" alt="alerts and detectors button" class=lightbox-image loading=lazy></a> in the navbar and then click on <strong>Detectors</strong>. You can optionally filter for your initials. You will see you detector listed here. If you don&rsquo;t then please refresh your browser.</p><p><a href=#image-adb03f5385842f8fbeebd41bdb694616 class=lightbox-link><img src=../../en/imt/detectors/../images/detectors.png alt="Detector List" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-adb03f5385842f8fbeebd41bdb694616><img src=../../en/imt/detectors/../images/detectors.png alt="Detector List" class=lightbox-image loading=lazy></a></p><p><strong>Congratulations</strong>! You have created your first detector and activated it!</p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Working with Detectors</h1><article class=default><header class=headline></header><h1 id=working-with-muting-rules>Working with Muting Rules</h1><ul><li>Learn how to configure Muting Rules</li><li>Learn how to resume notifications</li></ul><hr><h2 id=1-configuring-muting-rules>1. Configuring Muting Rules</h2><p>There will be times when you might want to mute certain notifications. For example, if you want to schedule downtime for maintenance on a server or set of servers, or if you are testing new code or settings etc. For that you can use muting rules in Splunk Observability Cloud. Let&rsquo;s create one!</p><p>Click on <strong>Alerts & Detectors</strong> in the sidebar and then click <strong>Detectors</strong> to see the list of active detectors.</p><p><a href=#image-f011904465845935f2aae8a5de3872ca class=lightbox-link><img src=../../en/imt/detectors/muting/../../images/detectors.png alt="detectors list" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-f011904465845935f2aae8a5de3872ca><img src=../../en/imt/detectors/muting/../../images/detectors.png alt="detectors list" class=lightbox-image loading=lazy></a></p><p>If you created a detector in <strong>Creating a Detector</strong> you can click on the three dots <strong><code>...</code></strong> on the far right for that detector; if not, do that for another detector.</p><p>From the drop-down click on <strong>Create Muting Rule&mldr;</strong></p><p><a href=#image-ae7dbc2f70e7a08a08cbe0da2cc6de40 class=lightbox-link><img src=../../en/imt/detectors/muting/../../images/create-muting-rule.png alt="Create Muting Rule" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-ae7dbc2f70e7a08a08cbe0da2cc6de40><img src=../../en/imt/detectors/muting/../../images/create-muting-rule.png alt="Create Muting Rule" class=lightbox-image loading=lazy></a></p><p>In the <strong>Muting Rule</strong> window check <strong>Mute Indefinitely</strong> and enter a reason.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Important</div><div class=box-content><p>This will mute the notifications permanently until you come back here and un-check this box or resume notifications for this detector.</p></div></div><p><a href=#image-0bc4480e1204608f2e4c65ee98e0c34d class=lightbox-link><img src=../../en/imt/detectors/muting/../../images/mute-indefinitely.png alt="Mute Indefinitely" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-0bc4480e1204608f2e4c65ee98e0c34d><img src=../../en/imt/detectors/muting/../../images/mute-indefinitely.png alt="Mute Indefinitely" class=lightbox-image loading=lazy></a></p><p>Click <strong>Next</strong> and in the new modal window confirm the muting rule setup.</p><p><a href=#image-2227d1cc10b1a88ba72131fd04bcbdf6 class=lightbox-link><img src=../../en/imt/detectors/muting/../../images/confirm-rule.png alt="Confirm Rule" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-2227d1cc10b1a88ba72131fd04bcbdf6><img src=../../en/imt/detectors/muting/../../images/confirm-rule.png alt="Confirm Rule" class=lightbox-image loading=lazy></a></p><p>Click on
<span class="btn cstyle blue"><button type=button>
Mute Indefinitely</button></span> to confirm.</p><p><a href=#image-d428da8fc2f88a52522593274127feb2 class=lightbox-link><img src=../../en/imt/detectors/muting/../../images/alert-muted.png alt="List muted rule" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-d428da8fc2f88a52522593274127feb2><img src=../../en/imt/detectors/muting/../../images/alert-muted.png alt="List muted rule" class=lightbox-image loading=lazy></a></p><p>You won&rsquo;t be receiving any email notifications from your detector until you resume notifications again. Let&rsquo;s now see how to do that!</p><hr><h2 id=2-resuming-notifications>2. Resuming notifications</h2><p>To Resume notifications, click on <strong>Muting Rules</strong>, you will see the name of the detector you muted notifications for under <strong>Detector</strong> heading.</p><p>Click on the thee dots <strong><code>...</code></strong> on the far right, and click on <strong>Resume Notifications</strong>.</p><p><a href=#image-657ce8d8b9ea5b343f03c2ddb16ff7e9 class=lightbox-link><img src=../../en/imt/detectors/muting/../../images/muting-list.png alt=Resume style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-657ce8d8b9ea5b343f03c2ddb16ff7e9><img src=../../en/imt/detectors/muting/../../images/muting-list.png alt=Resume class=lightbox-image loading=lazy></a></p><p>Click on
<span class="btn cstyle blue"><button type=button>
Resume</button></span> to confirm and resume notifications for this detector.</p><p><a href=#image-bc474011e08a9ecfeb41daf7e47e487d class=lightbox-link><img src=../../en/imt/detectors/muting/../../images/resume.png alt=Resume style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-bc474011e08a9ecfeb41daf7e47e487d><img src=../../en/imt/detectors/muting/../../images/resume.png alt=Resume class=lightbox-image loading=lazy></a></p><p><strong>Congratulations!</strong> You have now resumed your alert notifications!</p><footer class=footline></footer></article></section><article class=default><header class=headline></header><h1 id=monitoring-as-code>Monitoring as Code</h1><span class="btn cstyle transparent"><button type=button>
<i class="fa-fw fas fa-clock"></i>
10 minutes</button></span><ul><li>Use Terraform<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> to manage Observability Cloud Dashboards and Detectors</li><li>Initialize the Terraform Splunk Provider<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>.</li><li>Run Terraform to create detectors and dashboards from code using the Splunk Terraform Provider.</li><li>See how Terraform can also delete detectors and dashboards.</li></ul><hr><h2 id=1-initial-setup>1. Initial setup</h2><p>Monitoring as code adopts the same approach as infrastructure as code. You can manage monitoring the same way you do applications, servers, or other infrastructure components.</p><p>You can use monitoring as code to build out your visualisations, what to monitor, and when to alert, among other things. This means your monitoring setup, processes, and rules can be versioned, shared, and reused.</p><p>Full documentation for the Splunk Terraform Provider is available <a href=https://registry.terraform.io/providers/splunk-terraform/signalfx/latest/docs target=_blank>here</a>.</p><p>Remaining in your AWS/EC2 instance, change into the <code>o11y-cloud-jumpstart</code> directory</p><div class=tab-panel data-tab-group=6f2fc7315369141b6775031e61fd3563><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Change directory" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("6f2fc7315369141b6775031e61fd3563","Change directory")'><div><div class=tab-nav-hidden>Change directory</div><div class=tab-nav-text>Change directory</div></div></button></div><div class=tab-content-container><div data-tab-item="Change directory" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> observability-content-contrib/integration-examples/terraform-jumpstart</span></span></code></pre></div></div></div></div></div><p>The environment variables needed should already be set from <a href=../../en/imt/monitoring-as-code/../gdi/#2-installation-using-helm>Installation using Helm</a>. If not, create the following environment variables to use in the Terraform steps below</p><div class=tab-panel data-tab-group=e5e0dcbb992f0e9f6b3fddc50d32ccfc><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Export ACCESS TOKEN" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("e5e0dcbb992f0e9f6b3fddc50d32ccfc","Export ACCESS TOKEN")'><div><div class=tab-nav-hidden>Export ACCESS TOKEN</div><div class=tab-nav-text>Export ACCESS TOKEN</div></div></button></div><div class=tab-content-container><div data-tab-item="Export ACCESS TOKEN" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>ACCESS_TOKEN</span><span class=o>=</span><span class=s2>&#34;&lt;replace_with_O11y-Workshop-ACCESS_TOKEN&gt;&#34;</span></span></span></code></pre></div></div></div></div></div><div class=tab-panel data-tab-group=80e31e85b52e9d39ab4f474f00d39d2e><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Export REALM" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("80e31e85b52e9d39ab4f474f00d39d2e","Export REALM")'><div><div class=tab-nav-hidden>Export REALM</div><div class=tab-nav-text>Export REALM</div></div></button></div><div class=tab-content-container><div data-tab-item="Export REALM" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>REALM</span><span class=o>=</span><span class=s2>&#34;&lt;replace_with_REALM&gt;&#34;</span></span></span></code></pre></div></div></div></div></div><p>Initialize Terraform and upgrade to the latest version of the Splunk Terraform Provider</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Note: Upgrading the SignalFx Terraform Provider</div><div class=box-content><p>You will need to run the command below each time a new version of the Splunk Terraform Provider is released. You can track the releases on <a href=https://github.com/splunk-terraform/terraform-provider-signalfx/releases target=_blank>GitHub.</a></p></div></div><div class=tab-panel data-tab-group=4e01458d3bd5829bc2c348ff7180ded7><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Initialise Terraform" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("4e01458d3bd5829bc2c348ff7180ded7","Initialise Terraform")'><div><div class=tab-nav-hidden>Initialise Terraform</div><div class=tab-nav-text>Initialise Terraform</div></div></button>
<button data-tab-item="Initialise Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("4e01458d3bd5829bc2c348ff7180ded7","Initialise Output")'><div><div class=tab-nav-hidden>Initialise Output</div><div class=tab-nav-text>Initialise Output</div></div></button></div><div class=tab-content-container><div data-tab-item="Initialise Terraform" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>terraform init -upgrade</span></span></code></pre></div></div></div><div data-tab-item="Initialise Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>    Upgrading modules...
</span></span><span class=line><span class=cl>    - aws in modules/aws
</span></span><span class=line><span class=cl>    - azure in modules/azure
</span></span><span class=line><span class=cl>    - docker in modules/docker
</span></span><span class=line><span class=cl>    - gcp in modules/gcp
</span></span><span class=line><span class=cl>    - host in modules/host
</span></span><span class=line><span class=cl>    - kafka in modules/kafka
</span></span><span class=line><span class=cl>    - kubernetes in modules/kubernetes
</span></span><span class=line><span class=cl>    - parent_child_dashboard in modules/dashboards/parent
</span></span><span class=line><span class=cl>    - pivotal in modules/pivotal
</span></span><span class=line><span class=cl>    - rum_and_synthetics_dashboard in modules/dashboards/rum_and_synthetics
</span></span><span class=line><span class=cl>    - usage_dashboard in modules/dashboards/usage
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    Initializing the backend...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    Initializing provider plugins...
</span></span><span class=line><span class=cl>    - Finding latest version of splunk-terraform/signalfx...
</span></span><span class=line><span class=cl>    - Installing splunk-terraform/signalfx v6.20.0...
</span></span><span class=line><span class=cl>    - Installed splunk-terraform/signalfx v6.20.0 (self-signed, key ID CE97B6074989F138)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    Partner and community providers are signed by their developers.
</span></span><span class=line><span class=cl>    If you&#39;d like to know more about provider signing, you can read about it here:
</span></span><span class=line><span class=cl>    https://www.terraform.io/docs/cli/plugins/signing.html
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    Terraform has created a lock file .terraform.lock.hcl to record the provider
</span></span><span class=line><span class=cl>    selections it made above. Include this file in your version control repository
</span></span><span class=line><span class=cl>    so that Terraform can guarantee to make the same selections by default when
</span></span><span class=line><span class=cl>    you run &#34;terraform init&#34; in the future.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    Terraform has been successfully initialized!
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    You may now begin working with Terraform. Try running &#34;terraform plan&#34; to see
</span></span><span class=line><span class=cl>    any changes that are required for your infrastructure. All Terraform commands
</span></span><span class=line><span class=cl>    should now work.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    If you ever set or change modules or backend configuration for Terraform,
</span></span><span class=line><span class=cl>    rerun this command to reinitialize your working directory. If you forget, other
</span></span><span class=line><span class=cl>    commands will detect it and remind you to do so if necessary.</span></span></code></pre></div></div></div></div></div><h2 id=2-create-execution-plan>2. Create execution plan</h2><p>The <code>terraform plan</code> command creates an execution plan. By default, creating a plan consists of:</p><ul><li>Reading the current state of any already-existing remote objects to make sure that the Terraform state is up-to-date.</li><li>Comparing the current configuration to the prior state and noting any differences.</li><li>Proposing a set of change actions that should, if applied, make the remote objects match the configuration.</li></ul><p>The plan command alone will not actually carry out the proposed changes, and so you can use this command to check whether the proposed changes match what you expected before you apply the changes</p><div class=tab-panel data-tab-group=23da3f7a59e23eaeec3a1961db74af87><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Execution Plan" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("23da3f7a59e23eaeec3a1961db74af87","Execution Plan")'><div><div class=tab-nav-hidden>Execution Plan</div><div class=tab-nav-text>Execution Plan</div></div></button>
<button data-tab-item="Execution Plan Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("23da3f7a59e23eaeec3a1961db74af87","Execution Plan Output")'><div><div class=tab-nav-hidden>Execution Plan Output</div><div class=tab-nav-text>Execution Plan Output</div></div></button></div><div class=tab-content-container><div data-tab-item="Execution Plan" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>terraform plan -var<span class=o>=</span><span class=s2>&#34;access_token=</span><span class=nv>$ACCESS_TOKEN</span><span class=s2>&#34;</span> -var<span class=o>=</span><span class=s2>&#34;realm=</span><span class=nv>$REALM</span><span class=s2>&#34;</span> -var<span class=o>=</span><span class=s2>&#34;o11y_prefix=[</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>]&#34;</span></span></span></code></pre></div></div></div><div data-tab-item="Execution Plan Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Plan: 146 to add, 0 to change, 0 to destroy.</span></span></code></pre></div></div></div></div></div><p>If the plan executes successfully, we can go ahead and apply:</p><hr><h2 id=3-apply-execution-plan>3. Apply execution plan</h2><p>The <code>terraform apply</code> command executes the actions proposed in the Terraform plan above.</p><p>The most straightforward way to use <code>terraform apply</code> is to run it without any arguments at all, in which case it will automatically create a new execution plan (as if you had run terraform plan) and then prompt you to provide the Access Token, Realm (the prefix defaults to <code>Splunk</code>) and approve the plan, before taking the indicated actions.</p><p>Due to this being a workshop it is required that the prefix is to be unique so you need to run the <code>terraform apply</code> below.</p><div class=tab-panel data-tab-group=80fbc7146a4f8e0a4e3b9890c14a8ea7><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item="Apply Plan" class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("80fbc7146a4f8e0a4e3b9890c14a8ea7","Apply Plan")'><div><div class=tab-nav-hidden>Apply Plan</div><div class=tab-nav-text>Apply Plan</div></div></button>
<button data-tab-item="Apply Plan Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("80fbc7146a4f8e0a4e3b9890c14a8ea7","Apply Plan Output")'><div><div class=tab-nav-hidden>Apply Plan Output</div><div class=tab-nav-text>Apply Plan Output</div></div></button></div><div class=tab-content-container><div data-tab-item="Apply Plan" class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>terraform apply -var<span class=o>=</span><span class=s2>&#34;access_token=</span><span class=nv>$ACCESS_TOKEN</span><span class=s2>&#34;</span> -var<span class=o>=</span><span class=s2>&#34;realm=</span><span class=nv>$REALM</span><span class=s2>&#34;</span> -var<span class=o>=</span><span class=s2>&#34;o11y_prefix=[</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>]&#34;</span></span></span></code></pre></div></div></div><div data-tab-item="Apply Plan Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Apply complete! Resources: 146 added, 0 changed, 0 destroyed.</span></span></code></pre></div></div></div></div></div><p>Once the apply has completed, validate that the detectors were created, under the <strong>Alerts & Detectors</strong> and click on the <strong>Detectors</strong> tab. They will be prefixed by the hostname of your instance. To check the prefix value run:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=k>$(</span>hostname<span class=k>)</span></span></span></code></pre></div><p>You will see a list of the new detectors and you can search for the prefix that was output from above.</p><p><a href=#image-a56a4a42866c71476779c6f50897fbe5 class=lightbox-link><img src=../../en/imt/monitoring-as-code/../images/detectors.png alt=Detectors style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-a56a4a42866c71476779c6f50897fbe5><img src=../../en/imt/monitoring-as-code/../images/detectors.png alt=Detectors class=lightbox-image loading=lazy></a></p><h2 id=3-destroy-all-your-hard-work>3. Destroy all your hard work</h2><p>The <code>terraform destroy</code> command is a convenient way to destroy all remote objects managed by your Terraform configuration.</p><p>While you will typically not want to destroy long-lived objects in a production environment, Terraform is sometimes used to manage ephemeral infrastructure for development purposes, in which case you can use <code>terraform destroy</code> to conveniently clean up all of those temporary objects once you are finished with your work.</p><p>Now go and destroy all the Detectors and Dashboards that were previously applied!</p><div class=tab-panel data-tab-group=ab0dd28891a48a128c3c8e249afd3f2f><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=Destroy class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("ab0dd28891a48a128c3c8e249afd3f2f","Destroy")'><div><div class=tab-nav-hidden>Destroy</div><div class=tab-nav-text>Destroy</div></div></button>
<button data-tab-item="Destroy Output" class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("ab0dd28891a48a128c3c8e249afd3f2f","Destroy Output")'><div><div class=tab-nav-hidden>Destroy Output</div><div class=tab-nav-text>Destroy Output</div></div></button></div><div class=tab-content-container><div data-tab-item=Destroy class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>terraform destroy -var<span class=o>=</span><span class=s2>&#34;access_token=</span><span class=nv>$ACCESS_TOKEN</span><span class=s2>&#34;</span> -var<span class=o>=</span><span class=s2>&#34;realm=</span><span class=nv>$REALM</span><span class=s2>&#34;</span></span></span></code></pre></div></div></div><div data-tab-item="Destroy Output" class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Destroy complete! Resources: 146 destroyed.</span></span></code></pre></div></div></div></div></div><p>Validate all the detectors have been removed by navigating to <em><strong>Alerts ‚Üí Detectors</strong></em></p><p><a href=#image-525a7acc59292c1f70b37129f60dd35c class=lightbox-link><img src=../../en/imt/monitoring-as-code/../images/destroy.png alt=Destroyed style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-525a7acc59292c1f70b37129f60dd35c><img src=../../en/imt/monitoring-as-code/../images/destroy.png alt=Destroyed class=lightbox-image loading=lazy></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Terraform is a tool for building, changing, and versioning infrastructure safely and efficiently. Terraform can manage existing and popular service providers as well as custom in-house solutions.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>A provider is responsible for understanding API interactions and exposing resources. Providers generally are an IaaS (e.g. Alibaba Cloud, AWS, GCP, Microsoft Azure, OpenStack), PaaS (e.g. Heroku), or SaaS services (e.g. Splunk, Terraform Cloud, DNSimple, Cloudflare).&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=service-bureau>Service Bureau</h1><span class="btn cstyle transparent"><button type=button>
<i class="fa-fw fas fa-clock"></i>
10 minutes</button></span><ul><li>How to keep track of the usage of Observability Cloud in your organization</li><li>Learn how to keep track of spend by exploring the Subscription Usage interface</li><li>Creating Teams</li><li>Adding notification rules to Teams</li><li>Controlling usage</li></ul><hr><h2 id=1-understanding-engagement>1. Understanding engagement</h2><p>To fully understand Observability Cloud engagement inside your organization, click on the <strong>&#187;</strong> bottom left and select the <strong>Settings ‚Üí Organization Overview</strong>, this will provide you with the following dashboards that shows you how your Observability Cloud organization is being used:</p><p><a href=#image-614d9a92b6753765f69a1e2b8679bb10 class=lightbox-link><img src=../../en/imt/servicebureau/../images/engagement.png alt="Organization overview" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-614d9a92b6753765f69a1e2b8679bb10><img src=../../en/imt/servicebureau/../images/engagement.png alt="Organization overview" class=lightbox-image loading=lazy></a></p><p>You will see various dashboards such as Throttling, System Limits, Entitlements & Engagement. The workshop organization you&rsquo;re using now may have less data to work with as this is cleared down after each workshop.</p><p>Take a minute to explore the various dashboards and charts in the Organization Overview of this workshop instance.</p><h2 id=2-subscription-usage>2. Subscription Usage</h2><p>If you want to see what your usage is against your subscription you can select <strong>Subscription Usage</strong>.</p><p><a href=#image-43a7ba43442177d901fc02b31b33c679 class=lightbox-link><img src=../../en/imt/servicebureau/../images/billing-and-usage-menu.png alt="Left pane" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-43a7ba43442177d901fc02b31b33c679><img src=../../en/imt/servicebureau/../images/billing-and-usage-menu.png alt="Left pane" class=lightbox-image loading=lazy></a></p><p>This screen may take a few seconds to load whilst it calculates and pulls in the usage.</p><h2 id=3-understanding-usage>3. Understanding usage</h2><p>You will see a screen similar to the one below that will give you an overview of the current usage, the average usage and your entitlement per category: Hosts, Containers, Custom Metrics and High Resolution Metrics.</p><p>For more information about these categories please refer to <a href=https://docs.splunk.com/Observability/admin/monitor-imm-billing-usage.html target=_blank>Monitor Splunk Infrastructure Monitoring subscription usage</a>.</p><p><a href=#image-54792e474466c93b0f4e94a45824bb71 class=lightbox-link><img src=../../en/imt/servicebureau/../images/usage-charts.png alt="Billing and Usage" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-54792e474466c93b0f4e94a45824bb71><img src=../../en/imt/servicebureau/../images/usage-charts.png alt="Billing and Usage" class=lightbox-image loading=lazy></a></p><hr><h2 id=4-examine-usage-in-detail>4. Examine usage in detail</h2><p>The top chart shows you the current subscription levels per category (shown by the red arrows at the top in the screenshot below).</p><p>Also, your current usage of the four catagories is displayed (shown at the red lines at the bottom of the chart).</p><p>In this example you can see that there are 25 Hosts, 0 Containers, 100 Custom Metrics and 0 High Resolution Metrics.</p><p><a href=#image-915d1b835262d1dcfb50725d6595bdde class=lightbox-link><img src=../../en/imt/servicebureau/../images/usage-detail.png alt="Billing and Usage-top" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-915d1b835262d1dcfb50725d6595bdde><img src=../../en/imt/servicebureau/../images/usage-detail.png alt="Billing and Usage-top" class=lightbox-image loading=lazy></a></p><p>In the bottom chart, you can see the usage per category for the current period (shown in the drop-down box on the top right of the chart).</p><p>The blue line marked <strong>Average Usage</strong> indicates what Observability Cloud will use to calculate your average usage for the current Subscription Usage Period.</p><p><a href=#image-8ea8f771748ae902bdca477db28105ad class=lightbox-link><img src=../../en/imt/servicebureau/../images/usage-trends.png alt="Billing and Usage-Bottom" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-8ea8f771748ae902bdca477db28105ad><img src=../../en/imt/servicebureau/../images/usage-trends.png alt="Billing and Usage-Bottom" class=lightbox-image loading=lazy></a></p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>As you can see from the screenshot, Observability Cloud does not use High Watermark or P95% for cost calculation but the actual average hourly usage, allowing you to do performance testing or Blue/Green style deployments etc. without the risk of overage charges.</p></div></div><p>To get a feel for the options you can change the metric displayed by selecting the different options from the <strong>Usage Metric</strong> drop down on the left, or change the <strong>Subscription Usage Period</strong> with the drop down on the right.</p><p>Please take a minute to explore the different time periods & categories and their views.</p><p>Finally, the pane on the right shows you information about your Subscription.</p><p><a href=#image-59d598c9e463aad9888efb8d23021983 class=lightbox-link><img src=../../en/imt/servicebureau/../images/subscription.png alt="Billing and Usage-Pane" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-59d598c9e463aad9888efb8d23021983><img src=../../en/imt/servicebureau/../images/subscription.png alt="Billing and Usage-Pane" class=lightbox-image loading=lazy></a></p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Service Bureau</h1><article class=default><header class=headline></header><h1 id=teams>Teams</h1><ul><li>Introduction to Teams</li><li>Create a Team and add members to Team</li></ul><hr><h2 id=1-introduction-to-teams>1. Introduction to Teams</h2><p>To make sure that users see the dashboards and alerts that are relevant to them when using Observability Cloud, most organizations will use Observability Cloud&rsquo;s Teams feature to assign a member to one or more Teams.</p><p>Ideally, this matches work related roles, for example, members of a Dev-Ops or Product Management group would be assigned to the corresponding Teams in Observability Cloud.</p><p>When a user logs into Observability Cloud, they can choose which Team Dashboard will be their home page and they will typically select the page for their primary role.</p><p>In the example below, the user is a member of the Development, Operations and Product Management Teams, and is currently viewing the Dashboard for the Operations Team.</p><p>This Dashboard has specific Dashboard Groups for Usage, SaaS and APM Business Workflows assigned but any Dashboard Group can be linked to a Teams Dashboard.</p><p>They can use the menu along the top left to quickly navigate between their allocated teams, or they can use the <strong>ALL TEAMS</strong> dropdown on the right to select specific Team Dashboards, as well as quickly accessing <strong>ALL Dashboards</strong> using the adjacent link.</p><p><a href=#image-a35d30e2d196f1a281d14d1dc716c2bc class=lightbox-link><img src=../../en/imt/servicebureau/teams/../../images/teams-homepage.png alt=Teams style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-a35d30e2d196f1a281d14d1dc716c2bc><img src=../../en/imt/servicebureau/teams/../../images/teams-homepage.png alt=Teams class=lightbox-image loading=lazy></a></p><p>Alerts can be linked to specific Teams so the Team can monitor only the Alerts they are interested in, and in the above example they currently have 1 active Critical Alert.</p><p>The Description for the Team Dashboard can be customized and can include links to team specific resources (using Markdown).</p><hr><h2 id=2-creating-a-new-team>2. Creating a new Team</h2><p>To work with to Splunk&rsquo;s Team UI click on the hamburger icon top left and select the <strong>Organizations Settings ‚Üí Teams</strong>.</p><p>When the <strong>Team</strong> UI is selected you will be presented with the list of current Teams.</p><p>To add a new <strong>Team</strong> click on the
<span class="btn cstyle blue"><button type=button>
Create New Team</button></span> button. This will present you with the <strong>Create New Team</strong> dialog.</p><p><a href=#image-32982ca9ecd89decac55cb4d2fb3b875 class=lightbox-link><img src=../../en/imt/servicebureau/teams/../../images/create-new-team.png alt="Add Team" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-32982ca9ecd89decac55cb4d2fb3b875><img src=../../en/imt/servicebureau/teams/../../images/create-new-team.png alt="Add Team" class=lightbox-image loading=lazy></a></p><p>Create your own team by naming it <code>[YOUR-INITIALS]-Team and</code> add yourself by searching for your name and selecting the <strong>Add</strong> link next to your name. This should result in a dialog similar to the one below:</p><p><a href=#image-0f1b90ccb199fb991bfc33ae825c8132 class=lightbox-link><img src=../../en/imt/servicebureau/teams/../../images/add-to-team.png alt="Add Team complete" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-0f1b90ccb199fb991bfc33ae825c8132><img src=../../en/imt/servicebureau/teams/../../images/add-to-team.png alt="Add Team complete" class=lightbox-image loading=lazy></a></p><p>You can remove selected users by pressing <strong>Remove</strong> or the small <strong>x</strong>.</p><p>Make sure you have your group created with your initials and with yourself added as a member, then click
<span class="btn cstyle blue"><button type=button>
Done</button></span></p><p>This will bring you back to the <strong>Teams</strong> list that will now show your Team and the one&rsquo;s created by others.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Note</div><div class=box-content><p>The Teams(s) you are a member of have a grey <strong>Member</strong> icon in front of it.</p></div></div><p>If no members are assigned to your Team, you should see a blue <strong>Add Members</strong> link instead of the member count, clicking on that link will get you to the <strong>Edit Team</strong> dialog where you can add yourself.</p><p>This is the same dialog you get when pressing the 3 dots <strong>&mldr;</strong> at the end of the line with your Team and selecting <strong>Edit Team</strong></p><p>The <strong>&mldr;</strong> menu gives you the option to Edit, Join, Leave or Delete a Team (leave and join will depend on if you are currently a member).</p><hr><h2 id=3-adding-notification-rules>3. Adding Notification Rules</h2><p>You can set up specific Notification rules per team, click on the <strong>Notification Policy</strong> tab, this will open the notification edit menu.</p><p><a href=#image-78e75828c046e838fb8f3b25e5eee23b class=lightbox-link><img src=../../en/imt/servicebureau/teams/../../images/notification-policy.png alt="Base notification menu" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-78e75828c046e838fb8f3b25e5eee23b><img src=../../en/imt/servicebureau/teams/../../images/notification-policy.png alt="Base notification menu" class=lightbox-image loading=lazy></a></p><p>By default the system offers you the ability to set up a general notification rule for your team.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Note</div><div class=box-content><p>The <strong>Email all team members</strong> option means all members of this Team will receive an email with the Alert information, regardless of the alert type.</p></div></div><h3 id=31-adding-recipients>3.1 Adding recipients</h3><p>You can add other recipients, by clicking
<span class="btn cstyle blue"><button type=button>
Add Recipient</button>
</span>. These recipients do not need to be Observability Cloud users.</p><p>However if you click on the link <strong>Configure separate notification tiers for different severity alerts</strong> you can configure every alert level independently.</p><p><a href=#image-b14e1fe11d6f16e945a674e647675431 class=lightbox-link><img src=../../en/imt/servicebureau/teams/../../images/single-policy.png alt="Multiple Notifications" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-b14e1fe11d6f16e945a674e647675431><img src=../../en/imt/servicebureau/teams/../../images/single-policy.png alt="Multiple Notifications" class=lightbox-image loading=lazy></a></p><p>Different alert rules for the different alert levels can be configured, as shown in the above image.</p><p>Critical and Major are using <a href=https://www.splunk.com/en_us/observability/on-call.html target=_blank>Splunk's On-Call</a> Incident Management solution. For the Minor alerts we send it to the Teams Slack channel and for Warning and Info we send an email.</p><h3 id=32-notification-integrations>3.2 Notification Integrations</h3><p>In addition to sending alert notifications via email, you can configure Observability Cloud to send alert notifications to the services shown below.</p><p><a href=#image-9125b259923e9e3fbf60767e05731bd5 class=lightbox-link><img src=../../en/imt/servicebureau/teams/../../images/integrations.png alt="Notifications options" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-9125b259923e9e3fbf60767e05731bd5><img src=../../en/imt/servicebureau/teams/../../images/integrations.png alt="Notifications options" class=lightbox-image loading=lazy></a></p><p>Take a moment to create some notification rules for you Team.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=controlling-usage>Controlling Usage</h1><ul><li>Discover how you can restrict usage by creating separate Access Tokens and set limits.</li></ul><h2 id=1-access-tokens>1. Access Tokens</h2><p>If you wish to control the consumption of Hosts, Containers, Custom Metrics and High Resolution Metrics, you can create multiple Access Tokens and allocate them to different parts of your organization.</p><p>In the UI click on the <strong>&#187;</strong> bottom left and select the <strong>Settings ‚Üí Access Tokens</strong> under <strong>General Settings</strong>.</p><p>The <strong>Access Tokens</strong> Interface provides an overview of your allotments in the form of a list of Access Tokens that have been generated. Every Organization will have a <strong>Default</strong> token generated when they are first setup, but there will typically be multiple Tokens configured.</p><p>Each Token is unique and can be assigned limits for the amount of Hosts, Containers, Custom Metrics and High Resolution Metrics it can consume.</p><p>The <strong>Usage Status</strong> Column quickly shows if a token is above or below its assigned limits.</p><p><a href=#image-e482548e8323548eb48b83bcfb1465c5 class=lightbox-link><img src=../../en/imt/servicebureau/tokens/../../images/access-tokens.png alt="New token" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-e482548e8323548eb48b83bcfb1465c5><img src=../../en/imt/servicebureau/tokens/../../images/access-tokens.png alt="New token" class=lightbox-image loading=lazy></a></p><h2 id=2-creating-a-new-token>2. Creating a new token</h2><p>Let create a new token by clicking on the
<span class="btn cstyle blue"><button type=button>
New Token</button></span> button. This will provide you with the <strong>Name Your Access Token</strong> dialog.</p><p>Enter the new name of the new Token by using your Initials e.g. RWC-Token and make sure to tick both <strong>Ingest Token</strong> and <strong>API Token</strong> checkboxes!</p><p><a href=#image-6a8e04bab31386801cef658c5f1d04a6 class=lightbox-link><img src=../../en/imt/servicebureau/tokens/../../images/new-access-token.png alt="Name Your token" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-6a8e04bab31386801cef658c5f1d04a6><img src=../../en/imt/servicebureau/tokens/../../images/new-access-token.png alt="Name Your token" class=lightbox-image loading=lazy></a></p><p>After you press
<span class="btn cstyle blue"><button type=button>
OK</button></span> you will be taken back to the <strong>Access Token</strong> UI. Here your new token should be present, among the ones created by others.</p><p><a href=#image-1884ea5aae51ebd8929c2d31d20f129a class=lightbox-link><img src=../../en/imt/servicebureau/tokens/../../images/access-token-created.png alt="full tokenlist" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-1884ea5aae51ebd8929c2d31d20f129a><img src=../../en/imt/servicebureau/tokens/../../images/access-token-created.png alt="full tokenlist" class=lightbox-image loading=lazy></a></p><p>If you have made an error in your naming, want to disable/enable a token or set a Token limit, click on the ellipsis (<strong>&mldr;</strong>) menu button behind a token limit to open the manage token menu.</p><p><a href=#image-c93eb3e45b06bcc4aac9c6260115412e class=lightbox-link><img src=../../en/imt/servicebureau/tokens/../../images/manage-access-token.png alt="Show Menu" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-c93eb3e45b06bcc4aac9c6260115412e><img src=../../en/imt/servicebureau/tokens/../../images/manage-access-token.png alt="Show Menu" class=lightbox-image loading=lazy></a></p><p>If you made a typo you can use the <strong>Rename Token</strong> option to correct the name of your token.</p><h2 id=3-disabling-a-token>3. Disabling a token</h2><p>If you need to make sure a token cannot be used to send Metrics in you can disable a token.</p><p>Click on <strong>Disable</strong> to disable the token, this means the token cannot be used for sending in data to Splunk Observability Cloud.</p><p>The line with your token should have become greyed out to indicate that is has been disabled as you can see in the screenshot below.</p><p><a href=#image-cc5bce7822a651a9074e2e1d07f774be class=lightbox-link><img src=../../en/imt/servicebureau/tokens/../../images/disable-access-token.png alt="Token disabled" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-cc5bce7822a651a9074e2e1d07f774be><img src=../../en/imt/servicebureau/tokens/../../images/disable-access-token.png alt="Token disabled" class=lightbox-image loading=lazy></a></p><p>Go ahead and click on the ellipsis (<strong>&mldr;</strong>) menu button to Disable and Enable your token.</p><h2 id=4-manage-token-usage-limits>4. Manage token usage limits</h2><p>Now Lets start limiting usage by clicking on Manage Token Limit in the 3 <strong>&mldr;</strong> menu.</p><p>This will show the Manage Token Limit Dialog:</p><p><a href=#image-80885ca467ca21368de2154fc58626f9 class=lightbox-link><img src=../../en/imt/servicebureau/tokens/../../images/manage-token-limit.png alt="Set Limits on token" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-80885ca467ca21368de2154fc58626f9><img src=../../en/imt/servicebureau/tokens/../../images/manage-token-limit.png alt="Set Limits on token" class=lightbox-image loading=lazy></a></p><p>In this Dialog you can set the limits per category.</p><p>Please go ahead and specify the limits as follows for each usage metric:</p><table><thead><tr><th>Limit</th><th>Value</th></tr></thead><tbody><tr><td>Host Limit</td><td>5</td></tr><tr><td>Container Limit</td><td>15</td></tr><tr><td>Custom Metric Limit</td><td>20</td></tr><tr><td>High Resolution Metric Limit</td><td>0</td></tr></tbody></table><p>For our lab use your own email address, and double check that you have the correct numbers in your dialog box as shown in the table above.</p><p>Token limits are used to trigger an alert that notify one or more recipients when the usage has been above 90% of the limit for 5 minutes.</p><p>To specify the recipients, click
<span class="btn cstyle blue"><button type=button>
Add Recipient</button>
</span>, then select the recipient or notification method you want to use (specifying recipients is optional but highly recommended).</p><p>The severity for token alerts is always Critical.</p><p>Click on
<span class="btn cstyle blue"><button type=button>
Update</button></span> to save your Access Tokens limits and The Alert Settings.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Note: Going above token limit</div><div class=box-content><p>When a token is at or above its limit in a usage category, new metrics for that usage category will not be stored and processed by Observability Cloud. This will make sure you there will be no unexpected cost due to a team sending in data without restriction.</p></div></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Note: Advanced alerting</div><div class=box-content><p>If you wish to get alerts before you hit 90%, you can create additional detectors using whatever values you want. These detectors could target the Teams consuming the specific Access Tokens so they can take action before the admins need to get involved.</p></div></div><p>In your company you would distribute these new Access Tokens to various teams, controlling how much information/data they can send to Observability Cloud.</p><p>This will allow you to fine tune the way you consume your Observability Cloud allotment and prevent overages from happening.</p><p><strong>Congratulations!</strong> You have now have completed the Service Bureau module.</p><footer class=footline></footer></article></section></section></div></main></div><script src=../../js/clipboard.min.js?1689079712 defer></script>
<script src=../../js/perfect-scrollbar.min.js?1689079712 defer></script>
<script src=../../js/theme.js?1689079712 defer></script></body></html>