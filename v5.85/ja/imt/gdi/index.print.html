<!doctype html><html lang=ja dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=generator content="Relearn 7.2.1"><meta name=description content="15åˆ† Splunk Helm chartã‚’ä½¿ç”¨ã—ã¦ã€K3s ã« OpenTelemetry Collector ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ Kubernetes Navigatorã§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ¢ç´¢ã—ã¾ã™ 1. Access Tokenã®å–å¾— Kubernetes ãŒèµ·å‹•ã—ãŸã‚‰ã€Splunk ã® UI ã‹ã‚‰ Access Token1 ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Access Token ã¯ã€å·¦ä¸‹ã«ã‚ã‚‹ Â» ã‚’é–‹ãã€ Settings â†’ Access Tokens ã‚’é¸æŠã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="OpenTelemetry Collector ã‚’ Kubernetes ã«å°å…¥ã™ã‚‹ :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="15åˆ† Splunk Helm chartã‚’ä½¿ç”¨ã—ã¦ã€K3s ã« OpenTelemetry Collector ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ Kubernetes Navigatorã§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ¢ç´¢ã—ã¾ã™ 1. Access Tokenã®å–å¾— Kubernetes ãŒèµ·å‹•ã—ãŸã‚‰ã€Splunk ã® UI ã‹ã‚‰ Access Token1 ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Access Token ã¯ã€å·¦ä¸‹ã«ã‚ã‚‹ Â» ã‚’é–‹ãã€ Settings â†’ Access Tokens ã‚’é¸æŠã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.85/ja/imt/gdi/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="OpenTelemetry Collector ã‚’ Kubernetes ã«å°å…¥ã™ã‚‹ :: Splunk Observability Cloud Workshops"><meta property="og:description" content="15åˆ† Splunk Helm chartã‚’ä½¿ç”¨ã—ã¦ã€K3s ã« OpenTelemetry Collector ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ Kubernetes Navigatorã§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ¢ç´¢ã—ã¾ã™ 1. Access Tokenã®å–å¾— Kubernetes ãŒèµ·å‹•ã—ãŸã‚‰ã€Splunk ã® UI ã‹ã‚‰ Access Token1 ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Access Token ã¯ã€å·¦ä¸‹ã«ã‚ã‚‹ Â» ã‚’é–‹ãã€ Settings â†’ Access Tokens ã‚’é¸æŠã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"><meta property="og:locale" content="ja"><meta property="og:type" content="website"><meta itemprop=name content="OpenTelemetry Collector ã‚’ Kubernetes ã«å°å…¥ã™ã‚‹ :: Splunk Observability Cloud Workshops"><meta itemprop=description content="15åˆ† Splunk Helm chartã‚’ä½¿ç”¨ã—ã¦ã€K3s ã« OpenTelemetry Collector ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ Kubernetes Navigatorã§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ¢ç´¢ã—ã¾ã™ 1. Access Tokenã®å–å¾— Kubernetes ãŒèµ·å‹•ã—ãŸã‚‰ã€Splunk ã® UI ã‹ã‚‰ Access Token1 ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Access Token ã¯ã€å·¦ä¸‹ã«ã‚ã‚‹ Â» ã‚’é–‹ãã€ Settings â†’ Access Tokens ã‚’é¸æŠã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"><meta itemprop=dateModified content="2024-11-13T11:31:49+00:00"><meta itemprop=wordCount content="2284"><title>OpenTelemetry Collector ã‚’ Kubernetes ã«å°å…¥ã™ã‚‹ :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/v5.85/ja/imt/gdi/index.html rel=canonical type=text/html title="OpenTelemetry Collector ã‚’ Kubernetes ã«å°å…¥ã™ã‚‹ :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/v5.85/images/favicon.ico?1741799553 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/v5.85/css/fontawesome-all.min.css?1741799553 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.85/css/fontawesome-all.min.css?1741799553 rel=stylesheet></noscript><link href=/observability-workshop/v5.85/css/auto-complete.css?1741799553 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.85/css/auto-complete.css?1741799553 rel=stylesheet></noscript><link href=/observability-workshop/v5.85/css/perfect-scrollbar.min.css?1741799553 rel=stylesheet><link href=/observability-workshop/v5.85/css/theme.min.css?1741799553 rel=stylesheet><link href=/observability-workshop/v5.85/css/format-print.min.css?1741799553 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop/v5.85",window.relearn.min=`.min`,window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.themevariants=["auto","splunk-light","splunk-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}}))},window.relearn.markVariant=function(){var t=window.localStorage.getItem(window.relearn.absBaseUri+"/variant"),e=document.querySelector("#R-select-variant");e&&(e.value=t)},window.relearn.initVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant(),window.T_Copy_to_clipboard=`ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼`,window.T_Copied_to_clipboard=`ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼!`,window.T_Copy_link_to_clipboard=`ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼`,window.T_Link_copied_to_clipboard=`ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!`,window.T_Reset_view=`ãƒ“ãƒ¥ãƒ¼ã®ãƒªã‚»ãƒƒãƒˆ`,window.T_View_reset=`ãƒªã‚»ãƒƒãƒˆã‚’è¦‹ã‚‹`,window.T_No_results_found=`"{0}" ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`,window.T_N_results_found=`"{0}" ã§ {1} ä»¶ã®çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"dp3FKraOS_wVhe-l7eCOsA",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({app:"observability-workshop",realm:"us1",rumAccessToken:"dp3FKraOS_wVhe-l7eCOsA"})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}p{margin:.75rem 0}.highlight{max-height:500px;overflow-y:auto}pre:not(.mermaid){margin:0}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/observability-workshop/v5.85/ja/imt/gdi/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="ç›®æ¬¡ (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#1-access-tokenã®å–å¾—>1. Access Tokenã®å–å¾—</a></li><li><a href=#2-helmã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«>2. Helmã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></li><li><a href=#3-ui-ã§ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç¢ºèªã™ã‚‹>3. UI ã§ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç¢ºèªã™ã‚‹</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.85/ja/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.85/ja/imt/index.html><span itemprop=name>Splunk IM</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>2. ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šè¾¼ã‚€</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.85/ja/imt/gdi/index.print.html title="ç« å…¨ä½“ã‚’å°åˆ·ã™ã‚‹ (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.85/ja/imt/initial-setup/index.html title="ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ç’°å¢ƒã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.85/ja/imt/gdi/nginx/index.html title="K3s ã« NGINX ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=æ›´ã«><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable imt" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=opentelemetry-collector-ã‚’-kubernetes-ã«å°å…¥ã™ã‚‹>OpenTelemetry Collector ã‚’ Kubernetes ã«å°å…¥ã™ã‚‹</h1><span class="btn cstyle transparent"><span><i class="fa-fw fas fa-clock"></i> <span class=title>15åˆ†</span></span></span><ul><li>Splunk Helm chartã‚’ä½¿ç”¨ã—ã¦ã€K3s ã« OpenTelemetry Collector ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li><li>Kubernetes Navigatorã§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ¢ç´¢ã—ã¾ã™</li></ul><hr><h2 id=1-access-tokenã®å–å¾—>1. Access Tokenã®å–å¾—</h2><p>Kubernetes ãŒèµ·å‹•ã—ãŸã‚‰ã€Splunk ã® UI ã‹ã‚‰ Access Token<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Access Token ã¯ã€å·¦ä¸‹ã«ã‚ã‚‹ <strong>&#187;</strong> ã‚’é–‹ãã€ <strong>Settings â†’ Access Tokens</strong> ã‚’é¸æŠã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p><p>ä¸»å‚¬è€…ãŒæŒ‡ç¤ºã—ãŸãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆä¾‹ï¼š <strong>O11y-Workshop-ACCESS</strong> ç­‰ï¼‰ã‚’é–‹ãã€ <strong>Show Token</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¬é–‹ã—ã¾ã™ã€‚<span class="btn cstyle grey"><span><span class=title>Copy</span></span></span> ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚ <strong>Default</strong> ã®ãƒˆãƒ¼ã‚¯ãƒ³ã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚</p><p><a href=#R-image-c81231c99bd7c68a1ee8d5f643f2ae96 class=lightbox-link><img alt="Access Token" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/access-token.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c81231c99bd7c68a1ee8d5f643f2ae96><img alt="Access Token" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/access-token.png></a></p><details open class="box cstyle notices default" style=--VARIABLE-BOX-color:warning><summary class=box-label>ç‹¬è‡ªã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ–°ãŸã«ä½œæˆã—ãªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„</summary><div class=box-content><p>ã“ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã®ãŸã‚ã«è¨­å®šã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½œæˆã—ã€Ingestã¨APIã®ä¸¡æ–¹ã®æ¨©é™ã‚’å‰²ã‚Šå½“ã¦ã¦ã„ã¾ã™ã€‚å®Ÿé‹ç”¨ã§ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¯ã€1ã¤ã®Tokenã«ã¯Ingestã¾ãŸã¯APIã¾ãŸã¯RUMã®ã‚ˆã†ãªå˜ä¸€ã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’å‰²ã‚Šå½“ã¦ã€å¿…è¦ãªå ´åˆã¯è¤‡æ•°ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚</p></div></details><p>ã¾ãŸã€Splunk ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® Realm<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> ã®åå‰ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®æœ€ä¸Šéƒ¨ã®åå‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€<strong>Account Settings</strong> ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™ã€‚Organizations ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚Realm ã¯ãƒšãƒ¼ã‚¸ã®ä¸­å¤®ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ ã“ã®ä¾‹ã§ã¯ã€Œus0ã€ã¨ãªã£ã¦ã„ã¾ã™ã€‚</p><p><a href=#R-image-5aad68fc887b08e0bdbae87c75a48419 class=lightbox-link><img alt="Account Settings" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/account-settings.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5aad68fc887b08e0bdbae87c75a48419><img alt="Account Settings" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/account-settings.png></a></p><h2 id=2-helmã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«>2. Helmã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h2><p>ç’°å¢ƒå¤‰æ•° <code>ACCESS_TOKEN</code> ã¨ <code>REALM</code> ã‚’ä½œæˆã—ã¦ã€é€²è¡Œä¸­ã® Helm ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚³ãƒãƒ³ãƒ‰ã§ä½¿ç”¨ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€Realm ãŒ <code>us1</code> ã®å ´åˆã¯ã€<code>export REALM=us1</code> ã¨å…¥åŠ›ã—ã€<code>eu0</code> ã®å ´åˆã¯ã€<code>export REALM=eu0</code> ã¨å…¥åŠ›ã—ã¾ã™ã€‚</p><div class=tab-panel data-tab-group=7e4f869ffc3f73d6e107114b5711751e><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=export-access-token class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("7e4f869ffc3f73d6e107114b5711751e","export-access-token")'>
<span class=tab-nav-text>Export ACCESS TOKEN</span></button></div><div class=tab-content-container><div data-tab-item=export-access-token class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>ACCESS_TOKEN</span><span class=o>=</span><span class=s2>&#34;&lt;replace_with_O11y-Workshop-ACCESS_TOKEN&gt;&#34;</span></span></span></code></pre></div></div></div></div></div><div class=tab-panel data-tab-group=965b361b0a216874dd8b09392d681b15><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=export-realm class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("965b361b0a216874dd8b09392d681b15","export-realm")'>
<span class=tab-nav-text>Export REALM</span></button></div><div class=tab-content-container><div data-tab-item=export-realm class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>REALM</span><span class=o>=</span><span class=s2>&#34;&lt;replace_with_REALM&gt;&#34;</span></span></span></code></pre></div></div></div></div></div><p>Splunk Helm ãƒãƒ£ãƒ¼ãƒˆã‚’ä½¿ã£ã¦ OpenTelemetry Collector ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã¾ãšã€Splunk Helm chart ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ Helm ã«è¿½åŠ ã—ã¦ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¾ã™ã€‚</p><div class=tab-panel data-tab-group=34f6631d7eea0eaaae58651160ad68c7><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=helm-repo-add class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("34f6631d7eea0eaaae58651160ad68c7","helm-repo-add")'>
<span class=tab-nav-text>Helm Repo Add</span>
</button>
<button data-tab-item=helm-repo-add-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("34f6631d7eea0eaaae58651160ad68c7","helm-repo-add-output")'>
<span class=tab-nav-text>Helm Repo Add Output</span></button></div><div class=tab-content-container><div data-tab-item=helm-repo-add class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart <span class=o>&amp;&amp;</span> helm repo update</span></span></code></pre></div></div></div><div data-tab-item=helm-repo-add-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
&ldquo;splunk-otel-collector-chart&rdquo; has been added to your repositories
Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
Hang tight while we grab the latest from your chart repositories&mldr;
&mldr;Successfully got an update from the &ldquo;splunk-otel-collector-chart&rdquo; chart repository
Update Complete. âˆHappy Helming!âˆ</p></div></div></div></div><p>ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§OpenTelemetry Collector Helmãƒãƒ£ãƒ¼ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã“ã‚Œã¯ <strong>å¤‰æ›´ã—ãªã„ã§ãã ã•ã„</strong>ã€‚</p><div class=tab-panel data-tab-group=255b3c2ef46ec02da4282e20b12f2fd3><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=helm-install class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("255b3c2ef46ec02da4282e20b12f2fd3","helm-install")'>
<span class=tab-nav-text>Helm Install</span>
</button>
<button data-tab-item=helm-install-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("255b3c2ef46ec02da4282e20b12f2fd3","helm-install-output")'>
<span class=tab-nav-text>Helm Install Output</span></button></div><div class=tab-content-container><div data-tab-item=helm-install class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm install splunk-otel-collector --version 0.120.0 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.realm=</span><span class=nv>$REALM</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.accessToken=</span><span class=nv>$ACCESS_TOKEN</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;clusterName=</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>-k3s-cluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.logsEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.profilingEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.infrastructureMonitoringEventsEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;environment=</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>-workshop&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>splunk-otel-collector-chart/splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>-f ~/workshop/k3s/otel-collector.yaml</span></span></code></pre></div></div></div><div data-tab-item=helm-install-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
NAME: splunk-otel-collector
LAST DEPLOYED: Fri May 7 11:19:01 2021
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None</p></div></div></div></div><p>ç´„30ç§’ç¨‹åº¦å¾…ã£ã¦ã‹ã‚‰ <code>kubectl get pods</code> ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ–°ã—ã„ãƒãƒƒãƒ‰ãŒç¨¼åƒã—ã¦ã„ã‚‹ã“ã¨ãŒå ±å‘Šã•ã‚Œã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®é€²æ—ã‚’ç›£è¦–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><p>ç¶šè¡Œã™ã‚‹å‰ã«ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒRunningã¨å ±å‘Šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p><div class=tab-panel data-tab-group=f74225d85d3e7e5e665114417bd1d151><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=kubectl-get-pods class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("f74225d85d3e7e5e665114417bd1d151","kubectl-get-pods")'>
<span class=tab-nav-text>Kubectl Get Pods</span>
</button>
<button data-tab-item=kubectl-get-pods-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("f74225d85d3e7e5e665114417bd1d151","kubectl-get-pods-output")'>
<span class=tab-nav-text>Kubectl Get Pods Output</span></button></div><div class=tab-content-container><div data-tab-item=kubectl-get-pods class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div data-tab-item=kubectl-get-pods-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>NAME                                                          READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>splunk-otel-collector-agent-2sk6k                             0/1     Running   0          10s
</span></span><span class=line><span class=cl>splunk-otel-collector-k8s-cluster-receiver-6956d4446f-gwnd7   0/1     Running   0          10s</span></span></code></pre></div></div></div></div></div><p>OpenTelemetry Collector podã®ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ã€ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚å‡ºåŠ›ã¯ã€ä»¥ä¸‹ã®å‡ºåŠ›ä¾‹ã«ã‚ã‚‹ãƒ­ã‚°ã«ä¼¼ã¦ã„ã‚‹ã¯ãšã§ã™ã€‚</p><p>ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€<code>helm</code> ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§è¨­å®šã—ãŸãƒ©ãƒ™ãƒ«ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼ˆçµ‚äº†ã™ã‚‹ã«ã¯ <strong>ctrl+c</strong> ã‚’æŠ¼ã—ã¾ã™ï¼‰ã€‚ã‚‚ã—ãã¯ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ <code>k9s</code> ã‚¿ãƒ¼ãƒŸãƒŠãƒ« UI ã‚’ä½¿ã†ã¨ãƒœãƒ¼ãƒŠã‚¹ãƒã‚¤ãƒ³ãƒˆãŒã‚‚ã‚‰ãˆã¾ã™ï¼</p><div class=tab-panel data-tab-group=4025a60ceb1840bfc63adb8cc1952f87><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=kubectl-logs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("4025a60ceb1840bfc63adb8cc1952f87","kubectl-logs")'>
<span class=tab-nav-text>Kubectl Logs</span>
</button>
<button data-tab-item=kubectl-logs-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("4025a60ceb1840bfc63adb8cc1952f87","kubectl-logs-output")'>
<span class=tab-nav-text>Kubectl Logs Output</span></button></div><div class=tab-content-container><div data-tab-item=kubectl-logs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl logs -l <span class=nv>app</span><span class=o>=</span>splunk-otel-collector -f --container otel-collector</span></span></code></pre></div></div></div><div data-tab-item=kubectl-logs-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>2021-03-21T16:11:10.900Z        INFO    service/service.go:364  Starting receivers...
</span></span><span class=line><span class=cl>2021-03-21T16:11:10.900Z        INFO    builder/receivers_builder.go:70 Receiver is starting... {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;prometheus&#34;, &#34;component_name&#34;: &#34;prometheus&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    builder/receivers_builder.go:75 Receiver started.       {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;prometheus&#34;, &#34;component_name&#34;: &#34;prometheus&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    builder/receivers_builder.go:70 Receiver is starting... {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;k8s_cluster&#34;, &#34;component_name&#34;: &#34;k8s_cluster&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    k8sclusterreceiver@v0.21.0/watcher.go:195       Configured Kubernetes MetadataExporter  {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;k8s_cluster&#34;, &#34;component_name&#34;: &#34;k8s_cluster&#34;, &#34;exporter_name&#34;: &#34;signalfx&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    builder/receivers_builder.go:75 Receiver started.       {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;k8s_cluster&#34;, &#34;component_name&#34;: &#34;k8s_cluster&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    healthcheck/handler.go:128      Health Check state change       {&#34;component_kind&#34;: &#34;extension&#34;, &#34;component_type&#34;: &#34;health_check&#34;, &#34;component_name&#34;: &#34;health_check&#34;, &#34;status&#34;: &#34;ready&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    service/service.go:267  Everything is ready. Begin running and processing data.
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.009Z        INFO    k8sclusterreceiver@v0.21.0/receiver.go:59       Starting shared informers and wait for initial cache sync.      {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;k8s_cluster&#34;, &#34;component_name&#34;: &#34;k8s_cluster&#34;}
</span></span><span class=line><span class=cl>2021-03-21T16:11:11.281Z        INFO    k8sclusterreceiver@v0.21.0/receiver.go:75       Completed syncing shared informer caches.       {&#34;component_kind&#34;: &#34;receiver&#34;, &#34;component_type&#34;: &#34;k8s_cluster&#34;, &#34;component_name&#34;: &#34;k8s_cluster&#34;}</span></span></code></pre></div></div></div></div></div><details open class="box cstyle notices default" style=--VARIABLE-BOX-color:info><summary class=box-label>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«å¤±æ•—ã—ãŸå ´åˆã«å‰Šé™¤ã™ã‚‹</summary><div class=box-content><p>OpenTelemetry Collectorã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«å¤±æ•—ã—ãŸå ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ã«ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã§ã€æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>helm delete splunk-otel-collector</span></span></code></pre></div></div></details><hr><h2 id=3-ui-ã§ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç¢ºèªã™ã‚‹>3. UI ã§ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç¢ºèªã™ã‚‹</h2><p>Splunk ã® UI ã§å·¦ä¸‹ã® <strong>&#187;</strong> ã‚’é–‹ã„ã¦ <strong>Infrastructure</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</p><p><a href=#R-image-324391643de2d258293c28646bc85ea7 class=lightbox-link><img alt="Kubernetes Navigator Mapã®é¸æŠ" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/clustermap-nav.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-324391643de2d258293c28646bc85ea7><img alt="Kubernetes Navigator Mapã®é¸æŠ" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/clustermap-nav.png></a></p><p><strong>Containers</strong> ã®ä¸‹ã«ã‚ã‚‹ <strong>Kubernetes</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ Kubernetes Navigator Cluster Map ã‚’é–‹ãã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒé€ä¿¡ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p><p>ã‚¯ãƒ©ã‚¹ã‚¿ãŒæ¤œå‡ºã•ã‚Œã€ãƒ¬ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€è‡ªåˆ†ã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ¢ã—ã¾ã™ï¼ˆãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ã¯ã€ä»–ã®å¤šãã®ã‚¯ãƒ©ã‚¹ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼‰ã€‚ã‚¯ãƒ©ã‚¹ã‚¿åã‚’è¦‹ã¤ã‘ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€å‡ºåŠ›ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚</p><div class=tab-panel data-tab-group=2a044c1a34d4ee7f057b0a410938083f><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=echo-cluster-name class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("2a044c1a34d4ee7f057b0a410938083f","echo-cluster-name")'>
<span class=tab-nav-text>Echo Cluster Name</span></button></div><div class=tab-content-container><div data-tab-item=echo-cluster-name class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=k>$(</span>hostname<span class=k>)</span>-k3s-cluster</span></span></code></pre></div></div></div></div></div><p>æ¬¡ã«ã€UIã§ã€Splunkãƒ­ã‚´ã®ã™ãä¸‹ã«ã‚ã‚‹ã€ŒCluster: - ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€å…ˆç¨‹ã‚³ãƒ”ãƒ¼ã—ãŸã‚¯ãƒ©ã‚¹ã‚¿åã‚’æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã«è²¼ã‚Šä»˜ã‘ã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¯ãƒ©ã‚¹ã‚¿ã‚’é¸æŠã—ã€æœ€å¾Œã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ãã®ä»–ã®éƒ¨åˆ†ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ•ã‚£ãƒ«ã‚¿ã‚’é©ç”¨ã—ã¾ã™ã€‚</p><p><a href=#R-image-e742e85a0b6b1da6d82d825fa40b4ba9 class=lightbox-link><img alt="K8S Clusters Filter" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/search-k3s-cluster.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e742e85a0b6b1da6d82d825fa40b4ba9><img alt="K8S Clusters Filter" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/search-k3s-cluster.png></a></p><p><a href=#R-image-32ff7dc771ccca1b074e550508ef1867 class=lightbox-link><img alt="Select K8S Cluster" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/selecting-k3s-cluster.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-32ff7dc771ccca1b074e550508ef1867><img alt="Select K8S Cluster" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/selecting-k3s-cluster.png></a></p><p><a href=#R-image-235f5007535b482774970233c4b5f03f class=lightbox-link><img alt="Filtered K8S Cluster" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/filtered-k3s-cluster.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-235f5007535b482774970233c4b5f03f><img alt="Filtered K8S Cluster" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/filtered-k3s-cluster.png></a></p><p>ãƒãƒ¼ãƒ‰ã®çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®æ·¡ã„ãƒ–ãƒ«ãƒ¼ã®èƒŒæ™¯ã«ã‚«ãƒ¼ã‚½ãƒ«ã‚’ç½®ãã€å·¦ä¸Šã«è¡¨ç¤ºã•ã‚Œã‚‹é’ã„è™«çœ¼é¡ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ ã€‚
<a href=#R-image-dbc1718784690be386aac5c943088a08 class=lightbox-link><img alt="Magnifying Glass" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/blue-cross.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-dbc1718784690be386aac5c943088a08><img alt="Magnifying Glass" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/blue-cross.png></a></p><p>ã“ã‚Œã§ã€ãƒãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã¾ã§ãƒ‰ãƒªãƒ«ãƒ€ã‚¦ãƒ³ã§ãã¾ã™ã€‚ æ¬¡ã«ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‹ãã€Metricsã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‹ãã¾ã™ã€‚</p><p>ã‚µã‚¤ãƒ‰ã®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚’ä½¿ã£ã¦ã€CPUã€ãƒ¡ãƒ¢ãƒªã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€ã‚¤ãƒ™ãƒ³ãƒˆãªã©ã€ã‚¯ãƒ©ã‚¹ã‚¿/ãƒãƒ¼ãƒ‰ã«é–¢é€£ã™ã‚‹æ§˜ã€…ãªãƒãƒ£ãƒ¼ãƒˆã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><p><a href=#R-image-1422e9917434ef181a25368073d4f65f class=lightbox-link><img alt="Sidebar metrics" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/explore-metrics.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1422e9917434ef181a25368073d4f65f><img alt="Sidebar metrics" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/explore-metrics.png></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Access Tokens (Org Tokensã¨å‘¼ã°ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™)ã¯ã€é•·æœŸé–“åˆ©ç”¨ã‚’å‰æã¨ã—ãŸçµ„ç¹”ãƒ¬ãƒ™ãƒ«ã®ãƒˆãƒ¼ã‚¯ãƒ³ã§ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã“ã‚Œã‚‰ã®ãƒˆãƒ¼ã‚¯ãƒ³ã¯ 5 å¹´é–“ä¿å­˜ã•ã‚Œã¾ã™ã€‚ãã®ãŸã‚ã€é•·æœŸé–“ã«ã‚ãŸã£ã¦ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã‚’é€ä¿¡ã™ã‚‹ã‚¨ãƒŸãƒƒã‚¿ãƒ¼ã«çµ„ã¿è¾¼ã‚“ã ã‚Šã€Splunk API ã‚’å‘¼ã³å‡ºã™é•·æœŸçš„ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä½¿ç”¨ã—ãŸã‚Šã™ã‚‹ã®ã«é©ã—ã¦ã„ã¾ã™ã€‚&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>Realm ã¨ã¯ã€Splunkå†…éƒ¨ã®ç®¡ç†å˜ä½ã®ã§ã€ãã®ä¸­ã§çµ„ç¹”ãŒãƒ›ã‚¹ãƒˆã•ã‚Œã¾ã™ã€‚ç•°ãªã‚‹ Realm ã«ã¯ç•°ãªã‚‹ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒã‚ã‚Šã¾ã™ (ãŸã¨ãˆã°ã€ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã™ã‚‹ãŸã‚ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ã€<strong><code>us1</code></strong> realm ã§ã¯ <code>ingest.us1.signalfx.com</code> ã€<strong><code>eu0</code></strong> ãƒ¬ãƒ«ãƒ ã§ã¯ <code>ingest.eu0.signalfx.com</code> ã¨ãªã‚Šã¾ã™)ã€‚ã“ã®realmåã¯ã€Splunk UI ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æŒ‡å®šã™ã‚‹éš›ã«ãƒ¬ãƒ«ãƒ åã‚’å«ã‚ãªã„å ´åˆã€Splunk ã¯ <strong><code>us0</code></strong> ãƒ¬ãƒ«ãƒ ã‚’æŒ‡ã—ã¦ã„ã‚‹ã¨è§£é‡ˆã—ã¾ã™ã€‚&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/11/13</span></span></footer></article><section><h1 class=a11y-only>2. ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šè¾¼ã‚€ã®ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h1><article class=default><header class=headline></header><h1 id=k3s-ã«-nginx-ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹>K3s ã« NGINX ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹</h1><ul><li>NGINX ReplicaSet ã‚’ K3s ã‚¯ãƒ©ã‚¹ã‚¿ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€NGINX ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ã‚’ç¢ºèªã—ã¾ã™ã€‚</li><li>è² è·ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ä½œæˆã—ã€Splunk Observability Cloudã«ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ï¼</li></ul><hr><h2 id=1-nginx-ã®èµ·å‹•>1. NGINX ã®èµ·å‹•</h2><p>Splunk UI ã§ <strong>WORKLOADS</strong> ã‚¿ãƒ–ã‚’é¸æŠã—ã¦ã€å®Ÿè¡Œä¸­ã® Pod ã®æ•°ã‚’ç¢ºèªã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¹ã‚¿ä¸Šã®ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã®æ¦‚è¦ãŒã‚ã‹ã‚‹ã¯ãšã§ã™ã€‚</p><p><a href=#R-image-60e01a76357c7e0696c03080f1a9a8ae class=lightbox-link><img alt="Workload Agent" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../../images/k8s-workloads.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-60e01a76357c7e0696c03080f1a9a8ae><img alt="Workload Agent" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../../images/k8s-workloads.png></a></p><p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® Kubernetes Pod ã®ã†ã¡ã€ãƒãƒ¼ãƒ‰ã”ã¨ã«å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹å˜ä¸€ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚³ãƒ³ãƒ†ãƒŠã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ã“ã®1ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãŒã€ã“ã®ãƒãƒ¼ãƒ‰ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ã‚‹ã™ã¹ã¦ã® Pod ã¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç›£è¦–ã—ã¾ã™ï¼</p><p>æ¬¡ã«ã€<strong>MAP</strong> ã‚¿ãƒ–ã‚’é¸æŠã—ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒãƒ¼ãƒ‰ãƒ“ãƒ¥ãƒ¼ã«æˆ»ã—ã€å†åº¦ã‚¯ãƒ©ã‚¹ã‚¿ã‚’é¸æŠã—ã¾ã™ã€‚</p><p>Multipass ã¾ãŸã¯ AWS/EC2 ã®ã‚·ã‚§ãƒ«ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã€<code>nginx</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¾ã™ã€‚</p><div class=tab-panel data-tab-group=1fa0d07bf16b46cfd6e6a375351be500><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=change-directory class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("1fa0d07bf16b46cfd6e6a375351be500","change-directory")'>
<span class=tab-nav-text>Change Directory</span></button></div><div class=tab-content-container><div data-tab-item=change-directory class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~/workshop/k3s/nginx</span></span></code></pre></div></div></div></div></div><hr><h2 id=2-nginxã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆä½œæˆ>2. NGINXã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆä½œæˆ</h2><p>NGINX ã® ConfigMap<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> ã‚’ <code>nginx.conf</code> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã£ã¦ä½œæˆã—ã¾ã™ã€‚</p><div class=tab-panel data-tab-group=233ad8ae1d07836aa41382a51334c633><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=kubectl-configmap-create class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("233ad8ae1d07836aa41382a51334c633","kubectl-configmap-create")'>
<span class=tab-nav-text>Kubectl Configmap Create</span>
</button>
<button data-tab-item=kubectl-create-configmap-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("233ad8ae1d07836aa41382a51334c633","kubectl-create-configmap-output")'>
<span class=tab-nav-text>Kubectl Create Configmap Output</span></button></div><div class=tab-content-container><div data-tab-item=kubectl-configmap-create class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create configmap nginxconfig --from-file<span class=o>=</span>nginx.conf</span></span></code></pre></div></div></div><div data-tab-item=kubectl-create-configmap-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>configmap/nginxconfig created</span></span></code></pre></div></div></div></div></div><p>ç¶šã„ã¦ã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚</p><div class=tab-panel data-tab-group=bd24167c1dbb3d8f05e4ca39984b4727><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=kubectl-create-deployment class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("bd24167c1dbb3d8f05e4ca39984b4727","kubectl-create-deployment")'>
<span class=tab-nav-text>Kubectl Create Deployment</span>
</button>
<button data-tab-item=kubectl-create-deployment-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("bd24167c1dbb3d8f05e4ca39984b4727","kubectl-create-deployment-output")'>
<span class=tab-nav-text>Kubectl Create Deployment Output</span></button></div><div class=tab-content-container><div data-tab-item=kubectl-create-deployment class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create -f nginx-deployment.yaml</span></span></code></pre></div></div></div><div data-tab-item=kubectl-create-deployment-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>deployment.apps/nginx created
service/nginx created</p></div></div></div></div><p>æ¬¡ã«ã€NGINXã«å¯¾ã™ã‚‹è² è·ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ãŸã‚ã€ Locust<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚</p><div class=tab-panel data-tab-group=2556166713003a28fc350451b55cfa17><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=kubectl-create-deployment class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("2556166713003a28fc350451b55cfa17","kubectl-create-deployment")'>
<span class=tab-nav-text>Kubectl Create Deployment</span>
</button>
<button data-tab-item=kubectl-create-deployment-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("2556166713003a28fc350451b55cfa17","kubectl-create-deployment-output")'>
<span class=tab-nav-text>Kubectl Create Deployment Output</span></button></div><div class=tab-content-container><div data-tab-item=kubectl-create-deployment class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create -f locust-deployment.yaml</span></span></code></pre></div></div></div><div data-tab-item=kubectl-create-deployment-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>deployment.apps/nginx-loadgenerator created
</span></span><span class=line><span class=cl>service/nginx-loadgenerator created</span></span></code></pre></div></div></div></div></div><p>ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãŒæˆåŠŸã—ã€Locust ã¨ NGINX Pod ãŒå‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p><p>Splunk UI ã‚’é–‹ã„ã¦ã„ã‚Œã°ã€æ–°ã—ã„ Pod ãŒèµ·å‹•ã—ã€ã‚³ãƒ³ãƒ†ãƒŠãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ã‚‹ã®ãŒã‚ã‹ã‚‹ã¯ãšã§ã™ã€‚</p><p>Pod ãŒå®Ÿè¡ŒçŠ¶æ…‹ã«ç§»è¡Œã™ã‚‹ã¾ã§ã«ã¯ 20 ç§’ç¨‹åº¦ã—ã‹ã‹ã‹ã‚Šã¾ã›ã‚“ã€‚Splunk UIã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¯ãƒ©ã‚¹ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p><p><a href=#R-image-43d92842e655e13e3d337f3906db43ce class=lightbox-link><img alt="Back to Cluster" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../../images/cluster.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-43d92842e655e13e3d337f3906db43ce><img alt="Back to Cluster" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../../images/cluster.png></a></p><p>ã‚‚ã†ä¸€åº¦ <strong>WORKLOADS</strong> ã‚¿ãƒ–ã‚’é¸æŠã™ã‚‹ã¨ã€æ–°ã—ã„ ReplicaSet ã¨ NGINX ç”¨ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</p><p><a href=#R-image-0846b94728550dc6a0f316ddaceba6c4 class=lightbox-link><img alt="NGINX loaded" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../../images/k8s-workloads-nginx.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0846b94728550dc6a0f316ddaceba6c4><img alt="NGINX loaded" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../../images/k8s-workloads-nginx.png></a></p><hr><p>ã“ã‚Œã‚’ã‚·ã‚§ãƒ«ã§ã‚‚æ¤œè¨¼ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p><div class=tab-panel data-tab-group=3519370d29a39c3d7be17045149472ef><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=kubectl-get-pods class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("3519370d29a39c3d7be17045149472ef","kubectl-get-pods")'>
<span class=tab-nav-text>Kubectl Get Pods</span>
</button>
<button data-tab-item=kubectl-get-pods-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("3519370d29a39c3d7be17045149472ef","kubectl-get-pods-output")'>
<span class=tab-nav-text>Kubectl Get Pods Output</span></button></div><div class=tab-content-container><div data-tab-item=kubectl-get-pods class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div data-tab-item=kubectl-get-pods-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>NAME                                                          READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>splunk-otel-collector-k8s-cluster-receiver-77784c659c-ttmpk   1/1     Running   0          9m19s
</span></span><span class=line><span class=cl>splunk-otel-collector-agent-249rd                             1/1     Running   0          9m19s
</span></span><span class=line><span class=cl>svclb-nginx-vtnzg                                             1/1     Running   0          5m57s
</span></span><span class=line><span class=cl>nginx-7b95fb6b6b-7sb9x                                        1/1     Running   0          5m57s
</span></span><span class=line><span class=cl>nginx-7b95fb6b6b-lnzsq                                        1/1     Running   0          5m57s
</span></span><span class=line><span class=cl>nginx-7b95fb6b6b-hlx27                                        1/1     Running   0          5m57s
</span></span><span class=line><span class=cl>nginx-7b95fb6b6b-zwns9                                        1/1     Running   0          5m57s
</span></span><span class=line><span class=cl>svclb-nginx-loadgenerator-nscx4                               1/1     Running   0          2m20s
</span></span><span class=line><span class=cl>nginx-loadgenerator-755c8f7ff6-x957q                          1/1     Running   0          2m20s</span></span></code></pre></div></div></div></div></div><hr><h2 id=3-locust-ã®è² è·ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ>3. Locust ã®è² è·ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ</h2><p>Locust ã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®è² è·ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã§ã€EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã®8083ç•ªãƒãƒ¼ãƒˆã§ Locust ãŒåˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚Webãƒ–ãƒ©ã‚¦ã‚¶ã§æ–°ã—ã„ã‚¿ãƒ–ã‚’é–‹ãã€<code>http://{==EC2-IP==}:8083/</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€Locust ãŒå‹•ä½œã—ã¦ã„ã‚‹ã®ãŒç¢ºèªã§ãã¾ã™ã€‚</p><p><a href=#R-image-d22ab8bb16b7ba50409b19bae4291f3e class=lightbox-link><img alt=Locust class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../../images/nginx-locust.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d22ab8bb16b7ba50409b19bae4291f3e><img alt=Locust class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../../images/nginx-locust.png></a></p><p><strong>Spawn rate</strong> ã‚’ 2 ã«è¨­å®šã—ã€<strong>Start Swarming</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</p><p><a href=#R-image-1780d0fd0184a0164f31828ffcc56f4c class=lightbox-link><img alt="Locust Spawn Rate" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../../images/nginx-locust-spawn-rate.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1780d0fd0184a0164f31828ffcc56f4c><img alt="Locust Spawn Rate" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../../images/nginx-locust-spawn-rate.png></a></p><p>ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ç·©ã‚„ã‹ãªé€£ç¶šã—ãŸè² è·ãŒã‹ã‹ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p><p><a href=#R-image-264ac91db2913a3f5adc63444907399f class=lightbox-link><img alt="Locust Statistics" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../../images/nginx-locust-statistics.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-264ac91db2913a3f5adc63444907399f><img alt="Locust Statistics" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../../images/nginx-locust-statistics.png></a></p><p>ä¸Šè¨˜ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‹ã‚‰ã‚ã‹ã‚‹ã‚ˆã†ã«ã€ã»ã¨ã‚“ã©ã®ã‚³ãƒ¼ãƒ«ã¯å¤±æ•—ã‚’å ±å‘Šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¾ã ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ãªã„ãŸã‚äºˆæƒ³ã•ã‚Œã‚‹ã“ã¨ã§ã™ãŒã€NGINXã¯ã‚¢ã‚¯ã‚»ã‚¹è©¦è¡Œã‚’å ±å‘Šã—ã¦ãŠã‚Šã€ã“ã‚Œã‚‰ã®ãƒ¡ãƒˆãƒªãƒƒã‚¯ã‚‚è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p><p>ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ <strong>Dashboards â†’ Built-in Dashboard Groups â†’ NGINX â†’ NGINX Servers</strong> ã‚’é¸æŠã—ã¦ã€UIã«ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ã•ã‚‰ã« <strong>Overrides</strong> ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é©ç”¨ã—ã¦ã€ <code>k8s.cluster.name:</code> ã«ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã® <code>echo $(hostname)-k3s-cluster</code> ã§è¿”ã•ã‚Œã‚‹ã‚¯ãƒ©ã‚¹ã‚¿ã®åå‰ã‚’è¦‹ã¤ã‘ã¾ã™ã€‚</p><p><a href=#R-image-b80d566f9184931d0a0887d8437b63e0 class=lightbox-link><img alt=NGINXãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../../images/nginx-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b80d566f9184931d0a0887d8437b63e0><img alt=NGINXãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../../images/nginx-dashboard.png></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>ConfigMap ã¨ã¯ã€ã‚­ãƒ¼ã¨å€¤ã®ãƒšã‚¢ã§éæ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ API ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚Pod ã¯ã€ç’°å¢ƒå¤‰æ•°ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã€ã¾ãŸã¯ãƒœãƒªãƒ¥ãƒ¼ãƒ å†…ã®æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ ConfigMap ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ConfigMap ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ç’°å¢ƒå›ºæœ‰ã®æ§‹æˆã‚’ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰åˆ‡ã‚Šé›¢ã™ã“ã¨ãŒã§ãã‚‹ãŸã‚ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç§»æ¤ãŒå®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://locust.io/ rel=external target=_blank>Locust ã¨ã¯ï¼Ÿ</a>.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2023/11/16</span></span></footer></article></section></div></main></div><script src=/observability-workshop/v5.85/js/clipboard.min.js?1741799553 defer></script><script src=/observability-workshop/v5.85/js/perfect-scrollbar.min.js?1741799553 defer></script><script src=/observability-workshop/v5.85/js/theme.js?1741799553 defer></script></body></html>