<!doctype html><html lang=ja dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=generator content="Relearn 7.1.1"><meta name=description content="2分 著者Robert Castley & Pieter Hagen
このワークショップでは、Splunk Observability Cloud が提供する、フロントエンドアプリケーションからバックエンドサービスまで、ユーザーエクスペリエンスを即時に可視化する能力について紹介します。これを通じて、Splunk Observability Cloud の最も魅力的な製品機能と差別化要因のいくつかを体験できます。
インフラ監視（Infrastructure Monitoring） 完全で忠実な Real User Monitoring（RUM） Application Performance Monitoring（APM）による End to End の NoSample で完全忠実なトレースの可視性 コード入力を必要としないログクエリ 外形監視・合成監視（Synthetic Monitoring） タグ分析とエラースタックを使用した根本原因の特定 Related Contents（関連する機能や製品に関するテレメトリーデータへのコンテンツへのリンク） Splunk Observability Cloud が最も重視しているのは、テレメトリデータを統合することで、エンドユーザーエクスペリエンスとあなたのアプリケーションスタックとを1つの画面で完全に理解できるようにすることです。
このワークショップでは、AWS EC2 インスタンスに展開されたマイクロサービスベースのアプリケーションを使用します。このアプリケーションは、ユーザーが製品を閲覧し、カートに追加し、チェックアウトすることができるシンプルなeコマースアプリケーションです。このアプリケーションは OpenTelemetry で計装されています。
OpenTelemetry は、テレメトリデータ（メトリクス、トレース、およびログ）を計装・生成・収集・エクスポートするためのツール、API、およびソフトウェア開発キット（SDK）のコレクションです。これにより、ソフトウェアのパフォーマンスと動作を分析できます。
OpenTelemetry コミュニティは成長を続けています。Splunk、Google、Microsoft、Amazonなど多くの組織が協力したプロジェクトで、現在、Kubernetes の次に多くの貢献者を有するプロジェクトとなっています。"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Splunk4Rookies - Observability Cloud :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="2分 著者Robert Castley & Pieter Hagen
このワークショップでは、Splunk Observability Cloud が提供する、フロントエンドアプリケーションからバックエンドサービスまで、ユーザーエクスペリエンスを即時に可視化する能力について紹介します。これを通じて、Splunk Observability Cloud の最も魅力的な製品機能と差別化要因のいくつかを体験できます。
インフラ監視（Infrastructure Monitoring） 完全で忠実な Real User Monitoring（RUM） Application Performance Monitoring（APM）による End to End の NoSample で完全忠実なトレースの可視性 コード入力を必要としないログクエリ 外形監視・合成監視（Synthetic Monitoring） タグ分析とエラースタックを使用した根本原因の特定 Related Contents（関連する機能や製品に関するテレメトリーデータへのコンテンツへのリンク） Splunk Observability Cloud が最も重視しているのは、テレメトリデータを統合することで、エンドユーザーエクスペリエンスとあなたのアプリケーションスタックとを1つの画面で完全に理解できるようにすることです。
このワークショップでは、AWS EC2 インスタンスに展開されたマイクロサービスベースのアプリケーションを使用します。このアプリケーションは、ユーザーが製品を閲覧し、カートに追加し、チェックアウトすることができるシンプルなeコマースアプリケーションです。このアプリケーションは OpenTelemetry で計装されています。
OpenTelemetry は、テレメトリデータ（メトリクス、トレース、およびログ）を計装・生成・収集・エクスポートするためのツール、API、およびソフトウェア開発キット（SDK）のコレクションです。これにより、ソフトウェアのパフォーマンスと動作を分析できます。
OpenTelemetry コミュニティは成長を続けています。Splunk、Google、Microsoft、Amazonなど多くの組織が協力したプロジェクトで、現在、Kubernetes の次に多くの貢献者を有するプロジェクトとなっています。"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.74/ja/s4r/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Splunk4Rookies - Observability Cloud :: Splunk Observability Cloud Workshops"><meta property="og:description" content="2分 著者Robert Castley & Pieter Hagen
このワークショップでは、Splunk Observability Cloud が提供する、フロントエンドアプリケーションからバックエンドサービスまで、ユーザーエクスペリエンスを即時に可視化する能力について紹介します。これを通じて、Splunk Observability Cloud の最も魅力的な製品機能と差別化要因のいくつかを体験できます。
インフラ監視（Infrastructure Monitoring） 完全で忠実な Real User Monitoring（RUM） Application Performance Monitoring（APM）による End to End の NoSample で完全忠実なトレースの可視性 コード入力を必要としないログクエリ 外形監視・合成監視（Synthetic Monitoring） タグ分析とエラースタックを使用した根本原因の特定 Related Contents（関連する機能や製品に関するテレメトリーデータへのコンテンツへのリンク） Splunk Observability Cloud が最も重視しているのは、テレメトリデータを統合することで、エンドユーザーエクスペリエンスとあなたのアプリケーションスタックとを1つの画面で完全に理解できるようにすることです。
このワークショップでは、AWS EC2 インスタンスに展開されたマイクロサービスベースのアプリケーションを使用します。このアプリケーションは、ユーザーが製品を閲覧し、カートに追加し、チェックアウトすることができるシンプルなeコマースアプリケーションです。このアプリケーションは OpenTelemetry で計装されています。
OpenTelemetry は、テレメトリデータ（メトリクス、トレース、およびログ）を計装・生成・収集・エクスポートするためのツール、API、およびソフトウェア開発キット（SDK）のコレクションです。これにより、ソフトウェアのパフォーマンスと動作を分析できます。
OpenTelemetry コミュニティは成長を続けています。Splunk、Google、Microsoft、Amazonなど多くの組織が協力したプロジェクトで、現在、Kubernetes の次に多くの貢献者を有するプロジェクトとなっています。"><meta property="og:locale" content="ja"><meta property="og:type" content="website"><meta itemprop=name content="Splunk4Rookies - Observability Cloud :: Splunk Observability Cloud Workshops"><meta itemprop=description content="2分 著者Robert Castley & Pieter Hagen
このワークショップでは、Splunk Observability Cloud が提供する、フロントエンドアプリケーションからバックエンドサービスまで、ユーザーエクスペリエンスを即時に可視化する能力について紹介します。これを通じて、Splunk Observability Cloud の最も魅力的な製品機能と差別化要因のいくつかを体験できます。
インフラ監視（Infrastructure Monitoring） 完全で忠実な Real User Monitoring（RUM） Application Performance Monitoring（APM）による End to End の NoSample で完全忠実なトレースの可視性 コード入力を必要としないログクエリ 外形監視・合成監視（Synthetic Monitoring） タグ分析とエラースタックを使用した根本原因の特定 Related Contents（関連する機能や製品に関するテレメトリーデータへのコンテンツへのリンク） Splunk Observability Cloud が最も重視しているのは、テレメトリデータを統合することで、エンドユーザーエクスペリエンスとあなたのアプリケーションスタックとを1つの画面で完全に理解できるようにすることです。
このワークショップでは、AWS EC2 インスタンスに展開されたマイクロサービスベースのアプリケーションを使用します。このアプリケーションは、ユーザーが製品を閲覧し、カートに追加し、チェックアウトすることができるシンプルなeコマースアプリケーションです。このアプリケーションは OpenTelemetry で計装されています。
OpenTelemetry は、テレメトリデータ（メトリクス、トレース、およびログ）を計装・生成・収集・エクスポートするためのツール、API、およびソフトウェア開発キット（SDK）のコレクションです。これにより、ソフトウェアのパフォーマンスと動作を分析できます。
OpenTelemetry コミュニティは成長を続けています。Splunk、Google、Microsoft、Amazonなど多くの組織が協力したプロジェクトで、現在、Kubernetes の次に多くの貢献者を有するプロジェクトとなっています。"><meta itemprop=dateModified content="2024-11-20T10:53:52+00:00"><meta itemprop=wordCount content="48"><title>Splunk4Rookies - Observability Cloud :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/v5.74/en/s4r/index.html rel=alternate hreflang=x-default><link href=https://splunk.github.io/observability-workshop/v5.74/en/s4r/index.html rel=alternate hreflang=en><link href=https://splunk.github.io/observability-workshop/v5.74/ja/s4r/index.html rel=alternate hreflang=ja><link href=https://splunk.github.io/observability-workshop/v5.74/ja/s4r/index.html rel=canonical type=text/html title="Splunk4Rookies - Observability Cloud :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/v5.74/images/favicon.ico?1733326651 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/v5.74/css/fontawesome-all.min.css?1733326651 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.74/css/fontawesome-all.min.css?1733326651 rel=stylesheet></noscript><link href=/observability-workshop/v5.74/css/nucleus.css?1733326651 rel=stylesheet><link href=/observability-workshop/v5.74/css/auto-complete.css?1733326651 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.74/css/auto-complete.css?1733326651 rel=stylesheet></noscript><link href=/observability-workshop/v5.74/css/perfect-scrollbar.min.css?1733326651 rel=stylesheet><link href=/observability-workshop/v5.74/css/fonts.css?1733326651 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.74/css/fonts.css?1733326651 rel=stylesheet></noscript><link href=/observability-workshop/v5.74/css/theme.css?1733326651 rel=stylesheet><link href=/observability-workshop/v5.74/css/theme-splunk-light.css?1733326651 rel=stylesheet id=R-variant-style><link href=/observability-workshop/v5.74/css/chroma-relearn-light.css?1733326651 rel=stylesheet id=R-variant-chroma-style><link href=/observability-workshop/v5.74/css/print.css?1733326651 rel=stylesheet media=print><link href=/observability-workshop/v5.74/css/format-print.css?1733326651 rel=stylesheet><script src=/observability-workshop/v5.74/js/variant.js?1733326651></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop/v5.74",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.variants&&variants.init(["splunk-light","splunk-dark"]),window.T_Copy_to_clipboard=`クリップボードにコピー`,window.T_Copied_to_clipboard=`クリップボードにコピー!`,window.T_Copy_link_to_clipboard=`リンクをクリップボードにコピー`,window.T_Link_copied_to_clipboard=`リンクをクリップボードにコピーしました!`,window.T_Reset_view=`ビューのリセット`,window.T_View_reset=`リセットを見る`,window.T_No_results_found=`"{0}" の結果が見つかりません`,window.T_N_results_found=`"{0}" で {1} 件の結果が見つかりました`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"dp3FKraOS_wVhe-l7eCOsA",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({app:"observability-workshop",realm:"us1",rumAccessToken:"dp3FKraOS_wVhe-l7eCOsA"})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/observability-workshop/v5.74/ja/s4r/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="メニュー (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="目次 (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.74/ja/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Splunk4Rookies - Observability Cloud</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.74/ja/s4r/index.print.html title="章全体を印刷する (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.74/ja/index.html title="Splunk Observability Workshops (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.74/ja/s4r/1-workshop-goals/index.html title="ワークショップの概要 (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=更に><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable s4r" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=splunk4rookies---observability-cloud>Splunk4Rookies - Observability Cloud</h1><p><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>2分</span></span> <span class="badge cstyle blue badge-with-title"><span class=badge-title>著者</span><span class=badge-content>Robert Castley & Pieter Hagen</span></span></p><p>このワークショップでは、<strong>Splunk Observability Cloud</strong> が提供する、フロントエンドアプリケーションからバックエンドサービスまで、ユーザーエクスペリエンスを即時に可視化する能力について紹介します。これを通じて、<strong>Splunk Observability Cloud</strong> の最も魅力的な製品機能と差別化要因のいくつかを体験できます。</p><ul><li>インフラ監視（Infrastructure Monitoring）</li><li><strong>完全で忠実な</strong> Real User Monitoring（RUM）</li><li>Application Performance Monitoring（APM）による <strong>End to End の NoSample で完全忠実な</strong>トレースの可視性</li><li><strong>コード入力を必要としない</strong>ログクエリ</li><li>外形監視・合成監視（Synthetic Monitoring）</li><li>タグ分析とエラースタックを使用した根本原因の特定</li><li>Related Contents（関連する機能や製品に関するテレメトリーデータへのコンテンツへのリンク）</li></ul><p>Splunk Observability Cloud が最も重視しているのは、テレメトリデータを統合することで、エンドユーザーエクスペリエンスとあなたのアプリケーションスタックとを1つの画面で完全に理解できるようにすることです。</p><p>このワークショップでは、AWS EC2 インスタンスに展開されたマイクロサービスベースのアプリケーションを使用します。このアプリケーションは、ユーザーが製品を閲覧し、カートに追加し、チェックアウトすることができるシンプルなeコマースアプリケーションです。このアプリケーションは OpenTelemetry で計装されています。</p><hr><p><strong><a href=https://opentelemetry.io rel=external target=_blank>OpenTelemetry</a></strong> は、テレメトリデータ（メトリクス、トレース、およびログ）を計装・生成・収集・エクスポートするためのツール、API、およびソフトウェア開発キット（SDK）のコレクションです。これにより、ソフトウェアのパフォーマンスと動作を分析できます。</p><p>OpenTelemetry コミュニティは成長を続けています。Splunk、Google、Microsoft、Amazonなど多くの組織が協力したプロジェクトで、現在、Kubernetes の次に多くの貢献者を有するプロジェクトとなっています。</p><p><a href=#R-image-a44dee8970118ad0ef394dc1aab4bc6d class=lightbox-link><img alt="Full Stack" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/images/splunk-full-stack.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a44dee8970118ad0ef394dc1aab4bc6d><img alt="Full Stack" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/images/splunk-full-stack.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/11/20</span></span></footer></article><section><h1 class=a11y-only>Splunk4Rookies - Observability Cloudのサブセクション</h1><article class=default><header class=headline></header><h1 id=ワークショップの概要>ワークショップの概要</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>2分</span></span><h4 id=イントロダクション>イントロダクション</h4><p>このワークショップのゴールは、ある問題を体験し、Splunk Observability Cloud を使用してトラブルシューティングを行い、根本原因を特定することです。これを実現するために、私たちは Kubernetes で動作する完全なマイクロサービスベースのアプリケーションを提供し、それが Splunk Observability Cloud に<strong>メトリクス、トレース、ログ</strong>を送信するように計装しています。</p><h4 id=参加対象者は>参加対象者は？</h4><p>Splunk Observability をハンズオンの環境で理解したいと考えている方。このワークショップは、ほとんど、または、まったく Splunk Observability の経験がない人向けに設計されています。</p><h4 id=必要なものは何ですか>必要なものは何ですか？</h4><p>皆様自身の参加と、パソコン、外部のウェブサイトにアクセスできるブラウザがあれば十分です。私たちはこれらのワークショップを対面、または、Zoom で実施しています。あなたのデバイスに Zoom クライアントがない場合でも、ウェブブラウザを通じてワークショップ環境にアクセスすることができます。</p><h4 id=このワークショップで何がカバーされていますか>このワークショップで何がカバーされていますか？</h4><p>この3時間のセッションでは、ハンズオンの環境で<strong>ストリーミング分析</strong>、<strong>NoSample で完全忠実な</strong>分散トレーシングを備えた唯一の可観測性プラットフォームである Splunk Observability の基本を学びます。</p><h5 id=opentelemetry>OpenTelemetry</h5><p><strong>なぜ OpenTelemetry が必要なのか</strong>、そして、それが可観測性にとってなぜ重要なのかについて簡単に紹介します。</p><h5 id=splunk-observability-ユーザーインターフェースのツアー>Splunk Observability ユーザーインターフェースのツアー</h5><p>Splunk Observability Cloud のさまざまなコンポーネントを渡り歩きながら、5つの主要なコンポーネント（<strong>APM、RUM、Log Observer、Synthetics、Infrastructure</strong>）を操作する方法を紹介します。</p><h5 id=リアルユーザーデータの生成>リアルユーザーデータの生成</h5><p>オンラインブティックというウェブサイトを使用してお買い物を楽しみます。ブラウザ、モバイル、タブレットを使用し、架空の通貨で買い物を行っていただきます。これを通じて、 <strong>メトリクス（問題があるのか？）</strong>、<strong>トレース（問題はどこにあるのか？）</strong>、<strong>ログ（問題は何か？）</strong> を送信します。</p><h5 id=splunk-real-user-monitoring-rum>Splunk Real User Monitoring (RUM)</h5><p>すべての参加者のブラウザセッションから受信するテレメトリーデータに基づいて実際のユーザーのデータを調査します。ここでのゴールは、パフォーマンスが悪かったブラウザ、モバイル、タブレットのセッションを見つけて、トラブルシューティングのプロセスを開始することです。</p><h5 id=splunk-application-performance-monitoring-apm>Splunk Application Performance Monitoring (APM)</h5><p>RUM トレース（フロントエンド）から APM トレース（バックエンド）へとジャンプすることで、<strong>End to End 全体を可視化する能力</strong>を理解しましょう。すべてのサービスはテレメトリー（トレースとスパン）を送信しており、Splunk Observability Cloud はそれを可視化・分析し、異常やエラーを検出するために使用することができます。</p><h5 id=splunk-log-observer-lo>Splunk Log Observer (LO)</h5><p>Related Content の強力な機能を使うと、あるコンポーネントから別のコンポーネントにジャンプすることが可能になります。ここでは、私たちは APM トレースから、そのトレースに関連するログにジャンプします。</p><h5 id=splunk-synthetics>Splunk Synthetics</h5><p>私たちのアプリケーションを<strong>24時間365日</strong>で監視し、問題が発生したときに<strong>アラート</strong>を受け取ることができたら素晴らしいことではないでしょうか？　これが Synthetics の役割です。オンラインブティックサイトでの典型的なユーザージャーニーのパフォーマンスと可用性を1分ごとにチェックするシンプルなテストをご紹介します。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/11/20</span></span></footer></article><article class=default><header class=headline></header><h1 id=opentelemetry-とは何かなぜ注目するべきなのか>OpenTelemetry とは何か、なぜ注目するべきなのか？</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>2分</span></span><h2 id=opentelemetry>OpenTelemetry</h2><p>クラウドコンピューティングやマイクロサービスアーキテクチャ、更に、ますます複雑になりつつあるビジネス要件の台頭により、可観測性へのニーズはこれまで以上に高まっています。可観測性とは、システムの内部状態をその出力を調べることで理解する能力のことです。ソフトウェアの文脈では、<strong>メトリクス</strong>、<strong>トレース</strong>、および<strong>ログ</strong>を含むテレメトリーデータに基づいてシステムの内部状態を理解する能力を意味します。</p><p>システムを観測可能にするためには、計装が必要です。つまり、コードはトレース、メトリクス、およびログを出力する必要があります。その上で、計装によって出力されたデータが、<strong>Splunk Observability Cloud</strong> などの可観測性バックエンドに送信される必要があります。</p><table><thead><tr><th style=text-align:center>メトリクス</th><th style=text-align:center>トレース</th><th style=text-align:center>ログ</th></tr></thead><tbody><tr><td style=text-align:center><em><strong>問題があるのか？</strong></em></td><td style=text-align:center><em><strong>問題はどこにあるのか？</strong></em></td><td style=text-align:center><em><strong>問題は何か？</strong></em></td></tr></tbody></table><p>OpenTelemetry は2つの重要な側面を持ちます。</p><ul><li>プロプライエタリなデータ形式やツールに縛られることなく、自分が生成するデータを<strong>自分のものとする</strong>ことを可能にします。</li><li><strong>単一の</strong> API と規約を学ぶことを可能にします</li></ul><p>この2つが組み合わさることで、チームや組織は今日の現代的なコンピューティングの世界で必要な柔軟性を得ることができます。</p><p>可観測性に取りかかるときに考慮すべきことはたくさんありますが、その中でも重要な質問は <em>「どのようにして可観測性ツールにデータを取り込むのか？」</em> というものです。OpenTelemetry の業界全体での採用により、これまで以上に簡単に、この質問に答えることができるようになっています。</p><h2 id=なぜ注目するべきなのか>なぜ注目するべきなのか？</h2><p>OpenTelemetry は完全にオープンソースで、無料で使用することができます。過去には、監視および可観測性ツールはプロプライエタリなエージェントに大きく依存していました。つまり、追加のツールを設定・変更するために、インフラストラクチャレベルからアプリケーションレベルに至るまで、システム全体で大量の変更が必要になってしまうということです。</p><p>OpenTelemetry はベンダーニュートラルであり、可観測性に関わる多くの業界のリーダーによってサポートされています。そのため、利用者はいつでも、わずかな計装に対する変更だけで、サポートされている可観測性ツールを切り替えることができます。これは、どの OpenTelemetry のディストリビューションが使用されているかを問わず真実です。Linux と同様に、さまざまなディストリビューションがあり、設定とアドオンがバンドルされていますが、根本的に、これらはすべてコミュニティ主導の OpenTelemetry プロジェクトに基づいているものなのです。</p><p>Splunk は OpenTelemetry に完全にコミットしています。これにより、お客様は、いかなるタイプ、いかなるアーキテクチャ、いかなるソース、いかなる規模感であっても、<strong>すべての</strong>データをリアルタイムに収集し活用することができます。OpenTelemetry は監視のありかたを根本的に変えつつあり、IT チームと DevOps チームがあらゆる疑問やあらゆるアクションに対してデータを活用することを可能にしています。このワークショップ中に、こういった特徴について体験することができるはずです。</p><p><a href=#R-image-1d7a63453ba6ce310073b65c9d3bf2f0 class=lightbox-link><img alt=OpenTelemetryのロゴ class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/2-opentelemetry/images/otel.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1d7a63453ba6ce310073b65c9d3bf2f0><img alt=OpenTelemetryのロゴ class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/2-opentelemetry/images/otel.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=ui---クイックツアー->UI - クイックツアー 🚌</h1><p>まずは、Splunk Observability Cloud のさまざまなコンポーネントをウォークスルーしていきましょう。UI に慣れてもらうことが目的です。</p><ol><li><strong>Splunk Observability Cloud へのサインイン</strong></li><li><strong>リアルユーザーモニタリング (RUM)</strong></li><li><strong>アプリケーションパフォーマンスモニタリング (APM)</strong></li><li><strong>Log Observer</strong></li><li><strong>Synthetics</strong></li><li><strong>Infrastructure Monitoring</strong></li></ol><div class="box notices cstyle primary"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>このワークショップでは、以下の方法で簡単に操作できます</p><ul><li>このページの右上にある左矢印（<strong>&lt;</strong> | <strong>></strong>）</li><li>キーボードの左（◀️）および右（▶️）のカーソルキー</li></ul></div></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><section><h1 class=a11y-only>3. UI - クイックツアーのサブセクション</h1><article class=default><header class=headline></header><h1 id=はじめに>はじめに</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>2分</span></span><h3 id=1-splunk-observability-cloud-にサインインする>1. Splunk Observability Cloud にサインインする</h3><p>Splunk からワークショップの組織への招待メールが届くはずです。下のスクリーンショットのようなメールです。もし見つけられない場合は、スパム/ごみ箱フォルダを確認するか、講師に知らせてください。また、<a href=/observability-workshop/v5.74/ja/s4r/3-quick-tour/1-homepage/99-login-faq/index.html><strong>ログイン - よくある質問</strong></a>で他の解決策を確認いただくことも可能です。</p><p><strong>Join Now</strong> ボタンをクリックするか、メールに記載されているリンクをクリックして、次に進んでください。</p><p>すでに登録プロセスを完了している場合は、残りをスキップして直接 Splunk Observability Cloud に進み、ログインすることができます。</p><ul><li><a href=https://app.eu0.signalfx.com rel=external target=_blank><strong>https://app.eu0.signalfx.com (EMEA)</strong></a></li><li><a href=https://app.us1.signalfx.com rel=external target=_blank><strong>https://app.us1.signalfx.com (APAC/AMER)</strong></a></li></ul><p><a href=#R-image-cb1317427f8ea15c98a9d7605f420cd8 class=lightbox-link><img alt=email class="noborder lazy lightbox noshadow figure-image" loading=lazy src="/observability-workshop/v5.74/ja/s4r/3-quick-tour/1-homepage/images/invite-email.png?width=25vw" style=height:auto;width:25vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cb1317427f8ea15c98a9d7605f420cd8><img alt=email class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src="/observability-workshop/v5.74/ja/s4r/3-quick-tour/1-homepage/images/invite-email.png?width=25vw"></a></p><p>Splunk Observability Cloud を初めて使用する場合は、登録フォームが表示されます。あなたのフルネームと希望のパスワードを入力してください。パスワードの要件は以下の通りです</p><ul><li><strong>必須</strong> 8文字から32文字の間でなければなりません</li><li><strong>必須</strong> 少なくとも1つの大文字を含む必要があります</li><li><strong>必須</strong> 少なくとも1つの数字を含む必要があります</li><li><strong>必須</strong> 少なくとも1つの記号を含む必要があります（例：!@#$%^&*()_+）</li></ul><p>利用規約に同意するためのチェックボックスをクリックし、<strong>SIGN IN NOW</strong> ボタンをクリックしてください。</p><p><a href=#R-image-b11d57f0f687b671e5f0778f35ec8687 class=lightbox-link><img alt=User-Setup class="noborder lazy lightbox noshadow figure-image" loading=lazy src="/observability-workshop/v5.74/ja/s4r/3-quick-tour/1-homepage/images/enter-password.png?width=25vw" style=height:auto;width:25vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b11d57f0f687b671e5f0778f35ec8687><img alt=User-Setup class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src="/observability-workshop/v5.74/ja/s4r/3-quick-tour/1-homepage/images/enter-password.png?width=25vw"></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><section><h1 class=a11y-only>1. はじめにのサブセクション</h1><article class=default><header class=headline></header><h1 id=ホームページ>ホームページ</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>5分</span></span><p>Splunk Observability Cloud に登録しログインすると、ホーム画面であるランディングページに移動します。ここでは、使用開始にあたって役に立つ機能を確認できます。</p><p><a href=#R-image-bc146cba8982c5af9bdec3d7bd31bb57 class=lightbox-link><img alt=ホームページ class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/home-screen.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bc146cba8982c5af9bdec3d7bd31bb57><img alt=ホームページ class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/home-screen.png></a></p><ol><li><strong>&ldquo;Explorer your data&rdquo; ：</strong> 有効になっているインテグレーションを表示しています。管理者であればさらにインテグレーションを追加できます。</li><li><strong>&ldquo;Documentation&rdquo; ：</strong> Splunk Observability Cloud に取り組み始める際に利用できるトレーニングビデオやドキュメンテーションへのリンクです。</li><li><strong>&ldquo;Recents&rdquo; ：</strong> 最近作成・使用したダッシュボードや Detector にすぐにアクセスすることができます。</li><li><strong>メインメニュー：</strong> Splunk Observability Cloud の各機能に移動できます。</li><li><strong>組織(Org)切り替え：</strong> 組織間を簡単に切り替えることができます（複数の組織のメンバーである場合）。</li><li><strong>メインメニューの展開/縮小：</strong> 画面サイズに応じて、メインメニューを展開 <strong>&#187;</strong> / 縮小 <strong>&#171;</strong> できます。</li></ol><p>最初の Exercise に取り組んでみましょう。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>メインメニューを展開し、<strong>Settings</strong> をクリックします。</li><li><strong>組織切り替え</strong>で、複数の組織にアクセスできるかどうかを確認します。</li></ul></div></div><div class="box notices cstyle primary"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Hint</div><div class=box-content><p>これまでに Splunk Observability を使用したことがある場合、以前使用した組織のページを開いている可能性があります。正しいワークショップの組織にいることを確認してください。複数の組織にアクセスできる場合は、講師に確認してください。</p></div></div><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>Onboarding Guidance</strong> をクリックします（ここでは、オンボーディングパネルの表示を切り替えることができます。これは、製品を十分に理解していて、より多くの情報を表示できるようにスペースを使用したい場合に便利です）。</li><li><strong>Home Page</strong> のオンボーディングコンテンツを非表示にします。</li><li>メニューの下部で、好みの外観を選択します。<strong>Light</strong>、<strong>Dark</strong>、または <strong>Auto</strong> モードが選択できます。</li><li><strong>Sign Out</strong> ボタンが表示されていることに気付きましたか？ でも、押さないでくださいね！😊</li><li>メインメニューに戻るために <strong>&lt;</strong> をクリックします。</li></ul></div></div><p>次に、<strong>Splunk Real User Monitoring (RUM)</strong> をチェックしましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=rumの概要>RUMの概要</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>5分</span></span><p>Splunk RUM は業界唯一の End to End の, <strong>NoSample</strong> RUM ソリューションです。すべての Web およびモバイルセッションに関するユーザーエクスペリエンス全体を可視化し、フロントエンドの全てのトレースをバックエンドのメトリクス、トレース、ログと一意に組み合わせることができます。IT 運用チームとエンジニアリングチームは、迅速にエラー範囲の特定、対処の優先度付け、他の問題との切り分け、実際のユーザーに対する影響の測定を行うことができます。また、すべてのユーザー操作をビデオでリプレイしながらパフォーマンス指標と相関させることでエンドユーザー体験を最適化することができます。</p><p><strong>全てのユーザーセッションを分析する：</strong> ストリーミング分析によって、シングルページおよびマルチページアプリまで、全てのユーザーセッションをキャプチャし、すべてのリソース、画像、ルート変更、API 呼び出しが与える顧客への影響を測定します。</p><p><strong>問題をより迅速に関連付ける：</strong> 無限のカーディナリティと完全なトランザクション分析により、複雑な分散システム全体で問題をより迅速に特定し、相関付けることができます。</p><p><strong>遅延とエラーを特定する：</strong> それぞれのコード変更やデプロイに対して遅延、エラー、パフォーマンスが悪い状態を簡単に特定します。コンテンツ、画像、およびサードパーティの依存関係が顧客にどのような影響を与えるかを測定します。</p><p><strong>ページパフォーマンスを取得し改善する：</strong> Core Web Vitals を活用してページロード体験、対話性、視覚的安定性を測定し、改善します。影響を及ぼす JavaScript エラーを見つけて修正し、最初に改善すべきページを簡単に理解できます。</p><p><strong>意味のあるメトリクスを探索する：</strong> 特定のワークフロー、カスタムタグ、およびインデックス化されていないタグに関する自動提案に基づいたメトリクスによって、顧客への影響を即座に視覚化し、問題の根本原因を迅速に特定します。</p><p><strong>エンドユーザー体験を最適化する：</strong> すべてのユーザーインタラクションをビデオリプレイで確認しながらパフォーマンスメトリクスと関連付け、エンドユーザー体験を最適化することができます。</p><p><a href=#R-image-fa4fe9340caf54d79984ea767c903cb5 class=lightbox-link><img alt=アーキテクチャの概要 class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/3-quick-tour/2-rum-home/images/rum-architecture.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fa4fe9340caf54d79984ea767c903cb5><img alt=アーキテクチャの概要 class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/3-quick-tour/2-rum-home/images/rum-architecture.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/11/20</span></span></footer></article><section><h1 class=a11y-only>2. RUMの概要のサブセクション</h1><article class=default><header class=headline></header><h1 id=rum-ホームページ>RUM ホームページ</h1><p>メインメニューで <strong>RUM</strong> をクリックすると、RUM のメインとなるホーム画面、ランディングページに移動します。このページでは、選択したすべての RUM アプリケーション全体のステータスを一目で確認できることに主眼が置かれています。フルサイズ、あるいは、コンパクトビューのいずれかの形式で表示することができます。</p><p>ステータスダッシュボードの表示タイプがいずれの場合でも、RUM ホームページは3つのセクションで構成されています。</p><p><a href=#R-image-cf078e666f5dabddedffeba792a5d48a class=lightbox-link><img alt="RUM ページ" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-main.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cf078e666f5dabddedffeba792a5d48a><img alt="RUM ページ" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-main.png></a></p><ol><li><strong>オンボーディングパネル：</strong> Splunk RUM を始めるためのトレーニングビデオとドキュメンテーションへのリンク（画面のスペースが必要な場合は、このパネルを非表示にできます）</li><li><strong>フィルターパネル：</strong> 時間枠、環境、アプリケーション、ソースタイプでフィルタリングすることができます</li><li><strong>アプリケーションサマリーパネル：</strong> RUM データを送信するすべてのアプリケーションのサマリーが表示されます</li></ol><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> RUM における 環境（Environment）,アプリケーション（App）,ソースタイプ（Source）</div><div class=box-content><ul><li>Splunk Observability は、RUM トレースの一部として送信される <strong>Environment</strong> タグを使用して、&ldquo;Production&rdquo; や &ldquo;Development&rdquo; などの異なる環境からのデータを区分します。</li><li>さらに <strong>App</strong> タグによる区分も可能です。これにより、同じ環境で動作する別々のブラウザ/モバイルアプリケーションを区別することができます。</li><li>Splunk RUM はブラウザとモバイルアプリケーションの両方で利用可能であり、<strong>Source</strong> を使用してそれらを区別することができます。このワークショップでは、ブラウザベースの RUM のみを使用します。</li></ul></div></div><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>時間枠が <strong>-15m</strong> に設定されていることを確認してください</li><li>ドロップダウンボックスからワークショップの Environment を選択してください。命名規則は <strong>[ワークショップの名前]-workshop</strong> です（これを選択すると、ワークショップの RUM アプリケーションが表示されるはずです）</li><li><strong>App</strong> を選択します。命名規則は <strong>[ワークショップの名前]-store</strong> です。<strong>Source</strong> は <strong>All</strong> に設定したままにしてください。</li><li><strong>JavaScript Errors</strong> タイルで <em>Cannot read properties of undefined (reading &lsquo;Prcie&rsquo;)</em> と表示される <strong>TypeError</strong> エントリをクリックし、詳細を確認してください。エラーが発生したウェブサイトのどの部分か、すぐに見つけることができるはずです。これにより迅速に問題を修正することができます。</li><li>パネルを閉じます。</li><li>3列目のタイルには <strong>Web Vitals</strong> が表示されています。これはユーザーエクスペリエンスの3つの重要な側面である<em>ページのローディング</em>、<em>対話性</em>、および<em>視覚的安定性</em>に焦点を当てたメトリックです。</li></ul><div class=tab-panel data-tab-group=5115594bd872612e1b4db62a4362a4e4><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("5115594bd872612e1b4db62a4362a4e4","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("5115594bd872612e1b4db62a4362a4e4","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>Web Vitals メトリクスに基づいて、現在のウェブサイトのパフォーマンスをどのように評価しますか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>Web Vitals メトリクスによれば、サイトの初期ロードはOKで、<em>良好</em> と評価できます</strong></p></div></div></div></div><ul><li>最後のタイル、<strong>Most recent detectors</strong> タイルは、アプリケーションでトリガーされたアラートがあるかどうかを表示します。</li><li>アプリケーション名の前の下向き <strong>⌵</strong> 矢印をクリックして、ビューをコンパクトスタイルに切り替えます。このビューでも主要な情報がすべて利用可能です。コンパクトビューの任意の場所をクリックしてフルビューに戻ります。</li></ul></div></div><div class="box notices cstyle red"><div class=box-label><i class="fa-fw fas fa-running"></i> Additional Exercise</div><div class=box-content><p>RUM ホームページではフロントエンドの概要をシンプルに確認することができますが、詳細なステータス確認や問題調査が必要になるケースもあるはずです。</p><p>フロントエンドの問題特定・原因調査を行う方法は、<strong><a href=https://splunk.github.io/observability-workshop/latest/ja/s4r/5-rum/index.html rel=external target=_blank>5. Splunk RUM</a></strong> を見てみましょう。</p><p>お時間がある方は、更にいくつかの機能を確認してみましょう。</p><ul><li><strong>[ワークショップの名前]-store</strong> をクリックします。詳細なダッシュボードビューが表示されます。</li><li><strong>UX Metrics</strong>, <strong>Front-end Health</strong>, <strong>Back-end Health</strong>, <strong>Custom Events</strong> というメニュータブをそれぞれ開いてみましょう。<ul><li>それぞれのページで、どんなメトリクスが表示されているか確認してみてください</li></ul></li><li><strong>Custom Events</strong> をクリックします。<ul><li><strong>Custom Events</strong> は、特定の操作（例：カートに商品を追加するボタンを押す、商品詳細ページを開く、など）をイベントとして記録し、集計したものです。</li></ul></li></ul><p><a href=#R-image-f7d76749edc1a4f5a9b42990d45306b4 class=lightbox-link><img alt="RUM Dashboard" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-details-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f7d76749edc1a4f5a9b42990d45306b4><img alt="RUM Dashboard" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-details-dashboard.png></a></p><div class=tab-panel data-tab-group=8283fb3f2d11fb8a30073c170de34040><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("8283fb3f2d11fb8a30073c170de34040","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("8283fb3f2d11fb8a30073c170de34040","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>Custom Events として記録された処理で、1分あたりのリクエスト回数が最も多い処理は何ですか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong><em>AddToCart</em>です</strong></p></div></div></div></div><ul><li><strong>Custom Event Requests</strong> のすぐ下の <strong>see all</strong> をクリックします</li><li><strong>Tag Spotlight</strong> というビューが表示されたはずです<ul><li>Tag Spotlight は取得したテレメトリーデータに含まれるタグ情報ごとの傾向を表示・分析する機能です</li></ul></li></ul><p><a href=#R-image-7fadcfb2caac9a8ad95ad5f568cee3bd class=lightbox-link><img alt="RUM Tag Spotlight" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-tagspotlight.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7fadcfb2caac9a8ad95ad5f568cee3bd><img alt="RUM Tag Spotlight" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-tagspotlight.png></a></p><ul><li><strong>Custom Event Name</strong> というタイルの中で <em>AddToCart</em> という項目を探します。みつけたらクリックして <strong>Add to filter</strong> をクリックしてください<ul><li>これにより、<em>AddToCart</em> 処理だけに注目をして、分析を行うことができます。<a href=#R-image-8a48f056b47d3a7fc0cc70656fb9bab0 class=lightbox-link><img alt="RUM Tag Filtering" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-filtering.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8a48f056b47d3a7fc0cc70656fb9bab0><img alt="RUM Tag Filtering" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-filtering.png></a></li></ul></li></ul><div class=tab-panel data-tab-group=c1794a4fb257a500a5ad835839504544><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("c1794a4fb257a500a5ad835839504544","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("c1794a4fb257a500a5ad835839504544","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>このアプリケーションに対してアクセス元として最も多い国はどこですか？ またそれはどのタイルから分かりますか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>アメリカ <em>(US)</em> です。Countryタイルから分かります</strong></p></div></div></div></div><ul><li><strong>User Sessions</strong> をクリックします</li><li>Duration をクリックして、処理時間が長い順に並べ替えます<ul><li><em>AddToCart</em> に該当する処理を実施したユーザーのセッションを確認することができます</li></ul></li><li>最も処理時間が長いユーザーセッションの <em>Session ID</em> をクリックします
<a href=#R-image-e5508085c7b4bfb61c40358b00cd17d1 class=lightbox-link><img alt="RUM User Sessions" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-usersessions.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e5508085c7b4bfb61c40358b00cd17d1><img alt="RUM User Sessions" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-usersessions.png></a></li><li>画面右上にある <strong>Replay</strong> ボタンを押してみたり、各処理の時間やタグ情報を確認したり、<em>APM</em> というリンクにカーソルを当ててみたりしましょう
<a href=#R-image-4a3e0cb86629c982af7dc24dd2858e45 class=lightbox-link><img alt="RUM Waterfall" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-waterfall.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4a3e0cb86629c982af7dc24dd2858e45><img alt="RUM Waterfall" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-waterfall.png></a></li></ul></div></div><p>次に、<strong>Splunk Application Performance Monitoring (APM)</strong> をチェックしましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=apmの概要>APMの概要</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>5分</span></span><p>Splunk APM は、<strong>NoSample</strong> で End to End ですべてのアプリケーションやその依存性に関する可視性を提供し、モノリシックアプリ、マイクロサービスの両方で問題をより迅速に解決することに寄与します。チームは新しいアプリケーションをデプロイした際にもすぐに問題に気づくことができます。また、問題の発生源を絞り込み、切り分けることでトラブルシューティングに自信を持って取り組むことができます。バックエンドサービスがエンドユーザーとビジネスワークフローに与える影響を理解することを通じて、サービスのパフォーマンスを最適化することができます。</p><p><strong>リアルタイムモニタリングとアラート：</strong> Splunk は、すぐに利用可能なサービスダッシュボードを提供します。急激な変化があると RED メトリクス（処理量、エラー、遅延）に基づいて自動的に問題を検出・アラートを発します。</p><p><strong>動的なテレメトリーマップ：</strong> モダンなプロダクション環境でのサービスパフォーマンスをリアルタイムで簡単に視覚化します。インフラストラクチャ、アプリケーション、エンドユーザー、およびすべての依存関係からサービスパフォーマンスをエンドツーエンドで可視化することで、新しい問題を迅速に絞り込み、より効果的にトラブルシューティングを行うことができるようになります。</p><p><strong>インテリジェントなタグ付けと分析：</strong> ビジネス、インフラストラクチャ、アプリケーションからのすべてのタグを一か所で表示し、特定のタグに対して遅延やエラーに関する新しい傾向を簡単に比較・理解することができます。</p><p><strong>AI を活用したトラブルシューティングによる最も影響の大きい問題を特定：</strong> 個々のダッシュボードを手間をかけて掘り下げる必要はありません。問題をより効率的に切り分けることができます。サービスと顧客に最も影響を与える異常とエラーの原因を自動的に特定します。</p><p><strong>すべてのトランザクションに対する完全な分散トレーシング分析：</strong> クラウドネイティブ環境の問題をより効果的に特定します。Splunk の分散トレーシングは、インフラストラクチャ、ビジネスワークフロー、アプリケーションの特徴を踏まえた上で、バックエンドとフロントエンドからのすべてのトランザクションを視覚化し、その関係性を明らかにします。</p><p><strong>フルスタックでの相関性の可視化：</strong> Splunk Observability 内で、APM はトレース、メトリクス、ログ、プロファイリングをすべてリンクさせ、スタック全体における各コンポーネントの依存関係やパフォーマンスを簡単に理解できるようにします。</p><p><strong>データベースクエリパフォーマンスの監視：</strong> SQL および NoSQL データベースからの遅いクエリや高頻度に実行されるクエリが、サービス、エンドポイント、およびビジネスワークフローにどのような影響を与えるかを簡単に特定できるようにします。計装は必要ありません。</p><p><a href=#R-image-6c809eb39457211d63319b801baa29c5 class=lightbox-link><img alt=アーキテクチャの概要 class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/3-quick-tour/3-apm-home/images/arch-overview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6c809eb39457211d63319b801baa29c5><img alt=アーキテクチャの概要 class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/3-quick-tour/3-apm-home/images/arch-overview.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/11/20</span></span></footer></article><section><h1 class=a11y-only>3. APMの概要のサブセクション</h1><article class=default><header class=headline></header><h1 id=apm-ホームページ>APM ホームページ</h1><p>メインメニューで <strong>APM</strong> をクリックすると、APM ホームページが表示されます。このページは3つのセクションで構成されています。</p><p><a href=#R-image-b7ab4472a8dc26a63332ee5a16e2dd4d class=lightbox-link><img alt=APMページ class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-main.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b7ab4472a8dc26a63332ee5a16e2dd4d><img alt=APMページ class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-main.png></a></p><ol><li><strong>オンボーディングパネル：</strong> Splunk APM を始める際に参考になるトレーニングビデオとドキュメンテーションへのリンク</li><li><strong>APM Overview：</strong> 最もエラー率やレイテンシーが高いサービスとビジネスワークフローのリアルタイムメトリクス</li><li><strong>機能パネル：</strong> サービス、タグ、トレース、データベースクエリパフォーマンス、コードプロファイリングの詳細分析を行う際に使用するリンク</li></ol><p><strong>APM Overview</strong> パネルは、アプリケーションのヘルスステータスに関する概要を示します。これにはアプリケーションのサービス、レイテンシー、エラーのサマリーが含まれています。また、エラーレートが最も高いサービスとビジネスワークフローのリストも含まれています（ビジネスワークフローは、特定の活動やトランザクションに関連する一連のトレースの集合で、エンドツーエンドの KPI を監視し、根本原因とボトルネック特定することができるようになります）。</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> 環境（Environment）について</div><div class=box-content><p>複数のアプリケーションを簡単に区別するために、Splunk は <strong>Environment</strong> を使用します。ワークショップ環境の命名規則は <strong>[ワークショップの名前]-workshop</strong> です。インストラクターが正しい名前を案内します。</p></div></div><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>表示されている画面上の時間枠が過去15分（<strong>-15m</strong>）に設定されていることを確認してください。</li><li>ドロップダウンボックスからワークショップの Environment を選択してください。そのワークショップ環境名のみが選択されていることを確認してください。</li></ul><div class=tab-panel data-tab-group=da31d432bbfafaa6f1de96c8629ccfe2><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("da31d432bbfafaa6f1de96c8629ccfe2","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("da31d432bbfafaa6f1de96c8629ccfe2","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>エラーレートが最も高いサービスに関するチャートから、どんなことが分かりますか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>paymentservice が高いエラーレートを持っています</strong></p></div></div></div></div></div></div><p>概要ページを下にスクロールすると、一部のサービスに <strong>Inferred Service</strong> が表示されることに気づくでしょう。</p><p>Splunk APM は、リモートサービスを呼び出すスパンに含まれる情報から、存在が推論されるサービス、つまり、Inferred Service を検出することができます。Inferred Service として検出されるサービスの例としては、データベース、HTTPエンドポイント、メッセージキューなどがあります。Inferred Service は計装されていませんが、サービスマップとサービスリストに表示されます。</p><div class="box notices cstyle red"><div class=box-label><i class="fa-fw fas fa-running"></i> Additional Exercise</div><div class=box-content><p>もうすこし詳細に確認してみましょう。</p><p>バックエンドアプリケーションでの問題特定・原因調査を行う方法は、<strong><a href=https://splunk.github.io/observability-workshop/latest/ja/s4r/6-apm/index.html rel=external target=_blank>6. Splunk APM</a></strong> で取り組んでいただくことが可能です。</p><p>お時間がある方は、更にいくつかの機能を確認してみましょう。</p><ul><li><strong>Service Map</strong> をクリックします。</li><li>あわせて <strong>Show Legend</strong> を開いてみましょう。この Service Map に表示されている内容の凡例です。<ul><li><strong>Service Map</strong> は、アプリケーションの相関性を表すマップです。APM エージェントを利用すると、アプリケーション間での連携やリクエストから自動的に生成されます。</li><li>点線の四角や丸のオブジェクトは、<strong>Inferred Service</strong> です。これらは計装されていませんが、計装済みのアプリケーションが連携先として利用していると推定されたため、サービスマップ上にも表示されています。</li></ul></li></ul><p><a href=#R-image-e5e8a55f4e4717d479ce113dad435607 class=lightbox-link><img alt="APM Service Map" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-servicemap.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e5e8a55f4e4717d479ce113dad435607><img alt="APM Service Map" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-servicemap.png></a></p><div class=tab-panel data-tab-group=64f25f2ef2162c5105fbe6b40d5fefa0><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("64f25f2ef2162c5105fbe6b40d5fefa0","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("64f25f2ef2162c5105fbe6b40d5fefa0","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><ol><li><strong>エラー率が高いと、サービスマップ上ではどのように表示されますか？</strong></li><li><strong>このシステムでは、どのようなDBを使用していますか？</strong><ul><li>ヒント: DBは Inferred Service として、四角のオブジェクトで表示されます</li></ul></li></ol></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><ol><li><strong>アプリケーションが赤くハイライトされます</strong></li><li><strong>MySQLとRedisを使用しています</strong></li></ol></div></div></div></div><ul><li>Legend を開いている場合は閉じてください。</li><li>エラーが頻発している <strong>paymentservice</strong> をクリックしてみましょう。</li><li>画面右側のメニューの表示が少し変わったはずです。paymentservice に関するメトリクスやメニューが表示されるようになりました。</li><li><strong>Breakdown</strong> をクリックし、<strong>version</strong> を探して、クリックしてみましょう。</li></ul><p><a href=#R-image-c6d3cef1fdd67e8b2923f04628a05935 class=lightbox-link><img alt="APM Breakdown" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-breakdown.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c6d3cef1fdd67e8b2923f04628a05935><img alt="APM Breakdown" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-breakdown.png></a></p><ul><li>Service Map の表示が変わり、paymentservice がアプリケーションのバージョンごとに表示されるようになったはずです。</li><li>Splunk APM では、タグ情報に基づいてサービスマップ自体を変化させて分析することができます。非常に視覚的なので、このシステムに詳しくない人でも探索できそうですね！</li></ul><p><a href=#R-image-3c9d83d921fc74fd9357e5e8b2879054 class=lightbox-link><img alt="APM Breakdown - Version" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-breakdown-version.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3c9d83d921fc74fd9357e5e8b2879054><img alt="APM Breakdown - Version" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-breakdown-version.png></a></p><div class=tab-panel data-tab-group=9bd7e83c60854b8733e7f94131bbe39c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("9bd7e83c60854b8733e7f94131bbe39c","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("9bd7e83c60854b8733e7f94131bbe39c","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>paymentservice を version ごとに分析すると、どういうことが分かりますか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>v350.10バージョンの方がエラー率が高いことが分かります</strong></p></div></div></div></div><ul><li><em>v350.10</em> をクリックして、メニューの<strong>Trace</strong>を開いてみましょう。</li><li>画面右上に <em>Switch to TraceAnalyzer</em> というボタンがある場合は、これをクリックしてください。<ul><li>アプリケーションに対するリクエストが、どのように処理されたかをトレースし、エラーやボトルネックを特定したり、その処理の詳細を分析することができます</li><li>この画面では、トレースの一覧が表示されます</li></ul></li><li><em>Errors Only</em> のトグルを有効化してください。また、<em>Duration</em> をクリックして処理時間が長い順に並べ替えてください。</li></ul><p><a href=#R-image-8c7fe9298607b11f44ed270e85cf3d5d class=lightbox-link><img alt="APM Trace" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-trace.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8c7fe9298607b11f44ed270e85cf3d5d><img alt="APM Trace" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-trace.png></a></p><ul><li>最も処理時間が長いトレースの Trace ID をクリックします。</li><li>このトランザクションがどのように処理されたかを確認しましょう。</li></ul><p><a href=#R-image-b43e41e8e3d165b52b3290acbd7be470 class=lightbox-link><img alt="APM Trace Detail" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-trace-detail.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b43e41e8e3d165b52b3290acbd7be470><img alt="APM Trace Detail" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-trace-detail.png></a></p><ul><li>各行の処理を <strong>スパン(Span)</strong>、スパン全体を <strong>トレース(Trace)</strong> と呼びます。</li><li>赤とピンクの <strong>!</strong> マークアイコンを見つけられますか？ これはそれぞれ、一連のトランザクションの中でエラーを発生させたスパン（Root Cause Error）と、その影響で発生したエラーになったスパンとを区別して表示しています。<ul><li>選択されたトレースによっては、ピンクの <strong>!</strong> は表示されないかもしれません。</li></ul></li><li>いずれかのスパンをクリックすると、そのスパンに関連するタグ情報を確認することができます。</li><li>同じ処理が繰り返されている場合、スパンの左に <em>x6</em> のように反復回数が表示されることがあります。</li></ul><div class=tab-panel data-tab-group=82d89e83632f4deb441d9595da5f4559><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("82d89e83632f4deb441d9595da5f4559","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("82d89e83632f4deb441d9595da5f4559","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><ol><li><strong>根本原因のエラーが発生しているサービスは何ですか？そのエラーメッセージは何ですか？</strong></li><li><strong>このトレース処理に時間がかかっている原因として、どういったことが考えられますか？</strong></li></ol></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><ol><li><strong>paymentserviceです。エラーメッセージは <em>Invalid request</em> を記録しています</strong></li><li><strong>checkoutserviceとpaymentserviceでエラーが発生し、何度もリトライされていることで全体の処理時間が長くなっています</strong></li></ol></div></div></div></div><ul><li>画面の最下部には <strong>Infrastructure</strong> や <strong>Logs</strong> というボタンが表示されているはずです。これらは、この処理と関連するシステムのコンポーネントやログの存在を教えてくれます。</li><li><strong>Logs</strong> をクリックし、<strong>Logs for trace &mldr;</strong> から始まる箇所をクリックしてみましょう。</li></ul><p><a href=#R-image-4b94e9a36c1a44bd0b5234b8a949562c class=lightbox-link><img alt="APM Related Log" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-related-logs.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4b94e9a36c1a44bd0b5234b8a949562c><img alt="APM Related Log" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-related-logs.png></a></p><ul><li><strong>Log Observer</strong> の画面が表示されます。この画面では、先ほどのトレースに関連するログのみを自動で抽出して提示してくれています。</li><li>Log Observer の使い方は、次のワークショップコースの中で扱います。</li></ul><p><a href=#R-image-83e59d3c1236aedb499ef2f004f71a05 class=lightbox-link><img alt="APM Log from Trace" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-log-from-trace.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-83e59d3c1236aedb499ef2f004f71a05><img alt="APM Log from Trace" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-log-from-trace.png></a></p></div></div><p>次に、<strong>Splunk Log Observer (LO)</strong> をチェックしましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=log-observerの概要>Log Observerの概要</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>5 minutes</span></span><p>Log Observer Connect は、Splunk Platform 上に取得されたログデータを直感的かつ<strong>ノーコード</strong>のインターフェースにシームレスに取り込むことが可能で、素早く問題を見つけて修正できるよう設計されています。ログベースの分析を簡単に実行でき、Splunk Infrastructure Monitoring のリアルタイムメトリクスや Splunk APM のトレースを1つの画面でシームレスに関連付けて確認することができます。</p><p><strong>End to End の可視性:</strong> Splunk Platform の強力なログ機能を Splunk Observability Cloud のトレースとリアルタイムメトリクスと組み合わせることで、ハイブリッド環境のより深い洞察とコンテキストを提供します。</p><p><strong>迅速かつ簡単なログベースの調査:</strong> Splunk Cloud Platform または Enterprise に既に取り込まれているログを Splunk Observability Cloud の簡素で直感的なインターフェースで再利用することができます。カスタマイズできて、すぐに使えるダッシュボードも活用できます（SPL の知識は不要です！）</p><p><strong>大規模組織での利用が可能で、操作効率も向上:</strong> ログ管理をチームをまたいで一元化することで、データとチームの障壁を取り払い、システム全体に対するサポートを向上させます。</p><p><a href=#R-image-3cf62ed33634b56eddc363828f2212c8 class=lightbox-link><img alt="Logo graph" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/3-quick-tour/4-log-observer-home/images/logo-image-loop.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3cf62ed33634b56eddc363828f2212c8><img alt="Logo graph" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/3-quick-tour/4-log-observer-home/images/logo-image-loop.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><section><h1 class=a11y-only>4. Log Observerの概要のサブセクション</h1><article class=default><header class=headline></header><h1 id=log-observer-ホームページ>Log Observer ホームページ</h1><p>メインメニューで <strong>Log Observer</strong> をクリックしてみましょう。Log Observer ホームページは4つのセクションで構成されます。</p><p><a href=#R-image-a088dc3f703dffb45864de7a98b2708b class=lightbox-link><img alt="Lo Page" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/log-observer-main.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a088dc3f703dffb45864de7a98b2708b><img alt="Lo Page" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/log-observer-main.png></a></p><ol><li><strong>オンボーディングパネル:</strong> Splunk Log Observer を始めるためのトレーニングビデオとドキュメンテーションへのリンク。</li><li><strong>フィルターパネル:</strong> 時間枠、index、および Field に基づいてログをフィルタリングすることができます。また、事前に保存しておいたクエリを利用することもできます。</li><li><strong>Log table:</strong> 現在のフィルタ条件に一致するログエントリーのリスト。</li><li><strong>Fields:</strong> 現在選択されている index で使用可能なフィールドのリスト。</li></ol><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Splunk index</div><div class=box-content><p>一般的に、Splunk では「index」はデータが保存される指定された場所を指します。これはデータを格納するフォルダまたはコンテナのようなものです。 Splunk index 内のデータは検索と分析が容易になるように整理され構造化されています。異なるインデックスを作成して特定のタイプのデータを格納することができます。たとえば、Web サーバーログ用に1つの index、アプリケーションログ用に別の index を作成しておくようなことが可能です。</p></div></div><div class="box notices cstyle primary"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>これまでに Splunk Enterprise または Splunk Cloud を使用したことがある場合、おそらくログから調査を開始することに慣れているでしょう。このあとの Exercise でも同じように取り組むことは可能ですが、このワークショップでは調査にあたってすべての <strong>OpenTelemetry</strong> シグナルを使用していきます。</p></div></div><p>さて、簡単なログ検索の演習を行いましょう。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><p>まず、<code>visa</code> を使用した注文を検索してみます。</p><ul><li><p>時間枠を <strong>-15分</strong> に設定してください</p></li><li><p>Filter で <span class="btn cstyle gray"><span><span class=title>Add Filter</span></span></span> をクリックし、次にダイアログで <strong>Fields</strong> をクリックしてください。</p></li><li><p><strong>cardType</strong> と入力して選択してください</p></li><li><p><strong>Top values</strong> の下にある <strong>visa</strong> をクリックし、その後 <strong>=</strong> をクリックしてフィルターに追加しましょう。</p><p><a href=#R-image-a98f3fc4db5df5b17e49f53b3eac46dd class=lightbox-link><img alt="logo search" class="noborder lazy lightbox noshadow figure-image" loading=lazy src="../images/log-filter-bar.png?width=920px" style=height:auto;width:920px></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a98f3fc4db5df5b17e49f53b3eac46dd><img alt="logo search" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src="../images/log-filter-bar.png?width=920px"></a></p></li><li><p>ログテーブル内のログエントリの1つをクリックして、そのエントリに <code>cardType: "visa"</code> が含まれていることを確認してください。</p></li></ul><p>今度は出荷されたすべての注文を探してみましょう。</p><ul><li>Filter で <strong>Clear All</strong> をクリックして前のフィルターを削除してください。</li><li>再度 Filter で <span class="btn cstyle gray"><span><span class=title>Add Filter</span></span></span> をクリックし、次に <strong>Keyword</strong> を選択します。次に <strong>Enter Keyword&mldr;</strong> ボックスに <code>order:</code> と入力してエンターキーを押してください。</li><li>これで <code>order:</code> という単語を含むログ行しか表示されなくなります。まだ多くのログ行がありますので、さらにフィルタリングしていきましょう。</li><li>別のフィルターを追加します。今度は <strong>Fields</strong> ボックスを選択し、<strong>Find a field&mldr;</strong> と表示されている検索ボックスに <code>severity</code> と入力して選択してください。
<a href=#R-image-24312d5874d1b8f71f30198892a58ab5 class=lightbox-link><img alt=severity class="noborder lazy left lightbox noshadow figure-image" loading=lazy src="../images/find-severity.png?width=15vw&classes=left" style=height:auto;width:15vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-24312d5874d1b8f71f30198892a58ab5><img alt=severity class="noborder lazy left lightbox noshadow lightbox-image" loading=lazy src="../images/find-severity.png?width=15vw&classes=left"></a></li><li>ダイアログボックスの下部にある <span class="btn cstyle gray"><span><span class=title><strong>Exclude all logs with this fields</strong></span></span></span> をクリックしてください。注文ログ行には <code>severity</code> が割り当てられていないため、これにより不要なログ行を除外することができます。</li><li>画面上部にオンボーディングコンテンツが表示されている場合は、<strong>Exclude all logs with this fields</strong> ボタンを押すためにページをスクロールする必要があるかもしれません。</li><li>これで過去15分間に販売された注文のリストが表示されたはずです。</li></ul></div></div><p>次に、<strong>Splunk Synthetics</strong> を確認しましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=syntheticsの概要>Syntheticsの概要</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>5 minutes</span></span><p>Splunk Synthetic Monitoring は、URL、API、および重要な Web サービス全体に対する可視性を提供しており、問題の解決をより迅速に行うことができるようになります。IT 運用およびエンジニアリングチームは、簡単に問題を検出してアラートを発報したり、問題を優先順位づけすることができます。複数のステップから構成されるユーザージャーニーをシミュレーションしたり、新しいコードのデプロイがビジネスにどのような影響を与えるか測定したり、Web のパフォーマンスを最適化することも可能です。ステップバイステップのガイドにより、より良いデジタルエクスペリエンスを担保することにもつながります。</p><p><strong>可用性の確認:</strong> ブラウザテストによって、ユーザーエクスペリエンスを構成する多段階のワークフローをシミュレートすることができます。これにより、重要なサービス、URL、および API のヘルスステータスや可用性を監視、アラートすることができます。</p><p><strong>パフォーマンス指標の改善:</strong> Core Web Vitals およびモダンなパフォーマンスメトリクスを活用することで、すべてのパフォーマンスに関する問題点を1つの画面上で確認することができます。ページパフォーマンスを改善するために必要となるページの読み込み、対話性、視覚的な安定性に関するメトリクスを測定・改善したり、JavaScript エラーを見つけて修正したりすることができます。</p><p><strong>フロントエンドからバックエンドまで:</strong> Splunk APM、Infrastructure Monitoring、On-Call、および ITSI との統合により、チームはバックエンドサービスやこれを支えるインフラストラクチャの状況、インシデント対応状況を踏まえたエンドポイントの稼働状態を確認することができ、環境全体を横断的に捉えてトラブルシュートを行うことができます。</p><p><strong>問題の検知とアラート:</strong> エンドユーザーエクスペリエンスを監視およびシミュレートすることで、顧客に影響を与える前に API やサービスエンドポイント、重要なビジネストランザクションに対する問題を検知、アラートし、解決することができます。</p><p><strong>ビジネスパフォーマンス:</strong> 主要なビジネストランザクションのために多段階のユーザーフローを簡単に定め、レコーディングすることで、数分でクリティカルなユーザージャーニーに関するテストを開始することができます。アップタイムやパフォーマンスに関わる SLA および SLO をトラックし、通知してくれます。</p><p><strong>表示画面の記録とビデオ再生:</strong> 録画した画面や操作の再生、スクリーンショットの取得を行うことが可能で、現代でよく用いられるパフォーマンススコア、比較用のベンチマーク指標、エンドユーザーの体感を数値化したメトリクスとともに確認することができます。ビジュアルコンテンツの配信速度を最適化し、ページの安定性や対話性を向上させることで、より良いデジタルエクスペリエンスを展開することができます</p><p><a href=#R-image-c57342b3c692f42d270c90dd31120a24 class=lightbox-link><img alt="Synthetics overview" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/3-quick-tour/5-synthetics-home/images/synthetic-tests.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c57342b3c692f42d270c90dd31120a24><img alt="Synthetics overview" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/3-quick-tour/5-synthetics-home/images/synthetic-tests.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><section><h1 class=a11y-only>5. Syntheticsの概要のサブセクション</h1><article class=default><header class=headline></header><h1 id=syntheticsホームページ>Syntheticsホームページ</h1><p><strong>Synthetics</strong> をメインメニューでクリックしてみましょう。Synthetics ホームページに移動したはずです。このページには、役立つ情報を確認したり、Synthetic テストを選択または作成する3つのセクションがあります。</p><p><a href=#R-image-f8495d048c5bf167141b4b311adeb98e class=lightbox-link><img alt="Synthetic main" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/synthetics-main.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f8495d048c5bf167141b4b311adeb98e><img alt="Synthetic main" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/synthetics-main.png></a></p><ol><li><strong>オンボーディングパネル:</strong> Splunk Synthetics を始めるためのトレーニングビデオとドキュメンテーションへのリンク。</li><li><strong>テストパネル:</strong> 設定されているすべてのテストのリスト（<strong>Browser</strong>、<strong>API</strong>、および <strong>Uptime</strong>）</li><li><strong>Add new test:</strong> 新しい Synthetic テストを作成するためのドロップダウン。</li></ol><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>ワークショップの一環として、実行中のアプリケーションに対するブラウザーテストを用意しています。テストパネル（<strong>2</strong>）で見つけることができるはずです。テストの名前は <strong>Workshop Browser Test for</strong> のあとにワークショップの名前を続けたものとなります（講師が名前をご連絡いたします）。</p></div></div><p>ツアーを続けましょう。ワークショップ用の Browser Test の結果を見てみます。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>テストパネルで、ワークショップの名前が含まれている行をクリックします。以下のように表示されるはずです。</li></ul><p><a href=#R-image-6f91e6a09356229c5a20542f4f02e68a class=lightbox-link><img alt=Synthetics-overview class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/synthetics-test-overview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6f91e6a09356229c5a20542f4f02e68a><img alt=Synthetics-overview class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/synthetics-test-overview.png></a></p><ul><li>Synthetic Tests ページでは、最後の1日、8日、および30日の間にサイトのパフォーマンスが表示されます。上のスクリーンショットに示されているように、テストがその期間より前に開始されていれば、対応するチャートにデータが表示されます。テストが作成された時点によっては、一部のデータが表示されない場合があります。</li><li>Performance KPI のドロップダウンで、デフォルトの last 4 hours から last 1 hour に時間を変更してください。</li></ul><div class=tab-panel data-tab-group=b20697e3d8048fede2a3e93acef66b53><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("b20697e3d8048fede2a3e93acef66b53","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("b20697e3d8048fede2a3e93acef66b53","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>テストはどれくらいの頻度で実行され、どこから実行されていますか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>テストはフランクフルト、ロンドン、およびパリから、1分間隔のラウンドロビンで実行されます</strong></p></div></div></div></div></div></div><div class="box notices cstyle red"><div class=box-label><i class="fa-fw fas fa-running"></i> Additional Exercise</div><div class=box-content><p>テスト結果に基づいて問題調査を行ったり、監視設定を行う方法は、<strong><a href=https://splunk.github.io/observability-workshop/latest/ja/s4r/8-synthetics/index.html rel=external target=_blank>8. Splunk Synthetics</a></strong> で取り組んでいただくことが可能です。</p><p>実行したテストの詳細をもうすこし確認してみましょう。</p><ul><li>画面下部に、<strong>Recent run results</strong> という欄があるはずです。<em>Failed</em> になっている最新のテストをクリックしましょう</li><li>テスト結果の詳細画面が表示されます。</li></ul><p><a href=#R-image-79f47507aa8a85eca85d079f25979268 class=lightbox-link><img alt=Synthetics-detail class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/synthetic-detail.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-79f47507aa8a85eca85d079f25979268><img alt=Synthetics-detail class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/synthetic-detail.png></a></p><ul><li>画面最上部に赤くエラーが表示されていることを確認しましょう</li></ul><p><a href=#R-image-39300a8912111582588ff0c21e4014bb class=lightbox-link><img alt=Synthetics-error class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/synthetic-error.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-39300a8912111582588ff0c21e4014bb><img alt=Synthetics-error class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/synthetic-error.png></a></p><ul><li>1秒間隔のスクリーンショットが横並びに表示されています。<em>Every 1s</em> というプルダウンを変えると、スクリーンショットの表示間隔を変更できます</li><li>また、その右側には、録画再生ウィンドウがあるはずです。再生してみましょう</li><li>録画再生ウィンドウの下部には、この処理に関するパフォーマンス情報が表示されます。Web Vitalなどに基づいてパフォーマンスが可視化されています</li><li><em>Business Transaction</em> は、テストで確認したい処理をグループ化して定義したものです。また、<em>Pages</em> は、テストの中で開かれた Web ページの URL を示しています</li><li>それぞれクリックしてみると、それに該当する処理が画面下部に表示されます。どのような処理が順番に実施されたか、処理状況が示されています。</li><li><em>APM</em> というリンクが表示されているはずです<ul><li>バックエンドアプリケーションを APM で計装している場合、Synthetic テストと APM のトレースを紐づけることができます</li></ul></li></ul><div class=tab-panel data-tab-group=29f429c644bd6f4565e3bebfad4c1c3d><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("29f429c644bd6f4565e3bebfad4c1c3d","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("29f429c644bd6f4565e3bebfad4c1c3d","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>このテストはなぜ <em>Failed</em> と判断されましたか</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong><em>Place Order</em> 処理の後に <em>&ldquo;Order Confirmation ID&rdquo;</em> が表示されるまでに時間がかかり、タイムアウトしてしまった</strong></p></div></div></div></div></div></div><p>次に、<strong>Splunk Infrastructure Monitoring (IM)</strong> を使用してアプリケーションが実行されているインフラストラクチャを調査しましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=infrastructureの概要>Infrastructureの概要</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>5 minutes</span></span><p>Splunk Infrastructure Monitoring (IM) は、ハイブリッドクラウド環境向けモニタリングおよびオブザビリティサービスとして市場でも高い評価を得ています。Splunk IM は特許取得済みのストリーミングアーキテクチャに基づいて構成されており、従来のソリューションよりも短時間かつ高精度で、インフラストラクチャ、サービス、およびアプリケーションのパフォーマンスを視覚化・分析できる<strong>リアルタイム</strong>ソリューションを提供しています。</p><p><strong>OpenTelemetry 標準化:</strong> あなたのデータを完全にコントロールすることができます。ベンダーロックインから解放され、独自エージェントの導入が不要になります。</p><p><strong>Splunk の OTel Collector:</strong> シームレスなインストールとダイナミックな構成が可能で、ほんのわずかな時間ですべてのスタックに対して自動検出を行うことができます。これによりクラウド、サービス、およびシステム全体を横断的に可視化することができます。</p><p><strong>300 以上の簡単に使用できる OOTB コンテンツ:</strong> Navigator と Dashboard が事前に用意されており、あなたの環境全体をすぐに可視化できます。すべてのデータをリアルタイムに扱うことが可能です。</p><p><strong>Kubernetes ナビゲータ:</strong> すぐに利用できるプリセットのビューによって、ノード、Pod、およびコンテナの状態を包括的かつ構造的に理解できます。わかりやすく、インタラクティブなクラスターマップによって、初心者でも簡単に Kubernetes を理解できるでしょう。</p><p><strong>アラートの自動検出と Detector:</strong> メトリクス取得を行いはじめるとすぐに、重要なメトリクスを自動的に判別し、detector(アラート)の条件が生成されます。テレメトリデータが取り込まれた直後から正確なアラートを行うことができ、ほんのわずかな時間で重要なアラート通知をリアルタイムに受け取ることができます。</p><p><strong>ダッシュボード内のログ参照:</strong> ログメッセージとリアルタイムメトリクスを 1 ページで組み合わせて表示することができます。共通のフィルタ条件や時間制御により、共通のコンテキストに基づいて迅速にトラブルシューティングを行うことができます。</p><p><strong>メトリクスパイプラインの管理:</strong> データ取り込み時点でメトリクスのボリュームを制御することができます。Instrumentation（計装）を変更することなく、必要なデータのみを保存・分析できるようにデータ集約や破棄を設定できます。メトリクスのボリュームを削減し、オブザービリティに対する支出を最適化することができるはずです。</p><p><a href=#R-image-60cc4ff704e286a9bc5de14cc290e1e0 class=lightbox-link><img alt="Infrastructure Overview" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/3-quick-tour/6-infrastructure-home/images/infrastructure-overview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-60cc4ff704e286a9bc5de14cc290e1e0><img alt="Infrastructure Overview" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/3-quick-tour/6-infrastructure-home/images/infrastructure-overview.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><section><h1 class=a11y-only>6. Infrastructureの概要のサブセクション</h1><article class=default><header class=headline></header><h1 id=infrastructure-navigators>Infrastructure Navigators</h1><p><strong>Infrastructure</strong> をメインメニューでクリックします。Infrastructure ホームページは4つの異なるセクションで構成されています。</p><p><a href=#R-image-1b1526b84fb844b347dc3addd30811f1 class=lightbox-link><img alt="Infra main" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/infrastructure-main.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1b1526b84fb844b347dc3addd30811f1><img alt="Infra main" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/infrastructure-main.png></a></p><ol><li><strong>オンボーディングパネル:</strong> Splunk Infrastructure Monitoring を始める際に参照するトレーニングビデオとドキュメンテーションへのリンク。</li><li><strong>時間とフィルタパネル:</strong> 時間ウィンドウ（一覧画面上では設定変更できません）</li><li><strong>Integration パネル:</strong> Splunk Observability Cloud にメトリクスを送信しているすべてのテクノロジのリスト。</li><li><strong>タイルパネル:</strong> Integration によって監視されているサービスの合計数（Integration 別に表示）</li></ol><p>Infrastructure パネルを使用して、興味のあるインフラストラクチャ/テクノロジーを選択できます。やってみましょう。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><p>Integration パネルの <strong>Containers</strong> セクション（<strong>3</strong>）にある、<strong>Kubernetes</strong> を調査対象のテクノロジーとして選択します。</p></li><li><p><strong>K8s Nodes</strong> と <strong>K8s Workloads</strong> の2つのタイルが表示されるはずです。</p></li><li><p>各タイルの下部には過去の推移を表すグラフがあり、上部には現在発生しているアラートの数が表示されます。これらの追加情報は全てのタイルに表示されており、インフラストラクチャの健全性を概要として確認するのに役立つはずです。</p></li><li><p><strong>K8s Nodes</strong> タイルをクリックします。</p></li><li><p>Kubernetes クラスターが1つ以上の表示されます。</p></li><li><p>次に <span class="btn cstyle transparent"><span><span class=title>Add filters</span></span></span> ボタンをクリックします。 <code>k8s.cluster.name</code> と入力し、検索結果をクリックします。</p></li><li><p>リストから <strong>[WORKSHOPの名前]-k3s-cluster</strong> を選択し、<span class="btn cstyle blue"><span><span class=title>Apply Filter</span></span></span> ボタンをクリックします。</p><p><a href=#R-image-579d77df9dd673460340a361d456c97a class=lightbox-link><img alt=cluster class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/k8s-cluster.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-579d77df9dd673460340a361d456c97a><img alt=cluster class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/k8s-cluster.png></a></p></li><li><p>Kubernetes Navigator では、健全性を色で示します。ご覧の通り、2つの Pod またはサービスが健全ではなく、Failed 状態にあります（<strong>1</strong>）。残りは問題なく動いています。これは共用の Kubernetes 環境では一般的に発生することがあるもので、ワークショップではこれを再現しています。</p></li><li><p>サイドにあるタイルに注目してください。<strong>Nodes dependencies</strong>（<strong>2</strong>）の下に、MySQL と Redis のタイルが表示されています。これらは我々のeコマースアプリケーションで使用されている2つのデータベースです。</p></li></ul></div></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Node Dependencies</div><div class=box-content><p>OpenTelemetry Collector によるモニタリングが構成されている場合、選択したノードで実行されているサービスが UI 上に表示されます。</p></div></div><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>Redis</strong> タイルをクリックすると、<strong>Redis instances</strong> ナビゲータに移動します。<strong>REDIS INSTANCE</strong> の下で <strong>redis-[WORKSHOPの名前]</strong> をクリックします。</li><li>これにより、<strong>Redis instance</strong> に移動します。このナビゲータは、我々のeコマースサイトのアクティブな Redis インスタンスからのメトリクスデータを含むチャートを表示します。
<a href=#R-image-49222c8b799ce19506c7ea5b60e35a6c class=lightbox-link><img alt=redis class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/redis-2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-49222c8b799ce19506c7ea5b60e35a6c><img alt=redis class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/redis-2.png></a></li></ul><div class=tab-panel data-tab-group=e33eda0bb5530ebdc753a8b9e315930d><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("e33eda0bb5530ebdc753a8b9e315930d","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("e33eda0bb5530ebdc753a8b9e315930d","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>このビューでの Instance dependencies タイルの名前を挙げられますか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>はい、Kubernetes に関するタイルです。</strong></p></div></div></div></div><ul><li>タイルをクリックすると、Redis サービスを実行する Pod が表示される Pod レベルでの Kubernetes Navigator に移動します。</li><li>クラスターレベルに戻るには、画面の上部にある <strong>Cluster</strong>（<strong>1</strong>）のリンクをクリックします。</li></ul><p><a href=#R-image-4e07efa69644ef5c3248305254db05f2 class=lightbox-link><img alt=node class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/node-link.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4e07efa69644ef5c3248305254db05f2><img alt=node class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/node-link.png></a></p></div></div><p>これで <strong>Splunk Observability Cloud</strong> のツアーが完了しました。</p><p>さて、eコマースサイト「Online Boutique」にアクセスし、仮想のクレジット💶を使ってショッピングをしてみましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article></section></section><article class=default><header class=headline></header><h1 id=lets-go-shopping->Let's go shopping 💶</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>5 分</span></span><div class="box notices cstyle orange"><div class=box-label><i class="fa-fw fas fa-user"></i> ペルソナ</div><div class=box-content><p>あなたは<strong>都会に暮らす、流行に敏感な人です</strong>。有名なオンラインブティックショップで次の新しいアイテムを買いたくてウズウズしています。オンラインブティックは、あらゆる流行の最先端を求める人のニーズを満たす場所であると聞いています。</p></div></div><p>この演習の目的は、オンラインブティックのウェブアプリケーションとやり取りすることです。これは Splunk Observability Cloud の機能をデモンストレーションするために使用されるサンプルアプリケーションで、アイテムを閲覧し、カートに追加してからチェックアウトすることができるシンプルなeコマースサイトです。</p><p>アプリケーションは既に展開されており、インストラクターからオンラインブティックのウェブサイトへのリンクが提供されます。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise - ショッピングを始めましょう</div><div class=box-content><ul><li>オンラインブティックへのリンクが手に入ったら、いくつかのアイテムを見て、カートに追加して、最後にチェックアウトしてみてください。</li><li>この演習を数回繰り返し、可能であれば異なるブラウザ、モバイルデバイス、またはタブレットを使用してください。これにより、調査のために利用するより多くのデータを生成することができます。</li></ul></div></div><div class="box notices cstyle primary"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Hint</div><div class=box-content><p>ページの読み込みを待っている間に、マウスカーソルをページ上で動かしてください。これにより、後でこのワークショップで調査を行うためのさらに多くのデータが生成されます。</p></div></div><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise（続き）</div><div class=box-content><ul><li>チェックアウト処理で何か気づきませんか？ 完了までに時間がかかったように見えましたが、最終的には完了しましたか？ こういったことが発生した場合は、<strong>注文確認 ID (Order Confirmation ID)</strong> をコピーして、後で使用できるようにローカルに保存してください。</li><li>ショッピングに使用したブラウザセッションを閉じてください。</li></ul></div></div><p>ユーザーエクスペリエンスが悪いと感じるかもしれません。これは顧客満足度に影響を与える潜在的な問題なので、これを解決するために手を打ってみましょう。</p><p><a href=#R-image-60a987b3a36135087bcf52cd73a69c65 class=lightbox-link><img alt="Online Boutique" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/4-online-boutique/images/shop.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-60a987b3a36135087bcf52cd73a69c65><img alt="Online Boutique" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.74/ja/s4r/4-online-boutique/images/shop.png></a></p><p>では、<strong>Splunk RUM</strong> でデータがどのように見えるか、確認してみましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=splunk-rum>Splunk RUM</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>15 分</span></span><div class="box notices cstyle orange"><div class=box-label><i class="fa-fw fas fa-user"></i> ペルソナ</div><div class=box-content><p>あなたは<strong>フロントエンドエンジニア</strong>または <strong>SRE</strong> で、パフォーマンスの問題について最初のトリアージを実行するように指示されています。オンラインブティックアプリケーションに関する潜在的な顧客満足度の問題を調査するように求められています。</p></div></div><p>私たちは、すべての参加者のブラウザセッションから受信したテレメトリによって提供された実際のユーザーデータを調査します。目標は、パフォーマンスが低い可能性のあるブラウザ、モバイル、またはタブレットセッションを見つけ、トラブルシューティングプロセスを開始することです。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/05</span></span></footer></article><section><h1 class=a11y-only>5. Splunk RUMのサブセクション</h1><article class=default><header class=headline></header><h1 id=1-rum-ダッシュボード>1. RUM ダッシュボード</h1><p>Splunk Observability Cloud のメインメニューから <strong>RUM</strong> をクリックします。RUM ホームページに移動しますが、このビューは以前の短い紹介で既に見たことがあるでしょう。</p><p><a href=#R-image-46cd66309ffc4b98ce19450b5dc8f1fe class=lightbox-link><img alt="multiple apps" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/multiple-apps.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-46cd66309ffc4b98ce19450b5dc8f1fe><img alt="multiple apps" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/multiple-apps.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>あなたのワークショップ環境が選択されていることを確かめるために、次のようにドロップダウンが設定/選択されていることを確認してください。<ul><li><strong>時間枠</strong>が <strong>-15m</strong> に設定されています。</li><li><strong>Environment</strong> は <strong>[NAME OF WORKSHOP]-workshop</strong> が選択されています。</li><li><strong>App</strong> は <strong>[NAME OF WORKSHOP]-store</strong> が選択されています。</li><li><strong>Source</strong> は <strong>All</strong> に設定されています。</li></ul></li><li>次に、<strong>Page Views / JavaScript Errors</strong> チャートの上にある <strong>[NAME OF WORKSHOP]-store</strong> をクリックします。</li><li>これにより、新しいダッシュボードビューが表示され、メトリクスが <strong>UX Metrics</strong>、<strong>Front-end Health</strong>、<strong>Back-end Health</strong>、<strong>Custom Events</strong> に分解され、それらを過去のメトリクスと比較します（デフォルトでは1時間）。</li></ul></div></div><p><a href=#R-image-79a122acb8e309ad5eedb59e19727fc8 class=lightbox-link><img alt="RUM Dashboard" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-79a122acb8e309ad5eedb59e19727fc8><img alt="RUM Dashboard" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-dashboard.png></a></p><ul><li><strong>UX Metrics:</strong> ページビュー、ページ読み込み、Web Vitals メトリクス。</li><li><strong>Front-end Health:</strong> Javascript エラーおよび Long Task の期間と回数の分解。</li><li><strong>Back-end Health:</strong> ネットワークエラーおよびリクエスト、Time to First Byte。</li><li><strong>Custom Events:</strong> カスタムイベントの RED メトリクス（Rate、Error＆Duration）。</li></ul><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>各タブ（<strong>UX Metrics</strong>、<strong>Front-end Health</strong>、<strong>Back-end Health</strong>、<strong>Custom Events</strong>）をクリックしてデータを調査してください。</li></ul><div class=tab-panel data-tab-group=0c48712b141d76b6f934a915f1f299a6><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("0c48712b141d76b6f934a915f1f299a6","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("0c48712b141d76b6f934a915f1f299a6","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong><em>Custom Events</em> タブのチャートを調査した場合、処理時間の急激な増加を分かりやすく示しているチャートはどれですか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong><em>Custom Event Latency</em> チャートです。</strong></p></div></div></div></div></div></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=2-tag-spotlight>2. Tag Spotlight</h1><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><p><strong>Custom Events</strong> タブが選択されていることを確認してください。</p></li><li><p><strong>Custom Event Latency</strong> チャートを見てください。ここで表示されるメトリクスは、アプリケーションのレイテンシを示しています。横に表示されている比較メトリクスは、1時間前と比較したレイテンシを示しています（これは上部のフィルターバーで選択されています）。</p></li><li><p>チャートタイトルの下にある <strong>see all</strong> リンクをクリックします。</p></li></ul></div></div><p><a href=#R-image-6c1ea88a7a63d23207cbc390c5e7d1fb class=lightbox-link><img alt="RUM Tag Spotlight" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-tag-spotlight.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6c1ea88a7a63d23207cbc390c5e7d1fb><img alt="RUM Tag Spotlight" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-tag-spotlight.png></a></p><p>このダッシュボードビューでは、RUM データに関連付けられたすべてのタグが表示されます。タグは、データを識別するために使用されるキーと値のペアです。この場合、タグは OpenTelemetry の計装によって自動的に生成されます。これらのタグはデータをフィルタリングし、チャートやテーブルを作成するために使用されます。Tag Spotlight ビューを使用することで、ユーザーセッションに関するドリルダウンができます。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>タイムフレームを <strong>Last 1 hour</strong> に変更します。</li><li><strong>Add Filters</strong> をクリックし、<strong>OS Version</strong> を選択し、<strong>!=</strong> をクリックして <strong>Synthetics</strong> および <strong>RUMLoadGen</strong> を選択し、<span class="btn cstyle blue"><span><span class=title>Apply Filter</span></span></span> ボタンをクリックします。</li><li><strong>Custom Event Name</strong> チャートを見つけ、リストで <strong>PlaceOrder</strong> を見つけてクリックし、<strong>Add to filter</strong> を選択します。</li><li>グラフ上の大きなスパイクに注意してください。</li><li><strong>User Sessions</strong> タブをクリックします。</li><li>表の上で <strong>Duration</strong> 見出しを2回クリックして、セッションを持続時間の降順でソートします。</li><li>テーブルの上にある<i class="fa-fw fas fa-cog"></i>をクリックし、<strong>Sf Geo City</strong> を追加の列のリストから選択して、<span class="btn cstyle blue"><span><span class=title>Save</span></span></span> をクリックします。</li></ul></div></div><p>これで、最長の処理時間から降順に並べられ、サイトで買い物をしているすべてのユーザーの都市を含むユーザーセッションテーブルができました。さらにデータを絞り込むために、OSバージョン、ブラウザバージョンなどを適用できます。</p><p><a href=#R-image-756f28f86079cb14415a153d4b8b0e8e class=lightbox-link><img alt="RUM Tag Spotlight" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-user-sessions.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-756f28f86079cb14415a153d4b8b0e8e><img alt="RUM Tag Spotlight" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-user-sessions.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/16</span></span></footer></article><article class=default><header class=headline></header><h1 id=3-session-replay>3. Session Replay</h1><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> セッション</div><div class=box-content><p>セッションとはトレースの集合で、あるユーザーがアプリケーションを操作するときに実行されるアクションに対応しています。 デフォルトでは、セッションは、セッション内でキャプチャされた最後のイベントから 15 分が経過するまで継続します。 セッションの最大継続時間は 4 時間です。</p></div></div><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>User Sessions</strong> テーブルで、最長の <strong>Duration</strong>（20秒以上）を持つトップの <strong>Session ID</strong> をクリックします。これにより、RUM セッションビューに移動します。</li></ul></div></div><p><a href=#R-image-36955254f7aa36c22cc91b354624d6f8 class=lightbox-link><img alt="RUM Session" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-session.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-36955254f7aa36c22cc91b354624d6f8><img alt="RUM Session" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-session.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>RUM セッションリプレイ <span class="btn cstyle transparent"><span><i class="fa-fw fas fa-play"></i> <span class=title>Replay</span></span></span> ボタンをクリックします。RUM セッションリプレイを使用すると、ユーザーセッションを再生して表示できます。これはユーザーが実際にどのような体験をしたかを正確に確認できる素晴らしい方法です。</li><li>リプレイを開始するために再生ボタンをクリックします。</li></ul></div></div><p><a href=#R-image-fb351c00a3021c34adce9695a6034458 class=lightbox-link><img alt="RUM Session" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-session-replay.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fb351c00a3021c34adce9695a6034458><img alt="RUM Session" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-session-replay.png></a></p><p>RUM セッションリプレイでは、デフォルトでテキストがマスキングされますが、画像もマスキングできます（このワークショップの例ではマスキングされています）。これは、セッションに機密情報が含まれている場合に役立ちます。再生速度を変更したり、リプレイを一時停止したりすることもできます。</p><div class="box notices cstyle primary"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>セッションを再生する際に、マウスの動きがどのようにキャプチャされるかに注目してください。これは、ユーザーがどこに注意を集中しているかを確認するのに役立ちます。</p></div></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=4-user-sessions>4. User Sessions</h1><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>RUM Session Replay 右上の <strong>X</strong> をクリックして閉じます。前回の演習で <strong>PlaceOrder</strong> にフィルターを設定していました。この演習でも選択されているはずです。以下のスクリーンショット（<strong>1</strong>）に示されています。</li><li>スパンの長さに注意してください。これは注文を完了するのにかかった時間です。良くありません！</li><li>ページを下にスクロールすると、<strong>Tags</strong> メタデータ（Tag Spotlight で使用される）が表示されます。タグの後には、読み込まれたページオブジェクトが表示されます（HTML、CSS、画像、JavaScriptなど）。</li><li>ページを下にスクロールして、青い <strong>APM</strong> リンク（URLの末尾に <code>/cart/checkout</code> が含まれているもの）にカーソルを合わせます。</li></ul></div></div><p><a href=#R-image-da0af4ed688d130283b1baa5a901841e class=lightbox-link><img alt="RUM Session" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-waterfall.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-da0af4ed688d130283b1baa5a901841e><img alt="RUM Session" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-waterfall.png></a></p><p>これにより、APM パフォーマンスサマリーが表示されます。これはトラブルシューティング時に非常に役立つ End to End（RUM から APM への）ビューです。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>paymentservice</strong>（<strong>2</strong>）と <strong>checkoutservice</strong>（<strong>3</strong>）がエラー状態であることがスクリーンショットで確認できます。</li><li><strong>Workflow Name</strong> の下にある <code>front-end:/cart/checkout</code> をクリックすると、<strong>APM Service Map</strong> が表示されます。</li></ul></div></div><p><a href=#R-image-170188fa400368360804d58ffafa66e9 class=lightbox-link><img alt="RUM to APM" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-to-apm.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-170188fa400368360804d58ffafa66e9><img alt="RUM to APM" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-to-apm.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/16</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=splunk-apm>Splunk APM</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>20 minutes</span></span><div class="box notices cstyle orange"><div class=box-label><i class="fa-fw fas fa-user"></i> ペルソナ</div><div class=box-content><p>あなたは<strong>バックエンドの開発者</strong>で、SRE によって発見された問題の調査を支援するように呼ばれました。SRE はユーザーエクスペリエンスが悪いと特定し、その問題の調査をお願いしています。</p></div></div><p>RUM トレース（フロントエンド）から APM トレース（バックエンド）にジャンプすることで、完全な End to End の可視性の力を理解できるでしょう。すべてのサービスが Splunk Observability Cloud によって視覚化、分析、異常およびエラーの検出が可能となるテレメトリ（トレースやスパン）を送信しています。</p><p>RUM と APM は同じコインの両側面です。RUM はアプリケーションのクライアント側のビューであり、APM はサーバー側のビューです。このセクションでは、APM を使用してどこに問題が潜んでいるかドリルダウンし、特定します。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><section><h1 class=a11y-only>6. Splunk APMのサブセクション</h1><article class=default><header class=headline></header><h1 id=1-apm-explore>1. APM Explore</h1><p>APM サービスマップは、APM で計装されたサービス、および、存在が推測されるサービス間の依存関係とつながりを表示します。このマップは、時間範囲、環境、ワークフロー、サービス、およびタグのフィルタで選択した内容に基づいて動的に生成されます。</p><p>RUM ウォーターフォールで APM リンクをクリックすると、サービスマップビューに自動的にフィルタが追加され、その <strong>Workflow Name</strong>（<code>frontend:/cart/checkout</code>）に関与したサービスが表示されます。</p><p><strong>Service Map</strong> でワークフローに関係するサービスが表示されます。画面右側の <strong>Business Workflow</strong> の下には、選択したワークフローのチャートが表示されます。<strong>Service Map</strong> と <strong>Business Workflow</strong> のチャートは同期されています。<strong>Service Map</strong> 内であるサービスを選択すると、<strong>Business Workflow</strong> ペインのチャートが更新され、選択したサービスのメトリクスが表示されます。</p><p><a href=#R-image-2c112a8c1d0aee826197948d1a18f6ac class=lightbox-link><img alt="APM Business Workflow" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-business-workflow.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2c112a8c1d0aee826197948d1a18f6ac><img alt="APM Business Workflow" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-business-workflow.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>paymentservice</strong> を Service Map でクリックしてください。</li></ul></div></div><p><a href=#R-image-6447f53330746498757f89c041807ed7 class=lightbox-link><img alt="APM Explore" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-explore.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6447f53330746498757f89c041807ed7><img alt="APM Explore" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-explore.png></a></p><p>Splunk APM は、発生している問題をリアルタイムに確認し、特定のサービス、特定のエンドポイント、またはこれらを支えるインフラストラクチャに関連しているかどうかを迅速に判断するために利用できる、メトリクスをチャートとして可視化する一連の組み込みダッシュボードを提供しています。これを詳しく見てみましょう。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>paymentservice</strong> パネルの右上にある <strong>View Dashboard</strong> をクリックしてください。</li></ul></div></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=2-apm-service-dashboard>2. APM Service Dashboard</h1><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Service Dashboard</div><div class=box-content><p>APM サービスダッシュボードは、サービス、エンドポイント、および Business Workflow のエンドポイントスパンから生成されたモニタリングメトリクセットに基づいて、リクエスト、エラー、および所要時間（<strong>RED</strong>）メトリクスを提供します。ダッシュボードを下にスクロールすると、基盤や Kubernetes に関連するメトリクスも表示され、インフラストラクチャに問題があるかどうかを判断するのに役立ちます。</p></div></div><p><a href=#R-image-56c3ddda1db9f561cf80ee4cd3cda124 class=lightbox-link><img alt="Service Dashboard" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-service-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-56c3ddda1db9f561cf80ee4cd3cda124><img alt="Service Dashboard" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-service-dashboard.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>Time</strong> の枠 <strong>(1)</strong> を確認してください。ダッシュボードには、選択したアプリケーションの APM トレースによって取得された、処理にかかった時間に関するデータのみが表示されています（チャートは静的です）。</li><li><strong>Time</strong> の枠に <strong>-1h</strong> と入力し、Enter キーを押します。</li><li><strong>Request rate</strong>、<strong>Request latency (p90)</strong>、<strong>Error rate</strong> の Single Value チャートは 10 秒ごとに更新されており、引き続き多くのエラーが発生していることを示しています。</li><li>これらのチャートはパフォーマンスの問題を迅速に特定するのに非常に役立ちます。このダッシュボードを使用してサービスのヘルスステータスを監視したり、ダッシュボードを作成・構成する際のベースとして利用することができます。</li><li>これらのチャートをいくつか、後の演習で使用したいと思います。<ul><li><strong>Request rate</strong> Single Value チャート(<strong>2</strong>)で <strong>&mldr;</strong> をクリックし、<strong>Copy</strong> を選択します。これにより、ページの右上(<strong>3</strong>)の部分に <strong>1</strong> が表示され、クリップボードにコピーされたチャートがあることを示しています。</li><li><strong>Request rate</strong> の折れ線グラフ(<strong>4</strong>)では、<strong>Add to clipboard</strong> アイコンをクリックしてクリップボードに追加するか、<strong>&mldr;</strong> を使用して <strong>Add to clipboard</strong> を選択します。</li></ul></li><li>ページの右上(<strong>3</strong>)の部分に<strong>2</strong>が表示されていることを確認してください。</li><li>それでは、エクスプロービューに戻りましょう。ブラウザの &ldquo;戻る&rdquo; ボタンをクリックしてください。</li></ul></div></div><p><a href=#R-image-627b4b55ee3132d7dbc757a474a73162 class=lightbox-link><img alt="APM Explore" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-explore.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-627b4b55ee3132d7dbc757a474a73162><img alt="APM Explore" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-explore.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><div class=tab-panel data-tab-group=e68246627b2c713272e8cef9a2dc8fe6><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("e68246627b2c713272e8cef9a2dc8fe6","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("e68246627b2c713272e8cef9a2dc8fe6","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>サービスマップで <strong>paymentservice</strong> の上にカーソルを合わせてください。ポップアップして表示されたサービスに関するチャートからどんなことがわかりますか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>エラー率が非常に高いです。</strong></p></div></div></div></div></div></div><p><a href=#R-image-06e8108d27fabf84e59819cd512c6b02 class=lightbox-link><img alt="APM Service Chart" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-service-popup-chart.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-06e8108d27fabf84e59819cd512c6b02><img alt="APM Service Chart" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-service-popup-chart.png></a></p><p>このエラー率にパターンがあるかどうかを理解する必要があります。そのためには、<strong>Tag Spotlight</strong> が便利です。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=3-apm-tag-spotlight>3. APM Tag Spotlight</h1><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>paymentservice</strong> のタグを表示するには、<strong>paymentservice</strong> をクリックし、右側のメニューパネルで <strong>Tag Spotlight</strong> をクリックします（画面解像度によってはスクロールが必要な場合があります）。</li><li><strong>Tag Spotlight</strong> に移動したら、<strong>Show tags with no values</strong> のトグルスイッチがオフになっていることを確認してください。</li></ul></div></div><p><a href=#R-image-acb53c49e19efe53f1037479a9487a31 class=lightbox-link><img alt="APM Tag Spotlight" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-tag-spotlight.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-acb53c49e19efe53f1037479a9487a31><img alt="APM Tag Spotlight" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-tag-spotlight.png></a></p><p><strong>Tag Spotlight</strong> には、2つの表示モードがあります。デフォルトは <strong>Request/Errors</strong> で、もう1つは <strong>Latency</strong> です。</p><p>Request/Error チャートでは、リクエストの合計数、エラーの合計数、および根本原因のエラーが表示されます。Latency チャートでは、p50、p90、および p99 のレイテンシが表示されます。これらの値は、Splunk APM がインデックス化された各スパンタグに対して生成する Troubleshooting MetricSets（TMS）に基づいています。これらは RED メトリクス（リクエスト、エラー、および所要時間）として知られています。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><div class=tab-panel data-tab-group=d06f45aa8471892fca2544452cc167ad><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("d06f45aa8471892fca2544452cc167ad","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("d06f45aa8471892fca2544452cc167ad","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>どのチャートが問題を特定するタグでしょうか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong><em>version</em> チャートです。<code>v350.10</code> に対するリクエストの数はエラーの数と一致しています。</strong></p></div></div></div></div><ul><li>これで、問題を引き起こしている <strong>paymentservice</strong> のバージョンを特定したので、エラーに関する詳細情報を見つけることができるかどうかを確認してみましょう。ページの上部にある <strong>← Tag Spotlight</strong> をクリックして Service Map に戻ります。</li></ul></div></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=4-apm-service-breakdown>4. APM Service Breakdown</h1><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>右側のペインで <span class="btn cstyle grey"><span><span class=title>Breakdown</span></span></span> をクリックします。</li><li>リストから <code>tenant.level</code> を選択します。これは顧客のステータスを表すタグであり、顧客のステータスに関連するトレンドを見るのに役立ちます。</li><li>Service Map で <strong>gold</strong> をクリックして選択します。</li><li>さらに <span class="btn cstyle grey"><span><span class=title>Breakdown</span></span></span> をクリックし、<code>version</code> を選択します。これはサービスのバージョンを示すタグです。</li><li><strong>silver</strong> と <strong>bronze</strong> についても同様の手順を繰り返します。</li></ul><div class=tab-panel data-tab-group=287a19c72f6abfed20a9246f702b3684><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("287a19c72f6abfed20a9246f702b3684","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("287a19c72f6abfed20a9246f702b3684","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>確認できた内容から、どんな結論を得ることができますか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>すべてのテナントがバージョン <code>v350.10</code> による影響を受けている</strong></p></div></div></div></div></div></div><p><strong>paymentservice</strong> が <strong>gold</strong>、<strong>silver</strong>、<strong>bronze</strong> の3つのサービスに分けて表示されていることが分かるでしょう。各テナントはバージョン (<code>v350.10</code> と <code>v350.9</code>) ごとのサービスに分けられています。</p><p><a href=#R-image-414a386b0936aa29616fbc315c3c1cae class=lightbox-link><img alt="APM サービスのBreakdown" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-service-breakdown.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-414a386b0936aa29616fbc315c3c1cae><img alt="APM サービスのBreakdown" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-service-breakdown.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>3つの赤い円を囲む外側のメインボックスをクリックします。ボックスがハイライト表示されます。</li></ul></div></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> スパンのタグ</div><div class=box-content><p>スパンに付与されるタグに基づいてサービスの分析は非常に強力な機能です。これにより、異なる顧客、異なるバージョン、異なる地域などに対するサービスのパフォーマンスを確認できます。この演習では、<strong>paymentservice</strong> の <code>v350.10</code> がすべての顧客に問題を引き起こしていることが判明しました。</p></div></div><p>次に、トレースを詳細に調査して問題の原因を見つける必要があります。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=5-apm-trace-analyzer>5. APM Trace Analyzer</h1><p>Splunk APM では、<strong>NoSample</strong> の End to End の可視性が提供され、すべてのサービスのトレースがキャプチャされます。このワークショップでは、<strong>Order Confirmation ID</strong> がタグとして利用可能です。これにより、ワークショップの前半で遭遇したユーザーエクスペリエンスの問題のトレースを正確に検索できます。</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Trace Analyzer</div><div class=box-content><p>Splunk Observability Cloud は、アプリケーションモニタリングデータを探索するための複数のツールを提供しています。<strong>Trace Analyzer</strong> は、未知の問題や新しい問題を調査するために高カーディナリティで粒度の細かなデータを検索・探索するシナリオに適しています。</p></div></div><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>paymentservice</strong> の外側のボックスを選択した状態で、右側のペインで <strong>Traces</strong> をクリックします。</li><li><strong>Trace Analyzer</strong> を使用していることを確認するために、<span class="btn cstyle transparent"><span><span class=title>Switch to Classic View</span></span></span> が表示されていることを確認します。表示されていない場合は、<span class="btn cstyle blue"><span><span class=title>Switch to Trace Analyzer</span></span></span> をクリックします。</li></ul></div></div><p><a href=#R-image-38b9fc70b70805b45e8dfd0f30ea38ba class=lightbox-link><img alt="APM Trace Analyzer" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-trace-analyzer.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-38b9fc70b70805b45e8dfd0f30ea38ba><img alt="APM Trace Analyzer" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-trace-analyzer.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>表示する時間枠として <strong>Last 1 hour</strong> を選択します。</li><li>ほとんどのトレースがエラー（赤）であり、エラーのない（青の）トレースは限られています。</li><li><strong>Sample Ratio</strong> が <code>1:10</code> ではなく <code>1:1</code> に設定されていることを確認します。</li><li><strong>Add filters</strong> をクリックし、<code>orderId</code> を入力し、リストから <strong>orderId</strong> を選択します。</li><li>ワークショップの前半でショッピングを行った際の <strong>Order Confirmation ID</strong> を貼り付けて Enter キーを押します。入力する ID が分からない場合は、インストラクターにお問い合わせください。
<a href=#R-image-a26db2dc059ad468628efe217aad1deb class=lightbox-link><img alt="Traces by Duration" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-trace-by-duration.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a26db2dc059ad468628efe217aad1deb><img alt="Traces by Duration" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-trace-by-duration.png></a></li></ul></div></div><p>これで、あなたが体験した、チェックアウト処理で長時間待たされユーザーエクスペリエンスを損ねていた処理のトレースを絞り込むことができました。このトレースは最大13ヶ月間アクセスすることができます。そのため、例えば、開発者は後日この問題に再び取り組む際にも、このトレースを確認できるでしょう。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>リスト内のトレースをクリックします。</li></ul></div></div><p>次に、トレースのウォーターフォールを見ていきましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/11/20</span></span></footer></article><article class=default><header class=headline></header><h1 id=6-apm-waterfall>6. APM Waterfall</h1><p><strong>Trace Analyzer</strong> から <strong>Trace Waterfall</strong> に移動しました。トレースは、同じトレース ID を共有するスパンの集合であり、アプリケーションとその構成サービスによって処理される一意のトランザクションを表します。</p><p>Splunk APM の各スパンは、単一の操作をキャプチャします。Splunk APM は、スパンに記録された操作がエラーとなった場合、スパンをエラースパンと見なします。</p><p><a href=#R-image-9d468518627795b74e4cdf220fe72880 class=lightbox-link><img alt="Trace Waterfall" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-trace-waterfall.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9d468518627795b74e4cdf220fe72880><img alt="Trace Waterfall" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-trace-waterfall.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>ウォーターフォール内の <code>paymentservice:grpc.hipstershop.PaymentService/Charge</code> スパンの隣にある <span class="btn cstyle red"><span><span class=title>!</span></span></span> をクリックします。</li></ul><div class=tab-panel data-tab-group=669dd64dc5f192ee8e46a11d4981485f><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("669dd64dc5f192ee8e46a11d4981485f","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("669dd64dc5f192ee8e46a11d4981485f","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>スパンのメタデータに記録されているエラーメッセージとバージョンは何ですか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong><em>Invalid Request</em> と <code>v350.10</code></strong> です。</p></div></div></div></div></div></div><p>問題を引き起こしている <strong>paymentservice</strong> のバージョンを既に特定しているので、エラーに関してより詳細な情報を見つけられるか、やってみましょう。ここで <strong>Related logs</strong> が役立ちます。</p><p><a href=#R-image-b7c790d3aa994fa28b0c71332825dc23 class=lightbox-link><img alt="Related Logs" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-related-logs.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b7c790d3aa994fa28b0c71332825dc23><img alt="Related Logs" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-related-logs.png></a></p><p>関連するコンテンツは、特定のメタデータによって実現されており、これにより、APM, Infrastructure Monitoring, Log Observer が Splunk Observability Cloud 内でフィルター条件を共有することで可能になっています。Related Logs が機能するには、ログに次のメタデータが必要です。</p><ul><li><code>service.name</code></li><li><code>deployment.environment</code></li><li><code>host.name</code></li><li><code>trace_id</code></li><li><code>span_id</code></li></ul><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>Trace Waterfall</strong> の一番下で <strong>Logs (1)</strong> と書かれた部分をクリックします。これにより、このトレースに紐づく <strong>Related Logs</strong> があることが分かります。</li><li>ポップアップ内の <strong>Logs for trace XXX</strong> エントリをクリックすると、トレース全体と関係のあるログが <strong>Log Observer</strong> で表示されます。</li></ul></div></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=splunk-log-observer>Splunk Log Observer</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>20 分</span></span><div class="box notices cstyle orange"><div class=box-label><i class="fa-fw fas fa-user"></i> ペルソナ</div><div class=box-content><p>引き続き <strong>バックエンド開発者</strong> の役割で、アプリケーションのログを調査して問題の原因を特定する必要があります。</p></div></div><p>APM トレースに関連するコンテンツ（ログ）を使用して、Splunk Log Observer を使用して問題を正確に理解するために、深掘りをしていきます。</p><p>Related Content は、1つのコンポーネントから別のコンポーネントにジャンプするための強力な機能で、<strong>メトリクス</strong>、<strong>トレース</strong>、および <strong>ログ</strong> に対して利用できます。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/15</span></span></footer></article><section><h1 class=a11y-only>7. Splunk Log Observerのサブセクション</h1><article class=default><header class=headline></header><h1 id=1-log-filtering>1. Log Filtering</h1><p><strong>Log Observer (LO)</strong> は複数の方法で使用できます。クイックツアーでは、LO <strong>ノーコードインターフェース</strong> を使用してログの特定のエントリを検索しました。ただし、このセクションでは、APM のトレースから LO に移動したと想定しています。</p><p>RUM と APM の間のリンクと同じように、前のアクションのコンテキストを引き継いでログを調査することができるのは一つの利点です。今回の場合、時間枠（<strong>1</strong>）を見てみると、これはトレースが取得された時間帯と一致しています。また、Filter(<strong>2</strong>)にも、<strong>trace_id</strong> の情報が既に設定されています。</p><p><a href=#R-image-29586ca218dc2e458b872962d7508742 class=lightbox-link><img alt="Trace Logs" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/log-observer-trace-logs.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-29586ca218dc2e458b872962d7508742><img alt="Trace Logs" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/log-observer-trace-logs.png></a></p><p>このビューには、オンラインブティックでエンドユーザーが実施した操作によって実行されたバックエンドのトランザクションに関わる <strong>すべての</strong> アプリケーションまたはサービスの <strong>すべての</strong> ログ行が含まれます。</p><p>オンラインブティックのような小さなアプリケーションでも、膨大な量のログが検出され、調査対象となる実際のインシデントに関わる特定のログを見つけ出すのが難しくなる場合があります。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><p>ログに含まれるエラーメッセージだけにフォーカスする必要があります。</p><ul><li><strong>Group By</strong> ドロップダウンボックスをクリックして、<strong>Severity</strong> を検索します。</li><li>選択したら、<span class="btn cstyle blue"><span><span class=title>Apply</span></span></span> ボタンをクリックします（チャートの凡例が、debug、error、info に変化します）。
<a href=#R-image-291c7436e31bdf6418156ffcce95aa83 class=lightbox-link><img alt=legend class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/severity-logs.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-291c7436e31bdf6418156ffcce95aa83><img alt=legend class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/severity-logs.png></a></li><li>エラーログだけを選択するには、凡例の中の error（<strong>1</strong>）をクリックして、<strong>Add to filter</strong> を選択します。</li><li>複数のサービスに対するエラーログがある場合は、フィルタにサービス名 <code>sf_service=paymentservice</code> を追加することもできます。今回の場合は不要です。
<a href=#R-image-4201e4ad47dc05058659656c53f12265 class=lightbox-link><img alt="Error Logs" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/log-observer-errors.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4201e4ad47dc05058659656c53f12265><img alt="Error Logs" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/log-observer-errors.png></a></li></ul></div></div><p>次に、詳細なログエントリを見ていきましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=2-ログエントリの参照>2. ログエントリの参照</h1><p>特定のログ行を見る前に、これまでに何を行ってきたかと、オブザーバビリティの3本柱に基づいて、なぜここに辿り着いたのかを簡単に振り返りましょう。</p><table><thead><tr><th style=text-align:center>Metrics</th><th style=text-align:center>Traces</th><th style=text-align:center>Logs</th></tr></thead><tbody><tr><td style=text-align:center><em><strong>問題があるか？</strong></em></td><td style=text-align:center><em><strong>問題はどこにあるか？</strong></em></td><td style=text-align:center><em><strong>問題は何か？</strong></em></td></tr></tbody></table><ul><li>メトリクスを使用して、アプリケーションに<strong>問題がある</strong>ことが判明しました。これは、サービスダッシュボードのエラーレートが本来の状態よりも高かったことから明らかです。</li><li>トレースとスパンタグを使用して、<strong>問題がどこにあるか</strong>を見つけました。 <strong>paymentservice</strong> は <code>v350.9</code> と <code>v350.10</code> の2つのバージョンで構成されており、 <code>v350.10</code> に対するエラーレートは <strong>100%</strong> でした。</li><li>バージョン <code>v350.10</code> の <strong>paymentservice</strong> から生成されるエラーがオンラインブティックのチェックアウト処理の応答において、複数回の再試行と長時間の遅延を引き起こしていたことを確認しました。</li><li>トレースから <strong>Related Content</strong> の強力な機能を使用して、失敗した <strong>paymentservice</strong> バージョンのログエントリに到達しました。これにより、問題が <strong>何であるか</strong> を特定できるようになりました。</li></ul><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>Logs tables のエラーエントリをクリックします（異なるサービスからのまれなエラーがある場合は、エントリに <code>hostname: "paymentservice-xxxx"</code> と表示されていることを確認してください）。</li></ul><div class=tab-panel data-tab-group=a7dadaa50befe39baf2e7c75e32d5a7c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=質問 class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("a7dadaa50befe39baf2e7c75e32d5a7c","質問")'>
<span class=tab-nav-text>質問</span>
</button>
<button data-tab-item=回答 class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("a7dadaa50befe39baf2e7c75e32d5a7c","回答")'>
<span class=tab-nav-text>回答</span></button></div><div class=tab-content-container><div data-tab-item=質問 class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>メッセージを踏まえ、問題を解決するためには開発チームに何を伝える必要がありますか？</strong></p></div></div><div data-tab-item=回答 class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>開発チームは、有効なAPIトークンを使用してコンテナを再構築およびデプロイするか、 <code>v350.9</code> にロールバックする必要があります。</strong></p></div></div></div></div><p><a href=#R-image-5757b16dd251aae37d6f5598e5e8ba2e class=lightbox-link><img alt="Log Message" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/log-observer-log-message.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5757b16dd251aae37d6f5598e5e8ba2e><img alt="Log Message" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/log-observer-log-message.png></a></p><ul><li>ログメッセージペインの <strong>X</strong> をクリックして閉じます。</li></ul></div></div><div class="box notices cstyle blue"><div class=box-label><i class="fa-fw fas fa-wine-bottle"></i> おめでとうございます</div><div class=box-content><p>Splunk Observability Cloud を使用することで、オンラインブティックでのショッピング中にユーザーエクスペリエンスが悪かった原因を理解することができました。オブザーバビリティの3本柱である <strong>メトリクス</strong>、<strong>トレース</strong>、<strong>ログ</strong> に基づいて、RUM、APM、およびログを利用することで、サービス全体で何が起こっており、その後、その根底にある原因を見つけることができました。</p><p>また、Splunkが提供する、アプリケーションの振る舞いのパターンを検出する <strong>Tag Spotlight</strong> による<strong>インテリジェントなタグ付けと分析</strong>の機能や、問題のコンテキストを維持しながら異なるコンポーネント間を素早く移動する <strong>Related Contents</strong> によりスタック全体を相関させる機能についても、その使い方を理解したはずです。</p></div></div><p>ワークショップの次のパートでは、<strong>問題の特定</strong>から<strong>緩和</strong>、<strong>予防</strong>、および<strong>プロセスの改善</strong>に進んでいきます。</p><p>次に、カスタムダッシュボードでログチャートを作成します。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=3-log-timeline-chart>3. Log Timeline Chart</h1><p>Log Observer である固定のビューを持っておくと、ダッシュボードの中でそのビューを活用し、将来的に問題の検出と解決にかかる時間を削減することができるでしょう。ワークショップの一環として、これらのチャートを使用するカスタムダッシュボードの例を作成します。</p><p>まず、<strong>Log Timeline</strong> チャートの作成を見てみましょう。Log Timeline チャートは、時間の経過とともにログメッセージを表示するために使用されます。これはログメッセージの頻度を確認し、パターンを識別するのに適した表現方法です。また、環境全体でのログメッセージの出力傾向を確認するのにも適しています。これらのチャートはカスタムダッシュボードに保存できます。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><p>まず、表示するログの列を必要なものに絞り込みます。</p><ul><li><strong>Logs table</strong> 上の <strong>Configure Table</strong> <i class="fa-fw fas fa-cog"></i> アイコンをクリックして <strong>Table Settings</strong> を開きます。 <code>_raw</code> のチェックを外し、<code>k8s.pod_name</code>, <code>message</code>, <code>version</code> のフィールドが選択されていることを確認します。
<a href=#R-image-cb008baa7753190b8793b26a43b23d9c class=lightbox-link><img alt="Log Table Settings" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/log-observer-table.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cb008baa7753190b8793b26a43b23d9c><img alt="Log Table Settings" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/log-observer-table.png></a></li><li>固定の時間が入っている時間枠の設定を外し、 <strong>Last 15 minutes</strong> を設定します。</li><li>すべてのトレースに対してログ参照ができるように、フィルタ設定から <code>trace_id</code> を削除し、 <code>sf_service=paymentservice</code> および <code>sf_environment=[WORKSHOPNAME]</code> フィールドを追加します。</li><li><strong>Save</strong> をクリックし、<strong>Save to Dashboard</strong> を選択します。
<a href=#R-image-2b0d7dcfed699ded0da63d77ca1dc92d class=lightbox-link><img alt="save it" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/save-query.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2b0d7dcfed699ded0da63d77ca1dc92d><img alt="save it" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/save-query.png></a></li><li>チャート作成に関するダイアログが表示されます。<strong>Chart name</strong> に <code>Log Timeline</code> を入力します。</li><li>次に、<span class="btn cstyle blue"><span><span class=title>Select Dashboard</span></span></span> をクリックします。ダッシュボード選択のダイアログでは <span class="btn cstyle blue"><span><span class=title>New dashboard</span></span></span> をクリックします。</li><li><strong>New dashboard</strong> ダイアログで、新しいダッシュボードの名前を入力します（Description 欄は入力不要です）。名前には以下を使用します： <code>&lt;受講者のイニシャル> - Service Health Dashboard</code> と入力し、 <span class="btn cstyle blue"><span><span class=title>Save</span></span></span> をクリックします。</li><li>新しいダッシュボードがリストでハイライト表示されていることを確認し（<strong>1</strong>）、 <span class="btn cstyle blue"><span><span class=title>OK</span></span></span> をクリックします（<strong>2</strong>）。
<a href=#R-image-519ba8f7bf9d048a086205b63cbc44a7 class=lightbox-link><img alt="Save dashboard" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/dashboard-save.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-519ba8f7bf9d048a086205b63cbc44a7><img alt="Save dashboard" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/dashboard-save.png></a></li><li><strong>Chart Type</strong> として <strong>Log Timeline</strong> が選択されていることを確認します。
<a href=#R-image-5e8df48250310803b9479c6f4d578cbe class=lightbox-link><img alt="log timeline" class="noborder lazy left lightbox noshadow figure-image" loading=lazy src="../images/log-timeline.png?classes=left&width=25vw" style=height:auto;width:25vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5e8df48250310803b9479c6f4d578cbe><img alt="log timeline" class="noborder lazy left lightbox noshadow lightbox-image" loading=lazy src="../images/log-timeline.png?classes=left&width=25vw"></a></li><li>最後に <span class="btn cstyle transparent"><span><span class=title>Save</span></span></span> ボタンをクリックします（この時点で <strong>Save and goto dashboard</strong> をクリックしないでください）。</li></ul></div></div><p>次に、<strong>Log View</strong> チャートを作成します。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=4-log-view-chart>4. Log View Chart</h1><p>次に、ログに関するチャートタイプである <strong>Log View</strong> チャートタイプを見ていきます。このチャートを使用すると、事前に定義しておいたフィルタに基づいてログメッセージを表示できます。</p><p>前の Log Timeline チャートと同様に、Log View のチャートを Customer Health Service Dashboard に追加します。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>前の演習完了後、<strong>Log Observer</strong> 画面が表示されていることを確認してください。</li><li>フィルタ設定は前の演習と同じです。表示する時間枠を <strong>Last 15 minutes</strong> に設定し、<code>severity=error</code>、<code>sf_service=paymentservice</code> および <code>sf_environment=[WORKSHOPNAME]</code> でフィルタリングしているはずです。</li><li>Log Views のヘッダーについても、前の演習で設定したフィールドのみが選択されていることを確認してください。</li><li>再び <strong>Save</strong> をクリックしてから <strong>Save to Dashboard</strong> をクリックします。</li><li>これにより、改めて、チャート作成ダイアログが提供されます。</li><li><strong>Chart name</strong> に <strong>Log View</strong> を入力します。</li><li>今回は <span class="btn cstyle blue"><span><span class=title>Select Dashboard</span></span></span> をクリックし、前回の演習で作成したダッシュボードを検索します。検索ボックスにご自身のイニシャルを入力することで見つけることができるでしょう。（<strong>1</strong>）。
<a href=#R-image-8f4b5ce4778d6f8e4bb729c01b21c3e5 class=lightbox-link><img alt="search dashboard" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/search-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8f4b5ce4778d6f8e4bb729c01b21c3e5><img alt="search dashboard" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/search-dashboard.png></a></li><li>ダッシュボード名をクリックしてハイライト表示し（<strong>2</strong>）、 <span class="btn cstyle blue"><span><span class=title>OK</span></span></span> をクリックします（<strong>3</strong>）。</li><li>これで、チャート作成ダイアログに戻ります。</li><li><strong>Chart Type</strong> として <strong>Log View</strong> が選択されていることを確認してください。
<a href=#R-image-8f211ebb15a3b303c8a738da510b5277 class=lightbox-link><img alt="log view" class="noborder lazy left lightbox noshadow figure-image" loading=lazy src="../images/log-view.png?classes=left&width=30vw" style=height:auto;width:30vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8f211ebb15a3b303c8a738da510b5277><img alt="log view" class="noborder lazy left lightbox noshadow lightbox-image" loading=lazy src="../images/log-view.png?classes=left&width=30vw"></a></li><li>次に、<span class="btn cstyle blue"><span><span class=title>Save and go to dashboard</span></span></span> をクリックしてダッシュボードを表示します。</li><li>結果的に、以下のようなダッシュボードが表示されるはずです。
<a href=#R-image-0b6d9f059a53547c66fed38e6162bb1c class=lightbox-link><img alt="Custom Dashboard" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/log-observer-custom-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0b6d9f059a53547c66fed38e6162bb1c><img alt="Custom Dashboard" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/log-observer-custom-dashboard.png></a></li><li>この演習の最後のステップとして、ダッシュボードをワークショップのチームページに追加しましょう。ワークショップ中に後からダッシュボードを探すのが簡単になるはずです。</li><li>ページの上部で、ダッシュボード名の左にある <em><strong>&mldr;</strong></em> をクリックします（<strong>1</strong>）。
<a href=#R-image-93c4135b776ad2feacb5ad0a34155e73 class=lightbox-link><img alt=linking class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/linking.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-93c4135b776ad2feacb5ad0a34155e73><img alt=linking class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/linking.png></a></li><li>ドロップダウンから <strong>Link to teams</strong> を選択します（<strong>2</strong>）。</li><li>次に表示される <strong>Link to teams</strong> ダイアログで、インストラクターが提供したワークショップのチームを見つけ、 <span class="btn cstyle blue"><span><span class=title>Done</span></span></span> をクリックします。</li></ul></div></div><p>次のセッションでは、Splunk Synthetics を見て、Web ベースのアプリケーションのテストを自動化する方法を見ていきます。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/15</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=splunk-synthetics>Splunk Synthetics</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>15分</span></span><div class="box notices cstyle orange"><div class=box-label><i class="fa-fw fas fa-user"></i> ペルソナ</div><div class=box-content><p>あなたは <strong>SRE</strong> の帽子をかぶり、Online Boutique のモニタリングを設定するように求められました。アプリケーションが24時間365日利用可能で、パフォーマンスが良好であることを確認する必要があります。</p></div></div><p>アプリケーションのモニタリングを24時間365日行い、問題が発生したときにアラートを受け取ることができたら素晴らしいですよね？それが Synthetics の役割です。ここでは、Online Boutique での典型的なユーザージャーニーが問題なく、良好なパフォーマンスで利用できることを確認する、1分おきに実行されるシンプルなテストをご紹介します。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/15</span></span></footer></article><section><h1 class=a11y-only>8. Splunk Syntheticsのサブセクション</h1><article class=default><header class=headline></header><h1 id=1-synthetics-dashboard>1. Synthetics Dashboard</h1><p>Splunk Observability Cloud のメインメニューから <strong>Synthetics</strong> をクリックします。<strong>All</strong> または <strong>Browser tests</strong> をクリックして、アクティブなテストの一覧を表示します。</p><p>RUM セクションでの調査中、<strong>Place Order</strong> トランザクションに問題があることを見つけました。Synthetics テストでもこれを確認できるかどうか見てみましょう。テストの4番目のページ、つまり <strong>Place Order</strong> ステップのメトリック <strong>First byte time</strong> を使用します。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>Search</strong> ボックスに <strong>[WORKSHOP NAME]</strong> を入力し、ワークショップに対応するテストを選択します（インストラクターから指示します）。</li><li><strong>Performance KPIs</strong> の下部にある時間枠を <strong>-30m</strong> に設定し、Enter キーを押します。</li><li><strong>Location</strong> と表示されている箇所をクリックし、ドロップダウンから <strong>Page</strong> を選択します。隣の Filter 欄にはテストに含まれるページが表示されます。</li><li><strong>Duration</strong> と表示されている箇所をクリックして <strong>Duration</strong> の選択を解除し、<strong>First byte time</strong> を選択します。
<a href=#R-image-4958a0a72a41631d80ff369060e82368 class=lightbox-link><img alt="Transaction Filter" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/synthetics-transaction-filter.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4958a0a72a41631d80ff369060e82368><img alt="Transaction Filter" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/synthetics-transaction-filter.png></a></li><li>凡例を確認し、<strong>First byte time - Page 4</strong> の色に着目しましょう。</li><li><strong>First byte time - Page 4</strong> の値が最も大きくなるデータポイントを選択します。</li><li>右から新しいペインが表示されます。ペインの上部にある所要時間を確認してください。リスト内でこの所要時間が表示されている行を見つけ、クリックします。最も時間がかかったテスト結果を見つけられました。
<a href=#R-image-86bfb821f37413fec48d9e0cee23c225 class=lightbox-link><img alt="Multiple Runs" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/synthetics-multiple-runs.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-86bfb821f37413fec48d9e0cee23c225><img alt="Multiple Runs" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/synthetics-multiple-runs.png></a></li></ul></div></div><p>この特定のテスト実行に関して、<strong>Run results</strong> に移動して見てみましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/15</span></span></footer></article><article class=default><header class=headline></header><h1 id=2-synthetics-test-detail>2. Synthetics Test Detail</h1><p>現在、ある1つの Synthetic Browser Test の結果を見ています。このテストは <strong>Business Transactions</strong> として分けられています。これは、1つまたは複数の論理的に関連する操作の集合であり、ビジネスクリティカルなユーザーフローを表すものと考えてください。</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>以下のスクリーンショットにはエラーが含まれていませんが、みなさんのテスト結果にはエラーが含まれている場合があります。テスト実行は時折失敗する場合があるため、これは想定通りの挙動であり、ワークショップにも影響ありません。</p></div></div><p><a href=#R-image-68fb944f0e7eb23671958877aa66f053 class=lightbox-link><img alt=waterfall class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/synth-waterfall.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-68fb944f0e7eb23671958877aa66f053><img alt=waterfall class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/synth-waterfall.png></a></p><ol><li><strong>Filmstrip:</strong> サイトのパフォーマンスを一連のスクリーンショットで表示し、ページのリアルタイムな応答を確認できます。</li><li><strong>Video:</strong> テスト実行元デバイスや地理的な場所からテスト対象のサイトを読み込むユーザーがどのような体験をするかを確認できます。</li><li><strong>Browser test metrics:</strong> ウェブサイトのパフォーマンスの概要を確認することができます。</li><li><strong>Synthetic transactions:</strong> ユーザーとサイト間での通信や操作からなる Synthetic トランザクションをリスト表示しています。</li><li><strong>Waterfall chart:</strong> テスト実行元とテスト対象サイト間での通信や操作に関する一連の様子を視覚的に表現しています。</li></ol><p>デフォルトでは、Splunk Syntheticsはテストのスクリーンショットとビデオのキャプチャを提供します。これは問題のデバッグに役立ちます。たとえば、大きな画像の遅い読み込み、ページの遅い描画などが確認できます。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>マウスを使ってフィルムストリップを左右にスクロールし、テスト実行中、どのようにサイトが表示されていたかを確認します。</li><li>ビデオペインでは、再生ボタン <strong>▶</strong> を押して録画を再生できます。再生画面右下の <strong>⋮</strong> をクリックすると、再生速度を変更したり、<strong>Picture in Picture</strong> で表示したり、ビデオを <strong>Download</strong> したりできます。</li><li>Synthetic Transaction ペインで、<em>Business Transactions</em> のヘッダーの下に表示されている最初のボタン <span class="btn cstyle blue"><span><span class=title><strong>Home</strong></span></span></span> をクリックします。</li><li>以下のウォーターフォールでは、ページを構成するオブジェクトがすべて表示されます。最初の行は HTML ページそのものです。次の行はページを構成するオブジェクト（HTML、CSS、JavaScript、画像、フォントなど）です。</li><li>ウォーターフォールで <strong>GET</strong> <em>splunk-otel-web.js</em> の行を見つけます。</li><li><strong>></strong> ボタンをクリックして、メタデータセクションを開き、リクエスト/レスポンスヘッダー情報を確認します。</li><li>Synthetic Transaction ペインで、2番目の Business Transaction <span class="btn cstyle blue"><span><span class=title><strong>Shop</strong></span></span></span> をクリックします。フィルムストリップが調整され、新しいトランザクションの先頭に移動します。</li><li>他のトランザクションについても同様に繰り返し、最後に <span class="btn cstyle blue"><span><span class=title><strong>PlaceOrder</strong></span></span></span> トランザクションを選択します。</li></ul></div></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/15</span></span></footer></article><article class=default><header class=headline></header><h1 id=3-synthetics-to-apm>3. Synthetics to APM</h1><p>さきほどの演習を通じて、以下のような画面が表示されているはずです。</p><p><a href=#R-image-aef4228ef3f9b12a6d7d111c8566ca0b class=lightbox-link><img alt="Place Order" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/run-results-place-order.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-aef4228ef3f9b12a6d7d111c8566ca0b><img alt="Place Order" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/run-results-place-order.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>ウォーターフォールの中から <strong>POST checkout</strong> で始まるエントリを見つけます。</li><li>その前にある <strong>></strong> ボタンをクリックして、メタデータセクションを展開します。収集されているメタデータを観察してみてください。また、<strong>Server-Timing</strong> ヘッダーに着目してみましょう。このヘッダーにより、テスト実行の情報とバックエンドのトレースを関連付けることができます。</li><li>ウォーターフォールの中の <strong>POST checkout</strong> 行の前にある青い <i class="fa-fw fas fa-link"></i> <strong>APM</strong> リンクをクリックします。</li></ul></div></div><p><a href=#R-image-bf8336016326af7637b32ddaadad9784 class=lightbox-link><img alt="APM trace" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/apm-trace.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bf8336016326af7637b32ddaadad9784><img alt="APM trace" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/apm-trace.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><strong>paymentservice</strong> に1つ以上のエラーが表示されることを確認してください（<strong>1</strong>）。</li><li>同じエラーであることを確認するには、<strong>Logs</strong> の Related Contents をクリックします（<strong>2</strong>）。</li><li>以前の演習と同様に、エラーのみに絞り込むための手順を繰り返します。</li><li>エラーログを表示して、無効なトークンによって支払い処理が失敗したことを検証しましょう。</li></ul></div></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/15</span></span></footer></article><article class=default><header class=headline></header><h1 id=4-synthetics-detector>4. Synthetics Detector</h1><p>これらのテストは24時間365日実行できます。そのため、テストが失敗したり所定のSLAよりも処理時間がかかるようになりつつある場合に早期に警告を受けることができる理想的なツールです。ソーシャルメディアやウェブサイトの稼働チェックサイトなどから状態を通知されるような事態を防ぐことができます。</p><p><a href=#R-image-8a37c901c6e3321be1137f509f423139 class=lightbox-link><img alt="Social media" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/social-media-post.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8a37c901c6e3321be1137f509f423139><img alt="Social media" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/social-media-post.png></a></p><p>それでは、テストが1.1分以上かかる場合にエラーを検出しましょう。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li><p>左のメニューから Synthetics のホームページに戻ります。</p></li><li><p>ワークショップのテストをもう一度選択し、ページの上部の <span class="btn cstyle white"><span><span class=title>Create Detector</span></span></span> ボタンをクリックします。
<a href=#R-image-cff6d30d257a9c4f415e0b5c6c16ac6b class=lightbox-link><img alt="synth detector" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/synth-detector.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cff6d30d257a9c4f415e0b5c6c16ac6b><img alt="synth detector" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/synth-detector.png></a></p></li><li><p><strong>New Synthetics Detector</strong> (<strong>1</strong>) と表示されているテキストを編集し、<code>&lt;受講者のイニシャル> - [WORKSHOPNAME]</code> に置き換えます。</p></li><li><p>次に、<span class="btn cstyle transparent"><span><span class=title>Run duration</span></span></span> と <span class="btn cstyle transparent"><span><span class=title>Static threshold</span></span></span> が選択されていることを確認します。</p></li><li><p><strong>Trigger threshold</strong> （<strong>2</strong>）を <code>65,000</code> から <code>68,000</code> 程度に設定し、Enter キーを押してグラフを更新します。上記のように、しきい値を超えるスパイクが複数あることを確認してください（実際の処理時間に合わせてしきい値を調整する必要があるかもしれません）。</p></li><li><p>それ以外はデフォルトのままにします。</p></li><li><p>これで、スパイクの下に赤と白の三角形の列が表示されるようになります（<strong>3</strong>）。赤い三角形は、テストが指定されたしきい値を超過したことを示し、白い三角形は指定されたしきい値以下に戻ったことを示します。赤い三角形ごとにアラートがトリガーされます。</p></li><li><p>アラートの重大度（<strong>4</strong>）やアラートの方法を変更できます。 アラート受信者は追加しないでください。大量のアラート通知にさらされる可能性があります！</p></li><li><p>Detector を有効化するために、<span class="btn cstyle blue"><span><span class=title>Activate</span></span></span> をクリックします。</p></li><li><p>作成した Detector を表示するには、<span class="btn cstyle white"><span><span class=title>Edit Test</span></span></span> ボタンをクリックします。</p></li><li><p>ページの一番下にアクティブな Detector のリストがあります。</p><p><a href=#R-image-6d9b87233c13ae5ce440c183caa4ff3c class=lightbox-link><img alt="list of detectors" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/detector-list.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6d9b87233c13ae5ce440c183caa4ff3c><img alt="list of detectors" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/detector-list.png></a></p></li><li><p>自分のものが見つからない場合は、<em>New Synthetic Detector</em> という名前のものが表示され、名前が正しく保存されていない可能性があります。<em>New Synthetic Detector</em> リンクをクリックして、名前を再度変更してください。</p></li><li><p>編集モードを終了するには <span class="btn cstyle transparent"><span><span class=title>Close</span></span></span> ボタンをクリックします。</p></li></ul></div></div><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=カスタム-サービスヘルスダッシュボード->カスタム サービスヘルスダッシュボード 🏥</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>15 分</span></span><div class="box notices cstyle orange"><div class=box-label><i class="fa-fw fas fa-user"></i> ペルソナ</div><div class=box-content><p><strong>SRE</strong> の役割はあなたにぴったりです。そのため <strong>paymentservice</strong> 用のカスタムサービスヘルスダッシュボードを作り上げてほしいと求められています。要件は、RED メトリクス、ログ、および Synthetic テストの所要時間の結果を表示することです。</p></div></div><p>一般的に、開発チームやSREチームがアプリケーションやサービスのヘルスステータスの概要を必要とします。壁掛けのテレビ画面にこういった情報を常時表示しておくこともよくあります。Splunk Observability Cloud は、カスタムダッシュボードを作成することで、こういった要望に完璧に応えることができます。</p><p>このセクションでは、チームのモニターやテレビに表示するため、<strong>サービスヘルスダッシュボード</strong>を構築します。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><section><h1 class=a11y-only>9. Service Health Dashboardのサブセクション</h1><article class=default><header class=headline></header><h1 id=ダッシュボードの拡張>ダッシュボードの拡張</h1><p>すでに Log Observer の演習でダッシュボードに便利なログチャートを保存していますので、そのダッシュボードを拡張します。</p><p><a href=#R-image-06ae380571c4b4486c2a1adc9bcf04e1 class=lightbox-link><img alt="Wall mounted" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/wall-mount.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-06ae380571c4b4486c2a1adc9bcf04e1><img alt="Wall mounted" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/wall-mount.png></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>2つのログチャートが含まれたダッシュボードに戻るために、メインメニューから <strong>Dashboards</strong> をクリックし、Team Dashboard ビューに移動します。<strong>Dashboards</strong> の下にある <strong>Search dashboards</strong> をクリックして、Service Health Dashboard グループを検索します。</li><li>名前をクリックすると、以前に保存したダッシュボードが表示されます。
<a href=#R-image-9a7d3130442260270cb1d941cdaa6125 class=lightbox-link><img alt="log list" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../../7-log-observer/images/log-observer-custom-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9a7d3130442260270cb1d941cdaa6125><img alt="log list" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../../7-log-observer/images/log-observer-custom-dashboard.png></a></li><li>ログ情報は役に立ちますが、これが何かをチームメンバーが理解できるようにするには、もう少し情報が必要です。</li><li>まず最初のステップとして、ダッシュボードに説明チャートを追加してみましょう。<span class="btn cstyle grey"><span><span class=title>New text note</span></span></span> をクリックし、ノートのテキストを次のテキストに置き換えます。その後 <span class="btn cstyle blue"><span><span class=title>Save and close</span></span></span> ボタンをクリックし、チャートに <strong>Instructions</strong> という名前を付けます。</li></ul><div class="box notices cstyle grey"><div class=box-label>Text note に使用する情報</div><div class=box-content><p>これは <strong>Payment service</strong> 用のカスタムヘルスダッシュボードです。<br>ログに含まれるエラーに注意してください。<br>詳細については、<a href=https://https://www.splunk.com/en_us/products/observability.html rel=external target=_blank>リンク</a>を参照してください。</p></div></div><ul><li>チャートの順序があまりよくないので、役立つように順序を入れ替えてみましょう。</li><li>マウスを <strong>Instructions</strong> チャートの上端に移動させると、マウスポインタが <strong>☩</strong> に変わります。あなたはダッシュボード内でチャートをドラッグして移動することができます。<strong>Instructions</strong> チャートを左上の場所に移動させましょう。さらに、チャートの右端をドラッグしてページの 1/3 にサイズを変更しましょう。</li><li><strong>Log Timeline view</strong> チャートを <strong>Instruction</strong> チャートの横にドラッグして移動させ、ページの残りの 2/3 を埋めるようにサイズを変更します。</li><li>次に、<strong>Log lines</strong> チャートをページの幅にリサイズし、少なくとも2倍の長さにリサイズします。</li><li>以下のダッシュボードのようになったはずです。
<a href=#R-image-6996c7b5b2e1200faf60d594a33e876e class=lightbox-link><img alt="Initial Dashboard" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/inital-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6996c7b5b2e1200faf60d594a33e876e><img alt="Initial Dashboard" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/inital-dashboard.png></a></li></ul></div></div><p>見栄えが良くなりました。さらに続けて、役立ちそうなチャートを追加していきましょう。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=コピーしたチャートの追加>コピーしたチャートの追加</h1><p>このセクションでは、<strong>コピー＆ペースト</strong>の機能を使用してダッシュボードを拡張します。以前、APMサービスダッシュボードのセクションでチャートをコピーしました。これらのチャートをカスタムダッシュボードに追加します。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>ページの上部にある <strong>2+</strong> を選択し、<strong>Paste charts</strong> を選択します。カスタムダッシュボードにチャートを作成することができます。</li><li>チャートは現在、すべての <strong>Environments</strong> および <strong>Services</strong> のデータを表示しています。したがって、環境名と <strong>paymentservice</strong> にフィルタする設定を追加しましょう。</li><li><strong>Request Rate</strong> の単一の値が表示されているチャートの右上にある <strong>&mldr;</strong>（3つのドット）をクリックします。すると、このチャートが編集モードで開かれます。</li><li>新しい画面で、画面の中央にある<span class="btn cstyle blue"><span><span class=title>sf_environment:* x</span></span></span> ボタン（<strong>1</strong>）の <strong>x</strong> をクリックして閉じます。</li><li>次に、<span class="btn cstyle blue"><span><span class=title><strong>+</strong></span></span></span>をクリックして新しいフィルタを追加します。<strong>sf_environment</strong> を選択して、ドロップダウンから <strong>[WORKSHOPNAME]</strong> を選択して <strong>Apply</strong> をクリックします。ボタンは <strong>sf_environment:[WORKSHOPNAME]</strong> に変わります。</li><li>同様の操作を <span class="btn cstyle blue"><span><span class=title>sf_service</span></span></span> ボタン（<strong>2</strong>）に対して行います。 一度今の設定を削除して、<strong>sf_service</strong> に関するフィルタ設定を作成します。フィルタの対象として、<code>paymentservice</code> を指定します。
<a href=#R-image-e5b6961ca3b3dd95426f5dc07a6cb6e2 class=lightbox-link><img alt="edit chart" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/edit-chart.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e5b6961ca3b3dd95426f5dc07a6cb6e2><img alt="edit chart" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/edit-chart.png></a></li><li>設定が完了したら、<span class="btn cstyle blue"><span><span class=title>Save and close</span></span></span> ボタン（<strong>3</strong>）をクリックします。</li><li><strong>Request Rate</strong> の数値を表示しているチャートについても、前述の4つの手順を繰り返します。</li><li>2つのチャートを更新したら、<span class="btn cstyle blue"><span><span class=title>Save</span></span></span> をクリックします。</li><li>新しく貼り付けられたチャートはダッシュボードの一番下に表示されたため、再びダッシュボードを並べ替える必要があります。</li><li>既に学んだドラッグアンドドロップおよびサイズ変更を行い、ダッシュボードを以下の画像のように整えます。
<a href=#R-image-c4955c57afa8e27b8a0a46a9187f21fd class=lightbox-link><img alt="New dashboard look" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/copyandpastedcharts.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c4955c57afa8e27b8a0a46a9187f21fd><img alt="New dashboard look" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/copyandpastedcharts.png></a></li></ul></div></div><p>次に、実行中の Synthetic テストに基づいたカスタムチャートを作成します。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article><article class=default><header class=headline></header><h1 id=カスタムチャートの追加>カスタムチャートの追加</h1><p>ワークショップのこのセクションでは、ダッシュボードに追加するチャートを作成し、以前に構築した Detector と紐づけします。これにより、テスト時の振る舞いを確認し、テストによって SLA 違反が発生した場合にアラートを受け取ることができます。</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>ダッシュボードの上部で <strong>+</strong> をクリックし、<strong>Chart</strong> を選択します。
<a href=#R-image-83b7c480836dce1f080cdeb99b9e8e2a class=lightbox-link><img alt="new chart screen" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/new-chart.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-83b7c480836dce1f080cdeb99b9e8e2a><img alt="new chart screen" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/new-chart.png></a></li><li>まず、<span class="btn cstyle grey"><span><span class=title>Untitled chart</span></span></span> の入力フィールドを使用して、チャートの名前を <strong>Overall Test Duration</strong> にします。</li><li>このエクササイズでは、棒グラフまたはカラムグラフを使いたいので、チャートオプションの3番目のアイコン <i class="fa-fw fas fa-chart-bar"></i> をクリックします。</li><li><strong>Plot editor</strong> で、<strong>Signal</strong> の入力欄に <code>synthetics.run.duration.time.ms</code>（これはテストの実行の所要時間を表します）を入力し Enter キーを押します。</li><li>現時点では、異なる色の棒が表示されます。これはテスト実行元の地域ごとに色分けされたものです。ですが、これは不要なので、いくつかの解析ルールを追加してこの表示を変更できます。</li><li>では <span class="btn cstyle blue"><span><span class=title>Add analytics</span></span></span> ボタンをクリックします。</li><li>ドロップダウンから <strong>Mean</strong> オプションを選択し、<code>mean:aggregation</code> を選択してダイアログの外側をクリックします。メトリクスが統合され、チャートが単一の色に変わることに着目してください。</li><li>x 軸は現在、時間を表していません。これを変更するには、プロットラインの末尾にある設定 <i class="fa-fw fas fa-cog"></i> アイコンをクリックします。次のダイアログが表示されるはずです。
<a href=#R-image-2d5a2e49b8f266ae70b53c7bbf4425a5 class=lightbox-link><img alt="signal setup" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/signal-setup.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2d5a2e49b8f266ae70b53c7bbf4425a5><img alt="signal setup" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/signal-setup.png></a></li><li><strong>Display units</strong>（<strong>2</strong>）を <strong>None</strong> から <strong>Time (autoscaling)/Milliseconds(ms)</strong> に変更します。ドロップダウンが <strong>Millisecond</strong> に変わり、チャートの x 軸がテストの実行時間を表すようになります。</li><li>設定 <i class="fa-fw fas fa-cog"></i> アイコンまたは<span class="btn cstyle gray"><span><span class=title>close</span></span></span>ボタンをクリックし、ダイアログを閉じます。</li><li>Detector を追加するには、<span class="btn cstyle blue"><span><span class=title>Link Detector</span></span></span> ボタンをクリックして、以前に作成した Detector の名前を入力します。</li><li>Detector の名前をクリックして選択します。</li><li>チャートの周りにカラーの枠が表示されることに着目しましょう。これは、アラートの状態を示しています。ダッシュボードの上部にあるベルアイコンについても同様です。以下の画像のように見えるはずです。
<a href=#R-image-59319e186acb86ef565e7ecfad11d41f class=lightbox-link><img alt="detector added" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/detector-added.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-59319e186acb86ef565e7ecfad11d41f><img alt="detector added" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/detector-added.png></a></li><li>完了したら、<span class="btn cstyle blue"><span><span class=title>Save and close</span></span></span> ボタンをクリックします。</li><li>ダッシュボードで、チャートを以下のスクリーンショットのように移動させます。
<a href=#R-image-b32a2eee83a67084df9ce6105d284e70 class=lightbox-link><img alt="Service Health Dashboard" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/service-health-dashboard.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b32a2eee83a67084df9ce6105d284e70><img alt="Service Health Dashboard" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/service-health-dashboard.png></a></li><li>最後に、ページの上部の三点リーダー <strong>&mldr;</strong>（<strong>Event Overlay</strong> の横）をクリックし、<strong>View fullscreen</strong> をクリックします。これで壁に取り付けられたTVモニターで表示するのにも利用できます（戻るにはEscキーを押します）。</li></ul></div></div><div class="box notices cstyle primary"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>時間がある場合には、RUM メトリクスを使用してダッシュボードに別のカスタムチャートを追加してみてください。事前に用意・提供されている <strong>RUM applications</strong> ダッシュボードグループからチャートをコピーするか、<code>rum.client_error.count</code> を使用してアプリケーションのクライアントエラーの数を表示するチャートを作成できます。</p></div></div><p>最後に、ワークショップの締めくくりを行います。</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/15</span></span></footer></article></section><article class=default><header class=headline></header><h1 id=ワークショップのまとめ->ワークショップのまとめ 🎁</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>10 分</span></span><p>おめでとうございます！ <strong>Splunk4Rookies - Observability Cloud Workshop</strong> を完了しました。これで、あなたは Splunk Observability Cloud をどのように活用してアプリケーションとインフラストラクチャを監視すればよいか理解することができました。</p><p>この証明書を <span class="badge cstyle blue badge-with-title"><span class=badge-title><i class="fab fa-fw fa-linkedin-in"></i></span><span class=badge-content><a href='https://www.linkedin.com/profile/add?startTask=CERTIFICATION_NAME&name=Splunk4Rookies%20-%20Observability%20Cloud&organizationId=20226&issueYear
=2024&issueMonth=12&certUrl=https%3A%2F%2Fsplunk.github.io%2Fobservability-workshop%2Flatest%2Fen%2Fs4r%2Fimages%2Fcertificate.png' style=color:#fff target=_blank>LinkedIn</a>
</span></span>プロフィールに追加して、あなたの成し遂げたことをお祝いしましょう。</p><p>学んだことと、次にできることを振り返ってみましょう。</p><p><a href=#R-image-406bfb698548173ea9859c2d46b91656 class=lightbox-link><img alt=Champagne class="noborder lazy lightbox noshadow figure-image" loading=lazy src="/observability-workshop/v5.74/ja/s4r/10-wrap-up/images/champagne.png?width=45vw" style=height:auto;width:45vw></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-406bfb698548173ea9859c2d46b91656><img alt=Champagne class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src="/observability-workshop/v5.74/ja/s4r/10-wrap-up/images/champagne.png?width=45vw"></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/02/15</span></span></footer></article><section><h1 class=a11y-only>10. ワークショップのまとめのサブセクション</h1><article class=default><header class=headline></header><h1 id=主なポイント>主なポイント</h1><p>ワークショップでは、Splunk Observability Cloud と OpenTelemetry シグナル（<strong>メトリクス</strong>、<strong>トレース</strong>、<strong>ログ</strong>）を組み合わせることで、平均検出時間（<strong>MTTD</strong>）の短縮、平均解決時間（<strong>MTTR</strong>）の短縮にどれほど寄与するかを見てきました。</p><ul><li>主なユーザーインターフェースとそのコンポーネント、<em>ランディングページ、Infrastructure、APM、RUM、Synthetics、ダッシュボードページ</em> および <em>設定ページ</em>の理解を深めました。</li><li>時間の許す限り、<em>Infrastructure</em> の演習で Kubernetes ナビゲーターで使用される <em>メトリクス</em> を見て、Kubernetes クラスターで見つかった関連するサービスを確認しました。</li></ul><p><a href=#R-image-3bd9ce9ba22ab20ea50cd6b17b2ef97c class=lightbox-link><img alt=Kubernetes class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/infra.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3bd9ce9ba22ab20ea50cd6b17b2ef97c><img alt=Kubernetes class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/infra.png></a></p><ul><li>ユーザーが経験していることを理解し、RUM および APM を使用して特に時間のかかるページ読み込みをトラブルシュートしました。その際には、そのトレースをフロントエンドからバックエンドまで追跡し、ログエントリまで確認しました。
また、<em>RUM Session Replay</em> および <em>APM Dependency map</em> と <em>Breakdown</em> などのツールを使用して、問題の原因を発見しました。</li></ul><p><a href=#R-image-91631c6ef2e96575071fefb3e928db72 class=lightbox-link><img alt="rum and apm" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/rum-apm.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-91631c6ef2e96575071fefb3e928db72><img alt="rum and apm" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/rum-apm.png></a></p><ul><li>RUM および APM の両方で <em>Tag Spotlight</em> を使用して問題の影響範囲やパフォーマンス問題とエラーの傾向とコンテキストを理解しました。 <em>APM Trace waterfall</em> の <em>Span</em> を掘り下げて、サービスがどのように相互作用ているかを確認し、エラーを見つけました。</li></ul><p><a href=#R-image-93b2c820a9945193363affbcf3016d79 class=lightbox-link><img alt="tag and waterfall" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/tag-spotlight-waterfall.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-93b2c820a9945193363affbcf3016d79><img alt="tag and waterfall" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/tag-spotlight-waterfall.png></a></p><ul><li><em>Related content</em> 機能を使用して、<em>Trace</em> からその Trace に関連する <em>Logs</em> へのリンクを辿り、フィルターを使用して問題の正確な原因まで掘り下げました。</li></ul><p><a href=#R-image-c935249f680869fc6c9099f434293147 class=lightbox-link><img alt=logs class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/log.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c935249f680869fc6c9099f434293147><img alt=logs class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/log.png></a></p><ul><li><p>さらに、Synthetics を確認し、ここでウェブおよびモバイルトラフィックをシミュレートしました。 Synthetics テストを活用し、RUM / APM および Log Observer から見つけた内容を確認するとともに、テスト実行での所要時間が SLA を超えた場合に警告を受けられるように <em>Detector</em> を作成しました。</p></li><li><p>最後の演習では、開発者とSREがTVスクリーンで状態をチェックし続けられるように、ヘルスダッシュボードを作成しました。</p></li></ul><p><a href=#R-image-b72eca2928f590df4e70b207a571b824 class=lightbox-link><img alt="synth and TV" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=../images/synth-tv.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b72eca2928f590df4e70b207a571b824><img alt="synth and TV" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=../images/synth-tv.png></a></p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>2024/04/05</span></span></footer></article></section></section></div></main></div><script src=/observability-workshop/v5.74/js/clipboard.min.js?1733326651 defer></script><script src=/observability-workshop/v5.74/js/perfect-scrollbar.min.js?1733326651 defer></script><script src=/observability-workshop/v5.74/js/theme.js?1733326651 defer></script></body></html>